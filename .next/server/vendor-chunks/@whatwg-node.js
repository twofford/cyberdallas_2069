/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@whatwg-node";
exports.ids = ["vendor-chunks/@whatwg-node"];
exports.modules = {

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/AsyncDisposableStack.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/AsyncDisposableStack.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillAsyncDisposableStack = void 0;\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst SupressedError_js_1 = __webpack_require__(/*! ./SupressedError.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js\");\nconst symbols_js_1 = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/utils.js\");\nconst SuppressedError = globalThis.SuppressedError || SupressedError_js_1.PonyfillSuppressedError;\nclass PonyfillAsyncDisposableStack {\n    callbacks = [];\n    get disposed() {\n        return this.callbacks.length === 0;\n    }\n    use(value) {\n        if ((0, utils_js_1.isAsyncDisposable)(value)) {\n            this.callbacks.push(() => value[symbols_js_1.DisposableSymbols.asyncDispose]());\n        }\n        else if ((0, utils_js_1.isSyncDisposable)(value)) {\n            this.callbacks.push(() => value[symbols_js_1.DisposableSymbols.dispose]());\n        }\n        return value;\n    }\n    adopt(value, onDisposeAsync) {\n        if (onDisposeAsync) {\n            this.callbacks.push(() => onDisposeAsync(value));\n        }\n        return value;\n    }\n    defer(onDisposeAsync) {\n        if (onDisposeAsync) {\n            this.callbacks.push(onDisposeAsync);\n        }\n    }\n    move() {\n        const stack = new PonyfillAsyncDisposableStack();\n        stack.callbacks = this.callbacks;\n        this.callbacks = [];\n        return stack;\n    }\n    disposeAsync() {\n        return this[symbols_js_1.DisposableSymbols.asyncDispose]();\n    }\n    _error;\n    _iterateCallbacks() {\n        const cb = this.callbacks.pop();\n        if (cb) {\n            return (0, promise_helpers_1.handleMaybePromise)(cb, () => this._iterateCallbacks(), error => {\n                this._error = this._error ? new SuppressedError(error, this._error) : error;\n                return this._iterateCallbacks();\n            });\n        }\n    }\n    [symbols_js_1.DisposableSymbols.asyncDispose]() {\n        const res$ = this._iterateCallbacks();\n        if (res$?.then) {\n            return res$.then(() => {\n                if (this._error) {\n                    const error = this._error;\n                    this._error = undefined;\n                    throw error;\n                }\n            });\n        }\n        if (this._error) {\n            const error = this._error;\n            this._error = undefined;\n            throw error;\n        }\n        return undefined;\n    }\n    [Symbol.toStringTag] = 'AsyncDisposableStack';\n}\nexports.PonyfillAsyncDisposableStack = PonyfillAsyncDisposableStack;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvQXN5bmNEaXNwb3NhYmxlU3RhY2suanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0NBQW9DO0FBQ3BDLDBCQUEwQixtQkFBTyxDQUFDLG9HQUE4QjtBQUNoRSw0QkFBNEIsbUJBQU8sQ0FBQyxvR0FBcUI7QUFDekQscUJBQXFCLG1CQUFPLENBQUMsc0ZBQWM7QUFDM0MsbUJBQW1CLG1CQUFPLENBQUMsa0ZBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvQXN5bmNEaXNwb3NhYmxlU3RhY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsQXN5bmNEaXNwb3NhYmxlU3RhY2sgPSB2b2lkIDA7XG5jb25zdCBwcm9taXNlX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzXCIpO1xuY29uc3QgU3VwcmVzc2VkRXJyb3JfanNfMSA9IHJlcXVpcmUoXCIuL1N1cHJlc3NlZEVycm9yLmpzXCIpO1xuY29uc3Qgc3ltYm9sc19qc18xID0gcmVxdWlyZShcIi4vc3ltYm9scy5qc1wiKTtcbmNvbnN0IHV0aWxzX2pzXzEgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbmNvbnN0IFN1cHByZXNzZWRFcnJvciA9IGdsb2JhbFRoaXMuU3VwcHJlc3NlZEVycm9yIHx8IFN1cHJlc3NlZEVycm9yX2pzXzEuUG9ueWZpbGxTdXBwcmVzc2VkRXJyb3I7XG5jbGFzcyBQb255ZmlsbEFzeW5jRGlzcG9zYWJsZVN0YWNrIHtcbiAgICBjYWxsYmFja3MgPSBbXTtcbiAgICBnZXQgZGlzcG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrcy5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIHVzZSh2YWx1ZSkge1xuICAgICAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNBc3luY0Rpc3Bvc2FibGUpKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaCgoKSA9PiB2YWx1ZVtzeW1ib2xzX2pzXzEuRGlzcG9zYWJsZVN5bWJvbHMuYXN5bmNEaXNwb3NlXSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoMCwgdXRpbHNfanNfMS5pc1N5bmNEaXNwb3NhYmxlKSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goKCkgPT4gdmFsdWVbc3ltYm9sc19qc18xLkRpc3Bvc2FibGVTeW1ib2xzLmRpc3Bvc2VdKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgYWRvcHQodmFsdWUsIG9uRGlzcG9zZUFzeW5jKSB7XG4gICAgICAgIGlmIChvbkRpc3Bvc2VBc3luYykge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaCgoKSA9PiBvbkRpc3Bvc2VBc3luYyh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZGVmZXIob25EaXNwb3NlQXN5bmMpIHtcbiAgICAgICAgaWYgKG9uRGlzcG9zZUFzeW5jKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKG9uRGlzcG9zZUFzeW5jKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlKCkge1xuICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBQb255ZmlsbEFzeW5jRGlzcG9zYWJsZVN0YWNrKCk7XG4gICAgICAgIHN0YWNrLmNhbGxiYWNrcyA9IHRoaXMuY2FsbGJhY2tzO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdO1xuICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgfVxuICAgIGRpc3Bvc2VBc3luYygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbc3ltYm9sc19qc18xLkRpc3Bvc2FibGVTeW1ib2xzLmFzeW5jRGlzcG9zZV0oKTtcbiAgICB9XG4gICAgX2Vycm9yO1xuICAgIF9pdGVyYXRlQ2FsbGJhY2tzKCkge1xuICAgICAgICBjb25zdCBjYiA9IHRoaXMuY2FsbGJhY2tzLnBvcCgpO1xuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKShjYiwgKCkgPT4gdGhpcy5faXRlcmF0ZUNhbGxiYWNrcygpLCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSB0aGlzLl9lcnJvciA/IG5ldyBTdXBwcmVzc2VkRXJyb3IoZXJyb3IsIHRoaXMuX2Vycm9yKSA6IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVyYXRlQ2FsbGJhY2tzKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBbc3ltYm9sc19qc18xLkRpc3Bvc2FibGVTeW1ib2xzLmFzeW5jRGlzcG9zZV0oKSB7XG4gICAgICAgIGNvbnN0IHJlcyQgPSB0aGlzLl9pdGVyYXRlQ2FsbGJhY2tzKCk7XG4gICAgICAgIGlmIChyZXMkPy50aGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzJC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQXN5bmNEaXNwb3NhYmxlU3RhY2snO1xufVxuZXhwb3J0cy5Qb255ZmlsbEFzeW5jRGlzcG9zYWJsZVN0YWNrID0gUG9ueWZpbGxBc3luY0Rpc3Bvc2FibGVTdGFjaztcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/AsyncDisposableStack.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/DisposableStack.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/DisposableStack.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillDisposableStack = void 0;\nconst SupressedError_js_1 = __webpack_require__(/*! ./SupressedError.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js\");\nconst symbols_js_1 = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/utils.js\");\nconst SuppressedError = globalThis.SuppressedError || SupressedError_js_1.PonyfillSuppressedError;\nclass PonyfillDisposableStack {\n    callbacks = [];\n    get disposed() {\n        return this.callbacks.length === 0;\n    }\n    use(value) {\n        if ((0, utils_js_1.isSyncDisposable)(value)) {\n            this.callbacks.push(() => value[symbols_js_1.DisposableSymbols.dispose]());\n        }\n        return value;\n    }\n    adopt(value, onDispose) {\n        if (onDispose) {\n            this.callbacks.push(() => onDispose(value));\n        }\n        return value;\n    }\n    defer(onDispose) {\n        if (onDispose) {\n            this.callbacks.push(onDispose);\n        }\n    }\n    move() {\n        const stack = new PonyfillDisposableStack();\n        stack.callbacks = this.callbacks;\n        this.callbacks = [];\n        return stack;\n    }\n    dispose() {\n        return this[symbols_js_1.DisposableSymbols.dispose]();\n    }\n    _error;\n    _iterateCallbacks() {\n        const cb = this.callbacks.pop();\n        if (cb) {\n            try {\n                cb();\n            }\n            catch (error) {\n                this._error = this._error ? new SuppressedError(error, this._error) : error;\n            }\n            return this._iterateCallbacks();\n        }\n    }\n    [symbols_js_1.DisposableSymbols.dispose]() {\n        this._iterateCallbacks();\n        if (this._error) {\n            const error = this._error;\n            this._error = undefined;\n            throw error;\n        }\n    }\n    [Symbol.toStringTag] = 'DisposableStack';\n}\nexports.PonyfillDisposableStack = PonyfillDisposableStack;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvRGlzcG9zYWJsZVN0YWNrLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQjtBQUMvQiw0QkFBNEIsbUJBQU8sQ0FBQyxvR0FBcUI7QUFDekQscUJBQXFCLG1CQUFPLENBQUMsc0ZBQWM7QUFDM0MsbUJBQW1CLG1CQUFPLENBQUMsa0ZBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvRGlzcG9zYWJsZVN0YWNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbERpc3Bvc2FibGVTdGFjayA9IHZvaWQgMDtcbmNvbnN0IFN1cHJlc3NlZEVycm9yX2pzXzEgPSByZXF1aXJlKFwiLi9TdXByZXNzZWRFcnJvci5qc1wiKTtcbmNvbnN0IHN5bWJvbHNfanNfMSA9IHJlcXVpcmUoXCIuL3N5bWJvbHMuanNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5jb25zdCBTdXBwcmVzc2VkRXJyb3IgPSBnbG9iYWxUaGlzLlN1cHByZXNzZWRFcnJvciB8fCBTdXByZXNzZWRFcnJvcl9qc18xLlBvbnlmaWxsU3VwcHJlc3NlZEVycm9yO1xuY2xhc3MgUG9ueWZpbGxEaXNwb3NhYmxlU3RhY2sge1xuICAgIGNhbGxiYWNrcyA9IFtdO1xuICAgIGdldCBkaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgdXNlKHZhbHVlKSB7XG4gICAgICAgIGlmICgoMCwgdXRpbHNfanNfMS5pc1N5bmNEaXNwb3NhYmxlKSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goKCkgPT4gdmFsdWVbc3ltYm9sc19qc18xLkRpc3Bvc2FibGVTeW1ib2xzLmRpc3Bvc2VdKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgYWRvcHQodmFsdWUsIG9uRGlzcG9zZSkge1xuICAgICAgICBpZiAob25EaXNwb3NlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKCgpID0+IG9uRGlzcG9zZSh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZGVmZXIob25EaXNwb3NlKSB7XG4gICAgICAgIGlmIChvbkRpc3Bvc2UpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2gob25EaXNwb3NlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlKCkge1xuICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBQb255ZmlsbERpc3Bvc2FibGVTdGFjaygpO1xuICAgICAgICBzdGFjay5jYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrcztcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tzeW1ib2xzX2pzXzEuRGlzcG9zYWJsZVN5bWJvbHMuZGlzcG9zZV0oKTtcbiAgICB9XG4gICAgX2Vycm9yO1xuICAgIF9pdGVyYXRlQ2FsbGJhY2tzKCkge1xuICAgICAgICBjb25zdCBjYiA9IHRoaXMuY2FsbGJhY2tzLnBvcCgpO1xuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gdGhpcy5fZXJyb3IgPyBuZXcgU3VwcHJlc3NlZEVycm9yKGVycm9yLCB0aGlzLl9lcnJvcikgOiBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pdGVyYXRlQ2FsbGJhY2tzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgW3N5bWJvbHNfanNfMS5EaXNwb3NhYmxlU3ltYm9scy5kaXNwb3NlXSgpIHtcbiAgICAgICAgdGhpcy5faXRlcmF0ZUNhbGxiYWNrcygpO1xuICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5fZXJyb3I7XG4gICAgICAgICAgICB0aGlzLl9lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ0Rpc3Bvc2FibGVTdGFjayc7XG59XG5leHBvcnRzLlBvbnlmaWxsRGlzcG9zYWJsZVN0YWNrID0gUG9ueWZpbGxEaXNwb3NhYmxlU3RhY2s7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/DisposableStack.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillSuppressedError = void 0;\nclass PonyfillSuppressedError extends Error {\n    error;\n    suppressed;\n    // eslint-disable-next-line n/handle-callback-err\n    constructor(error, suppressed, message) {\n        super(message);\n        this.error = error;\n        this.suppressed = suppressed;\n        this.name = 'SuppressedError';\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\nexports.PonyfillSuppressedError = PonyfillSuppressedError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvU3VwcmVzc2VkRXJyb3IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZGlzcG9zYWJsZXN0YWNrL2Nqcy9TdXByZXNzZWRFcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9ueWZpbGxTdXBwcmVzc2VkRXJyb3IgPSB2b2lkIDA7XG5jbGFzcyBQb255ZmlsbFN1cHByZXNzZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBlcnJvcjtcbiAgICBzdXBwcmVzc2VkO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuL2hhbmRsZS1jYWxsYmFjay1lcnJcbiAgICBjb25zdHJ1Y3RvcihlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICAgICAgICB0aGlzLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkO1xuICAgICAgICB0aGlzLm5hbWUgPSAnU3VwcHJlc3NlZEVycm9yJztcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgfVxufVxuZXhwb3J0cy5Qb255ZmlsbFN1cHByZXNzZWRFcnJvciA9IFBvbnlmaWxsU3VwcHJlc3NlZEVycm9yO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SuppressedError = exports.AsyncDisposableStack = exports.DisposableStack = void 0;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\nconst AsyncDisposableStack_js_1 = __webpack_require__(/*! ./AsyncDisposableStack.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/AsyncDisposableStack.js\");\nconst DisposableStack_js_1 = __webpack_require__(/*! ./DisposableStack.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/DisposableStack.js\");\nconst SupressedError_js_1 = __webpack_require__(/*! ./SupressedError.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/SupressedError.js\");\nexports.DisposableStack = globalThis.DisposableStack || DisposableStack_js_1.PonyfillDisposableStack;\nexports.AsyncDisposableStack = globalThis.AsyncDisposableStack || AsyncDisposableStack_js_1.PonyfillAsyncDisposableStack;\nexports.SuppressedError = globalThis.SuppressedError || SupressedError_js_1.PonyfillSuppressedError;\ntslib_1.__exportStar(__webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\"), exports);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCLEdBQUcsNEJBQTRCLEdBQUcsdUJBQXVCO0FBQ2hGLGdCQUFnQixtQkFBTyxDQUFDLHVEQUFPO0FBQy9CLGtDQUFrQyxtQkFBTyxDQUFDLGdIQUEyQjtBQUNyRSw2QkFBNkIsbUJBQU8sQ0FBQyxzR0FBc0I7QUFDM0QsNEJBQTRCLG1CQUFPLENBQUMsb0dBQXFCO0FBQ3pELHVCQUF1QjtBQUN2Qiw0QkFBNEI7QUFDNUIsdUJBQXVCO0FBQ3ZCLHFCQUFxQixtQkFBTyxDQUFDLHNGQUFjIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9kaXNwb3NhYmxlc3RhY2svY2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdXBwcmVzc2VkRXJyb3IgPSBleHBvcnRzLkFzeW5jRGlzcG9zYWJsZVN0YWNrID0gZXhwb3J0cy5EaXNwb3NhYmxlU3RhY2sgPSB2b2lkIDA7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuY29uc3QgQXN5bmNEaXNwb3NhYmxlU3RhY2tfanNfMSA9IHJlcXVpcmUoXCIuL0FzeW5jRGlzcG9zYWJsZVN0YWNrLmpzXCIpO1xuY29uc3QgRGlzcG9zYWJsZVN0YWNrX2pzXzEgPSByZXF1aXJlKFwiLi9EaXNwb3NhYmxlU3RhY2suanNcIik7XG5jb25zdCBTdXByZXNzZWRFcnJvcl9qc18xID0gcmVxdWlyZShcIi4vU3VwcmVzc2VkRXJyb3IuanNcIik7XG5leHBvcnRzLkRpc3Bvc2FibGVTdGFjayA9IGdsb2JhbFRoaXMuRGlzcG9zYWJsZVN0YWNrIHx8IERpc3Bvc2FibGVTdGFja19qc18xLlBvbnlmaWxsRGlzcG9zYWJsZVN0YWNrO1xuZXhwb3J0cy5Bc3luY0Rpc3Bvc2FibGVTdGFjayA9IGdsb2JhbFRoaXMuQXN5bmNEaXNwb3NhYmxlU3RhY2sgfHwgQXN5bmNEaXNwb3NhYmxlU3RhY2tfanNfMS5Qb255ZmlsbEFzeW5jRGlzcG9zYWJsZVN0YWNrO1xuZXhwb3J0cy5TdXBwcmVzc2VkRXJyb3IgPSBnbG9iYWxUaGlzLlN1cHByZXNzZWRFcnJvciB8fCBTdXByZXNzZWRFcnJvcl9qc18xLlBvbnlmaWxsU3VwcHJlc3NlZEVycm9yO1xudHNsaWJfMS5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vc3ltYm9scy5qc1wiKSwgZXhwb3J0cyk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js":
/*!******************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/symbols.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DisposableSymbols = void 0;\nexports.patchSymbols = patchSymbols;\nexports.DisposableSymbols = {\n    get dispose() {\n        return Symbol.dispose || Symbol.for('dispose');\n    },\n    get asyncDispose() {\n        return Symbol.asyncDispose || Symbol.for('asyncDispose');\n    },\n};\nfunction patchSymbols() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore - we ponyfill these symbols\n    Symbol.dispose ||= Symbol.for('dispose');\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore - we ponyfill these symbols\n    Symbol.asyncDispose ||= Symbol.for('asyncDispose');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvc3ltYm9scy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx5QkFBeUI7QUFDekIsb0JBQW9CO0FBQ3BCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9kaXNwb3NhYmxlc3RhY2svY2pzL3N5bWJvbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRpc3Bvc2FibGVTeW1ib2xzID0gdm9pZCAwO1xuZXhwb3J0cy5wYXRjaFN5bWJvbHMgPSBwYXRjaFN5bWJvbHM7XG5leHBvcnRzLkRpc3Bvc2FibGVTeW1ib2xzID0ge1xuICAgIGdldCBkaXNwb3NlKCkge1xuICAgICAgICByZXR1cm4gU3ltYm9sLmRpc3Bvc2UgfHwgU3ltYm9sLmZvcignZGlzcG9zZScpO1xuICAgIH0sXG4gICAgZ2V0IGFzeW5jRGlzcG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIFN5bWJvbC5hc3luY0Rpc3Bvc2UgfHwgU3ltYm9sLmZvcignYXN5bmNEaXNwb3NlJyk7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBwYXRjaFN5bWJvbHMoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudFxuICAgIC8vIEB0cy1pZ25vcmUgLSB3ZSBwb255ZmlsbCB0aGVzZSBzeW1ib2xzXG4gICAgU3ltYm9sLmRpc3Bvc2UgfHw9IFN5bWJvbC5mb3IoJ2Rpc3Bvc2UnKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgLy8gQHRzLWlnbm9yZSAtIHdlIHBvbnlmaWxsIHRoZXNlIHN5bWJvbHNcbiAgICBTeW1ib2wuYXN5bmNEaXNwb3NlIHx8PSBTeW1ib2wuZm9yKCdhc3luY0Rpc3Bvc2UnKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/cjs/utils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isSyncDisposable = isSyncDisposable;\nexports.isAsyncDisposable = isAsyncDisposable;\nconst symbols_js_1 = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/symbols.js\");\nfunction isSyncDisposable(obj) {\n    return obj?.[symbols_js_1.DisposableSymbols.dispose] != null;\n}\nfunction isAsyncDisposable(obj) {\n    return obj?.[symbols_js_1.DisposableSymbols.asyncDispose] != null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsd0JBQXdCO0FBQ3hCLHlCQUF5QjtBQUN6QixxQkFBcUIsbUJBQU8sQ0FBQyxzRkFBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9janMvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmlzU3luY0Rpc3Bvc2FibGUgPSBpc1N5bmNEaXNwb3NhYmxlO1xuZXhwb3J0cy5pc0FzeW5jRGlzcG9zYWJsZSA9IGlzQXN5bmNEaXNwb3NhYmxlO1xuY29uc3Qgc3ltYm9sc19qc18xID0gcmVxdWlyZShcIi4vc3ltYm9scy5qc1wiKTtcbmZ1bmN0aW9uIGlzU3luY0Rpc3Bvc2FibGUob2JqKSB7XG4gICAgcmV0dXJuIG9iaj8uW3N5bWJvbHNfanNfMS5EaXNwb3NhYmxlU3ltYm9scy5kaXNwb3NlXSAhPSBudWxsO1xufVxuZnVuY3Rpb24gaXNBc3luY0Rpc3Bvc2FibGUob2JqKSB7XG4gICAgcmV0dXJuIG9iaj8uW3N5bWJvbHNfanNfMS5EaXNwb3NhYmxlU3ltYm9scy5hc3luY0Rpc3Bvc2VdICE9IG51bGw7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/esm/AsyncDisposableStack.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/esm/AsyncDisposableStack.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PonyfillAsyncDisposableStack: () => (/* binding */ PonyfillAsyncDisposableStack)\n/* harmony export */ });\n/* harmony import */ var _whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/esm/index.js\");\n/* harmony import */ var _SupressedError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SupressedError.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/SupressedError.js\");\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/symbols.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/utils.js\");\n\n\n\n\nconst SuppressedError = globalThis.SuppressedError || _SupressedError_js__WEBPACK_IMPORTED_MODULE_0__.PonyfillSuppressedError;\nclass PonyfillAsyncDisposableStack {\n    callbacks = [];\n    get disposed() {\n        return this.callbacks.length === 0;\n    }\n    use(value) {\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isAsyncDisposable)(value)) {\n            this.callbacks.push(() => value[_symbols_js__WEBPACK_IMPORTED_MODULE_2__.DisposableSymbols.asyncDispose]());\n        }\n        else if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isSyncDisposable)(value)) {\n            this.callbacks.push(() => value[_symbols_js__WEBPACK_IMPORTED_MODULE_2__.DisposableSymbols.dispose]());\n        }\n        return value;\n    }\n    adopt(value, onDisposeAsync) {\n        if (onDisposeAsync) {\n            this.callbacks.push(() => onDisposeAsync(value));\n        }\n        return value;\n    }\n    defer(onDisposeAsync) {\n        if (onDisposeAsync) {\n            this.callbacks.push(onDisposeAsync);\n        }\n    }\n    move() {\n        const stack = new PonyfillAsyncDisposableStack();\n        stack.callbacks = this.callbacks;\n        this.callbacks = [];\n        return stack;\n    }\n    disposeAsync() {\n        return this[_symbols_js__WEBPACK_IMPORTED_MODULE_2__.DisposableSymbols.asyncDispose]();\n    }\n    _error;\n    _iterateCallbacks() {\n        const cb = this.callbacks.pop();\n        if (cb) {\n            return (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_3__.handleMaybePromise)(cb, () => this._iterateCallbacks(), error => {\n                this._error = this._error ? new SuppressedError(error, this._error) : error;\n                return this._iterateCallbacks();\n            });\n        }\n    }\n    [_symbols_js__WEBPACK_IMPORTED_MODULE_2__.DisposableSymbols.asyncDispose]() {\n        const res$ = this._iterateCallbacks();\n        if (res$?.then) {\n            return res$.then(() => {\n                if (this._error) {\n                    const error = this._error;\n                    this._error = undefined;\n                    throw error;\n                }\n            });\n        }\n        if (this._error) {\n            const error = this._error;\n            this._error = undefined;\n            throw error;\n        }\n        return undefined;\n    }\n    [Symbol.toStringTag] = 'AsyncDisposableStack';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9lc20vQXN5bmNEaXNwb3NhYmxlU3RhY2suanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBa0U7QUFDSjtBQUNiO0FBQ2dCO0FBQ2pFLHNEQUFzRCx1RUFBdUI7QUFDdEU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSw0REFBaUI7QUFDN0IsNENBQTRDLDBEQUFpQjtBQUM3RDtBQUNBLGlCQUFpQiwyREFBZ0I7QUFDakMsNENBQTRDLDBEQUFpQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMERBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0ZBQWtCO0FBQ3JDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLEtBQUssMERBQWlCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9lc20vQXN5bmNEaXNwb3NhYmxlU3RhY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFuZGxlTWF5YmVQcm9taXNlIH0gZnJvbSAnQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycyc7XG5pbXBvcnQgeyBQb255ZmlsbFN1cHByZXNzZWRFcnJvciB9IGZyb20gJy4vU3VwcmVzc2VkRXJyb3IuanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZVN5bWJvbHMgfSBmcm9tICcuL3N5bWJvbHMuanMnO1xuaW1wb3J0IHsgaXNBc3luY0Rpc3Bvc2FibGUsIGlzU3luY0Rpc3Bvc2FibGUgfSBmcm9tICcuL3V0aWxzLmpzJztcbmNvbnN0IFN1cHByZXNzZWRFcnJvciA9IGdsb2JhbFRoaXMuU3VwcHJlc3NlZEVycm9yIHx8IFBvbnlmaWxsU3VwcHJlc3NlZEVycm9yO1xuZXhwb3J0IGNsYXNzIFBvbnlmaWxsQXN5bmNEaXNwb3NhYmxlU3RhY2sge1xuICAgIGNhbGxiYWNrcyA9IFtdO1xuICAgIGdldCBkaXNwb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tzLmxlbmd0aCA9PT0gMDtcbiAgICB9XG4gICAgdXNlKHZhbHVlKSB7XG4gICAgICAgIGlmIChpc0FzeW5jRGlzcG9zYWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goKCkgPT4gdmFsdWVbRGlzcG9zYWJsZVN5bWJvbHMuYXN5bmNEaXNwb3NlXSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1N5bmNEaXNwb3NhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaCgoKSA9PiB2YWx1ZVtEaXNwb3NhYmxlU3ltYm9scy5kaXNwb3NlXSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGFkb3B0KHZhbHVlLCBvbkRpc3Bvc2VBc3luYykge1xuICAgICAgICBpZiAob25EaXNwb3NlQXN5bmMpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2goKCkgPT4gb25EaXNwb3NlQXN5bmModmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGRlZmVyKG9uRGlzcG9zZUFzeW5jKSB7XG4gICAgICAgIGlmIChvbkRpc3Bvc2VBc3luYykge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MucHVzaChvbkRpc3Bvc2VBc3luYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW92ZSgpIHtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgUG9ueWZpbGxBc3luY0Rpc3Bvc2FibGVTdGFjaygpO1xuICAgICAgICBzdGFjay5jYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrcztcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgIH1cbiAgICBkaXNwb3NlQXN5bmMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzW0Rpc3Bvc2FibGVTeW1ib2xzLmFzeW5jRGlzcG9zZV0oKTtcbiAgICB9XG4gICAgX2Vycm9yO1xuICAgIF9pdGVyYXRlQ2FsbGJhY2tzKCkge1xuICAgICAgICBjb25zdCBjYiA9IHRoaXMuY2FsbGJhY2tzLnBvcCgpO1xuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVNYXliZVByb21pc2UoY2IsICgpID0+IHRoaXMuX2l0ZXJhdGVDYWxsYmFja3MoKSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gdGhpcy5fZXJyb3IgPyBuZXcgU3VwcHJlc3NlZEVycm9yKGVycm9yLCB0aGlzLl9lcnJvcikgOiBlcnJvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXRlcmF0ZUNhbGxiYWNrcygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgW0Rpc3Bvc2FibGVTeW1ib2xzLmFzeW5jRGlzcG9zZV0oKSB7XG4gICAgICAgIGNvbnN0IHJlcyQgPSB0aGlzLl9pdGVyYXRlQ2FsbGJhY2tzKCk7XG4gICAgICAgIGlmIChyZXMkPy50aGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzJC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9lcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgW1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnQXN5bmNEaXNwb3NhYmxlU3RhY2snO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/esm/AsyncDisposableStack.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/esm/DisposableStack.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/esm/DisposableStack.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PonyfillDisposableStack: () => (/* binding */ PonyfillDisposableStack)\n/* harmony export */ });\n/* harmony import */ var _SupressedError_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./SupressedError.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/SupressedError.js\");\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/symbols.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/utils.js\");\n\n\n\nconst SuppressedError = globalThis.SuppressedError || _SupressedError_js__WEBPACK_IMPORTED_MODULE_0__.PonyfillSuppressedError;\nclass PonyfillDisposableStack {\n    callbacks = [];\n    get disposed() {\n        return this.callbacks.length === 0;\n    }\n    use(value) {\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.isSyncDisposable)(value)) {\n            this.callbacks.push(() => value[_symbols_js__WEBPACK_IMPORTED_MODULE_2__.DisposableSymbols.dispose]());\n        }\n        return value;\n    }\n    adopt(value, onDispose) {\n        if (onDispose) {\n            this.callbacks.push(() => onDispose(value));\n        }\n        return value;\n    }\n    defer(onDispose) {\n        if (onDispose) {\n            this.callbacks.push(onDispose);\n        }\n    }\n    move() {\n        const stack = new PonyfillDisposableStack();\n        stack.callbacks = this.callbacks;\n        this.callbacks = [];\n        return stack;\n    }\n    dispose() {\n        return this[_symbols_js__WEBPACK_IMPORTED_MODULE_2__.DisposableSymbols.dispose]();\n    }\n    _error;\n    _iterateCallbacks() {\n        const cb = this.callbacks.pop();\n        if (cb) {\n            try {\n                cb();\n            }\n            catch (error) {\n                this._error = this._error ? new SuppressedError(error, this._error) : error;\n            }\n            return this._iterateCallbacks();\n        }\n    }\n    [_symbols_js__WEBPACK_IMPORTED_MODULE_2__.DisposableSymbols.dispose]() {\n        this._iterateCallbacks();\n        if (this._error) {\n            const error = this._error;\n            this._error = undefined;\n            throw error;\n        }\n    }\n    [Symbol.toStringTag] = 'DisposableStack';\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9lc20vRGlzcG9zYWJsZVN0YWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEQ7QUFDYjtBQUNIO0FBQzlDLHNEQUFzRCx1RUFBdUI7QUFDdEU7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyREFBZ0I7QUFDNUIsNENBQTRDLDBEQUFpQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMERBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDBEQUFpQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9lc20vRGlzcG9zYWJsZVN0YWNrLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvbnlmaWxsU3VwcHJlc3NlZEVycm9yIH0gZnJvbSAnLi9TdXByZXNzZWRFcnJvci5qcyc7XG5pbXBvcnQgeyBEaXNwb3NhYmxlU3ltYm9scyB9IGZyb20gJy4vc3ltYm9scy5qcyc7XG5pbXBvcnQgeyBpc1N5bmNEaXNwb3NhYmxlIH0gZnJvbSAnLi91dGlscy5qcyc7XG5jb25zdCBTdXBwcmVzc2VkRXJyb3IgPSBnbG9iYWxUaGlzLlN1cHByZXNzZWRFcnJvciB8fCBQb255ZmlsbFN1cHByZXNzZWRFcnJvcjtcbmV4cG9ydCBjbGFzcyBQb255ZmlsbERpc3Bvc2FibGVTdGFjayB7XG4gICAgY2FsbGJhY2tzID0gW107XG4gICAgZ2V0IGRpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsYmFja3MubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICB1c2UodmFsdWUpIHtcbiAgICAgICAgaWYgKGlzU3luY0Rpc3Bvc2FibGUodmFsdWUpKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKCgpID0+IHZhbHVlW0Rpc3Bvc2FibGVTeW1ib2xzLmRpc3Bvc2VdKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgYWRvcHQodmFsdWUsIG9uRGlzcG9zZSkge1xuICAgICAgICBpZiAob25EaXNwb3NlKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKCgpID0+IG9uRGlzcG9zZSh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZGVmZXIob25EaXNwb3NlKSB7XG4gICAgICAgIGlmIChvbkRpc3Bvc2UpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLnB1c2gob25EaXNwb3NlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlKCkge1xuICAgICAgICBjb25zdCBzdGFjayA9IG5ldyBQb255ZmlsbERpc3Bvc2FibGVTdGFjaygpO1xuICAgICAgICBzdGFjay5jYWxsYmFja3MgPSB0aGlzLmNhbGxiYWNrcztcbiAgICAgICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tEaXNwb3NhYmxlU3ltYm9scy5kaXNwb3NlXSgpO1xuICAgIH1cbiAgICBfZXJyb3I7XG4gICAgX2l0ZXJhdGVDYWxsYmFja3MoKSB7XG4gICAgICAgIGNvbnN0IGNiID0gdGhpcy5jYWxsYmFja3MucG9wKCk7XG4gICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSB0aGlzLl9lcnJvciA/IG5ldyBTdXBwcmVzc2VkRXJyb3IoZXJyb3IsIHRoaXMuX2Vycm9yKSA6IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZXJhdGVDYWxsYmFja3MoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBbRGlzcG9zYWJsZVN5bWJvbHMuZGlzcG9zZV0oKSB7XG4gICAgICAgIHRoaXMuX2l0ZXJhdGVDYWxsYmFja3MoKTtcbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdEaXNwb3NhYmxlU3RhY2snO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/esm/DisposableStack.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/esm/SupressedError.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/esm/SupressedError.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PonyfillSuppressedError: () => (/* binding */ PonyfillSuppressedError)\n/* harmony export */ });\nclass PonyfillSuppressedError extends Error {\n    error;\n    suppressed;\n    // eslint-disable-next-line n/handle-callback-err\n    constructor(error, suppressed, message) {\n        super(message);\n        this.error = error;\n        this.suppressed = suppressed;\n        this.name = 'SuppressedError';\n        Error.captureStackTrace(this, this.constructor);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9lc20vU3VwcmVzc2VkRXJyb3IuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZGlzcG9zYWJsZXN0YWNrL2VzbS9TdXByZXNzZWRFcnJvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgUG9ueWZpbGxTdXBwcmVzc2VkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZXJyb3I7XG4gICAgc3VwcHJlc3NlZDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbi9oYW5kbGUtY2FsbGJhY2stZXJyXG4gICAgY29uc3RydWN0b3IoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZDtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1N1cHByZXNzZWRFcnJvcic7XG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/esm/SupressedError.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/esm/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/esm/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncDisposableStack: () => (/* binding */ AsyncDisposableStack),\n/* harmony export */   DisposableStack: () => (/* binding */ DisposableStack),\n/* harmony export */   DisposableSymbols: () => (/* reexport safe */ _symbols_js__WEBPACK_IMPORTED_MODULE_3__.DisposableSymbols),\n/* harmony export */   SuppressedError: () => (/* binding */ SuppressedError),\n/* harmony export */   patchSymbols: () => (/* reexport safe */ _symbols_js__WEBPACK_IMPORTED_MODULE_3__.patchSymbols)\n/* harmony export */ });\n/* harmony import */ var _AsyncDisposableStack_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AsyncDisposableStack.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/AsyncDisposableStack.js\");\n/* harmony import */ var _DisposableStack_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DisposableStack.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/DisposableStack.js\");\n/* harmony import */ var _SupressedError_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SupressedError.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/SupressedError.js\");\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/symbols.js\");\n\n\n\nconst DisposableStack = globalThis.DisposableStack || _DisposableStack_js__WEBPACK_IMPORTED_MODULE_0__.PonyfillDisposableStack;\nconst AsyncDisposableStack = globalThis.AsyncDisposableStack || _AsyncDisposableStack_js__WEBPACK_IMPORTED_MODULE_1__.PonyfillAsyncDisposableStack;\nconst SuppressedError = globalThis.SuppressedError || _SupressedError_js__WEBPACK_IMPORTED_MODULE_2__.PonyfillSuppressedError;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXlFO0FBQ1Y7QUFDRDtBQUN2RCxzREFBc0Qsd0VBQXVCO0FBQzdFLGdFQUFnRSxrRkFBNEI7QUFDNUYsc0RBQXNELHVFQUF1QjtBQUN2RCIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZGlzcG9zYWJsZXN0YWNrL2VzbS9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQb255ZmlsbEFzeW5jRGlzcG9zYWJsZVN0YWNrIH0gZnJvbSAnLi9Bc3luY0Rpc3Bvc2FibGVTdGFjay5qcyc7XG5pbXBvcnQgeyBQb255ZmlsbERpc3Bvc2FibGVTdGFjayB9IGZyb20gJy4vRGlzcG9zYWJsZVN0YWNrLmpzJztcbmltcG9ydCB7IFBvbnlmaWxsU3VwcHJlc3NlZEVycm9yIH0gZnJvbSAnLi9TdXByZXNzZWRFcnJvci5qcyc7XG5leHBvcnQgY29uc3QgRGlzcG9zYWJsZVN0YWNrID0gZ2xvYmFsVGhpcy5EaXNwb3NhYmxlU3RhY2sgfHwgUG9ueWZpbGxEaXNwb3NhYmxlU3RhY2s7XG5leHBvcnQgY29uc3QgQXN5bmNEaXNwb3NhYmxlU3RhY2sgPSBnbG9iYWxUaGlzLkFzeW5jRGlzcG9zYWJsZVN0YWNrIHx8IFBvbnlmaWxsQXN5bmNEaXNwb3NhYmxlU3RhY2s7XG5leHBvcnQgY29uc3QgU3VwcHJlc3NlZEVycm9yID0gZ2xvYmFsVGhpcy5TdXBwcmVzc2VkRXJyb3IgfHwgUG9ueWZpbGxTdXBwcmVzc2VkRXJyb3I7XG5leHBvcnQgKiBmcm9tICcuL3N5bWJvbHMuanMnO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/esm/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/esm/symbols.js":
/*!******************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/esm/symbols.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DisposableSymbols: () => (/* binding */ DisposableSymbols),\n/* harmony export */   patchSymbols: () => (/* binding */ patchSymbols)\n/* harmony export */ });\nconst DisposableSymbols = {\n    get dispose() {\n        return Symbol.dispose || Symbol.for('dispose');\n    },\n    get asyncDispose() {\n        return Symbol.asyncDispose || Symbol.for('asyncDispose');\n    },\n};\nfunction patchSymbols() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore - we ponyfill these symbols\n    Symbol.dispose ||= Symbol.for('dispose');\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore - we ponyfill these symbols\n    Symbol.asyncDispose ||= Symbol.for('asyncDispose');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9lc20vc3ltYm9scy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZGlzcG9zYWJsZXN0YWNrL2VzbS9zeW1ib2xzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBEaXNwb3NhYmxlU3ltYm9scyA9IHtcbiAgICBnZXQgZGlzcG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIFN5bWJvbC5kaXNwb3NlIHx8IFN5bWJvbC5mb3IoJ2Rpc3Bvc2UnKTtcbiAgICB9LFxuICAgIGdldCBhc3luY0Rpc3Bvc2UoKSB7XG4gICAgICAgIHJldHVybiBTeW1ib2wuYXN5bmNEaXNwb3NlIHx8IFN5bWJvbC5mb3IoJ2FzeW5jRGlzcG9zZScpO1xuICAgIH0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoU3ltYm9scygpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgLy8gQHRzLWlnbm9yZSAtIHdlIHBvbnlmaWxsIHRoZXNlIHN5bWJvbHNcbiAgICBTeW1ib2wuZGlzcG9zZSB8fD0gU3ltYm9sLmZvcignZGlzcG9zZScpO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAvLyBAdHMtaWdub3JlIC0gd2UgcG9ueWZpbGwgdGhlc2Ugc3ltYm9sc1xuICAgIFN5bWJvbC5hc3luY0Rpc3Bvc2UgfHw9IFN5bWJvbC5mb3IoJ2FzeW5jRGlzcG9zZScpO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/esm/symbols.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/disposablestack/esm/utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/@whatwg-node/disposablestack/esm/utils.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isAsyncDisposable: () => (/* binding */ isAsyncDisposable),\n/* harmony export */   isSyncDisposable: () => (/* binding */ isSyncDisposable)\n/* harmony export */ });\n/* harmony import */ var _symbols_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./symbols.js */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/symbols.js\");\n\nfunction isSyncDisposable(obj) {\n    return obj?.[_symbols_js__WEBPACK_IMPORTED_MODULE_0__.DisposableSymbols.dispose] != null;\n}\nfunction isAsyncDisposable(obj) {\n    return obj?.[_symbols_js__WEBPACK_IMPORTED_MODULE_0__.DisposableSymbols.asyncDispose] != null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2Rpc3Bvc2FibGVzdGFjay9lc20vdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWlEO0FBQzFDO0FBQ1AsaUJBQWlCLDBEQUFpQjtBQUNsQztBQUNPO0FBQ1AsaUJBQWlCLDBEQUFpQjtBQUNsQyIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvZGlzcG9zYWJsZXN0YWNrL2VzbS91dGlscy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaXNwb3NhYmxlU3ltYm9scyB9IGZyb20gJy4vc3ltYm9scy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gaXNTeW5jRGlzcG9zYWJsZShvYmopIHtcbiAgICByZXR1cm4gb2JqPy5bRGlzcG9zYWJsZVN5bWJvbHMuZGlzcG9zZV0gIT0gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FzeW5jRGlzcG9zYWJsZShvYmopIHtcbiAgICByZXR1cm4gb2JqPy5bRGlzcG9zYWJsZVN5bWJvbHMuYXN5bmNEaXNwb3NlXSAhPSBudWxsO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/disposablestack/esm/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/fetch/dist/create-node-ponyfill.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@whatwg-node/fetch/dist/create-node-ponyfill.js ***!
  \**********************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("const shouldSkipPonyfill = __webpack_require__(/*! ./shouldSkipPonyfill */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js\");\nlet newNodeFetch;\n\nmodule.exports = function createNodePonyfill(opts = {}) {\n  const ponyfills = {};\n  \n  ponyfills.URLPattern = globalThis.URLPattern;\n\n  // We call this previously to patch `Bun`\n  if (!ponyfills.URLPattern) {\n    const urlPatternModule = __webpack_require__(/*! urlpattern-polyfill */ \"(rsc)/./node_modules/urlpattern-polyfill/index.cjs\");\n    ponyfills.URLPattern = urlPatternModule.URLPattern;\n  }\n\n  if (opts.skipPonyfill || shouldSkipPonyfill()) {\n    return {\n      fetch: globalThis.fetch,\n      Headers: globalThis.Headers,\n      Request: globalThis.Request,\n      Response: globalThis.Response,\n      FormData: globalThis.FormData,\n      ReadableStream: globalThis.ReadableStream,\n      WritableStream: globalThis.WritableStream,\n      TransformStream: globalThis.TransformStream,\n      CompressionStream: globalThis.CompressionStream,\n      DecompressionStream: globalThis.DecompressionStream,\n      TextDecoderStream: globalThis.TextDecoderStream,\n      TextEncoderStream: globalThis.TextEncoderStream,\n      Blob: globalThis.Blob,\n      File: globalThis.File,\n      crypto: globalThis.crypto,\n      btoa: globalThis.btoa,\n      TextEncoder: globalThis.TextEncoder,\n      TextDecoder: globalThis.TextDecoder,\n      URLPattern: ponyfills.URLPattern,\n      URL: globalThis.URL,\n      URLSearchParams: globalThis.URLSearchParams\n    };\n  }\n\n  newNodeFetch ||= __webpack_require__(/*! @whatwg-node/node-fetch */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/index.js\");\n\n  ponyfills.fetch = newNodeFetch.fetch;\n  ponyfills.Request = newNodeFetch.Request;\n  ponyfills.Response = newNodeFetch.Response;\n  ponyfills.Headers = newNodeFetch.Headers;\n  ponyfills.FormData = newNodeFetch.FormData;\n  ponyfills.ReadableStream = newNodeFetch.ReadableStream;\n\n  ponyfills.URL = newNodeFetch.URL;\n  ponyfills.URLSearchParams = newNodeFetch.URLSearchParams;\n\n  ponyfills.WritableStream = newNodeFetch.WritableStream;\n  ponyfills.TransformStream = newNodeFetch.TransformStream;\n  ponyfills.CompressionStream = newNodeFetch.CompressionStream;\n  ponyfills.DecompressionStream = newNodeFetch.DecompressionStream;\n  ponyfills.TextDecoderStream = newNodeFetch.TextDecoderStream;\n  ponyfills.TextEncoderStream = newNodeFetch.TextEncoderStream;\n\n  ponyfills.Blob = newNodeFetch.Blob;\n  ponyfills.File = newNodeFetch.File;\n  ponyfills.crypto = globalThis.crypto;\n  ponyfills.btoa = newNodeFetch.btoa;\n  ponyfills.TextEncoder = newNodeFetch.TextEncoder;\n  ponyfills.TextDecoder = newNodeFetch.TextDecoder;\n\n  if (opts.formDataLimits) {\n    ponyfills.Body = class Body extends newNodeFetch.Body {\n      constructor(body, userOpts) {\n        super(body, {\n          formDataLimits: opts.formDataLimits,\n          ...userOpts,\n        });\n      }\n    }\n    ponyfills.Request = class Request extends newNodeFetch.Request {\n      constructor(input, userOpts) {\n        super(input, {\n          formDataLimits: opts.formDataLimits,\n          ...userOpts,\n        });\n      }\n    }\n    ponyfills.Response = class Response extends newNodeFetch.Response {\n      constructor(body, userOpts) {\n        super(body, {\n          formDataLimits: opts.formDataLimits,\n          ...userOpts,\n        });\n      }\n    }\n  }\n\n  if (!ponyfills.crypto) {\n    const cryptoModule = __webpack_require__(/*! crypto */ \"crypto\");\n    ponyfills.crypto = cryptoModule.webcrypto;\n  }\n\n  return ponyfills;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2ZldGNoL2Rpc3QvY3JlYXRlLW5vZGUtcG9ueWZpbGwuanMiLCJtYXBwaW5ncyI6IkFBQUEsMkJBQTJCLG1CQUFPLENBQUMsZ0dBQXNCO0FBQ3pEOztBQUVBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2QixtQkFBTyxDQUFDLCtFQUFxQjtBQUMxRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQixtQkFBTyxDQUFDLDBGQUF5Qjs7QUFFcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EseUJBQXlCLG1CQUFPLENBQUMsc0JBQVE7QUFDekM7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9mZXRjaC9kaXN0L2NyZWF0ZS1ub2RlLXBvbnlmaWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNob3VsZFNraXBQb255ZmlsbCA9IHJlcXVpcmUoJy4vc2hvdWxkU2tpcFBvbnlmaWxsJyk7XG5sZXQgbmV3Tm9kZUZldGNoO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNyZWF0ZU5vZGVQb255ZmlsbChvcHRzID0ge30pIHtcbiAgY29uc3QgcG9ueWZpbGxzID0ge307XG4gIFxuICBwb255ZmlsbHMuVVJMUGF0dGVybiA9IGdsb2JhbFRoaXMuVVJMUGF0dGVybjtcblxuICAvLyBXZSBjYWxsIHRoaXMgcHJldmlvdXNseSB0byBwYXRjaCBgQnVuYFxuICBpZiAoIXBvbnlmaWxscy5VUkxQYXR0ZXJuKSB7XG4gICAgY29uc3QgdXJsUGF0dGVybk1vZHVsZSA9IHJlcXVpcmUoJ3VybHBhdHRlcm4tcG9seWZpbGwnKTtcbiAgICBwb255ZmlsbHMuVVJMUGF0dGVybiA9IHVybFBhdHRlcm5Nb2R1bGUuVVJMUGF0dGVybjtcbiAgfVxuXG4gIGlmIChvcHRzLnNraXBQb255ZmlsbCB8fCBzaG91bGRTa2lwUG9ueWZpbGwoKSkge1xuICAgIHJldHVybiB7XG4gICAgICBmZXRjaDogZ2xvYmFsVGhpcy5mZXRjaCxcbiAgICAgIEhlYWRlcnM6IGdsb2JhbFRoaXMuSGVhZGVycyxcbiAgICAgIFJlcXVlc3Q6IGdsb2JhbFRoaXMuUmVxdWVzdCxcbiAgICAgIFJlc3BvbnNlOiBnbG9iYWxUaGlzLlJlc3BvbnNlLFxuICAgICAgRm9ybURhdGE6IGdsb2JhbFRoaXMuRm9ybURhdGEsXG4gICAgICBSZWFkYWJsZVN0cmVhbTogZ2xvYmFsVGhpcy5SZWFkYWJsZVN0cmVhbSxcbiAgICAgIFdyaXRhYmxlU3RyZWFtOiBnbG9iYWxUaGlzLldyaXRhYmxlU3RyZWFtLFxuICAgICAgVHJhbnNmb3JtU3RyZWFtOiBnbG9iYWxUaGlzLlRyYW5zZm9ybVN0cmVhbSxcbiAgICAgIENvbXByZXNzaW9uU3RyZWFtOiBnbG9iYWxUaGlzLkNvbXByZXNzaW9uU3RyZWFtLFxuICAgICAgRGVjb21wcmVzc2lvblN0cmVhbTogZ2xvYmFsVGhpcy5EZWNvbXByZXNzaW9uU3RyZWFtLFxuICAgICAgVGV4dERlY29kZXJTdHJlYW06IGdsb2JhbFRoaXMuVGV4dERlY29kZXJTdHJlYW0sXG4gICAgICBUZXh0RW5jb2RlclN0cmVhbTogZ2xvYmFsVGhpcy5UZXh0RW5jb2RlclN0cmVhbSxcbiAgICAgIEJsb2I6IGdsb2JhbFRoaXMuQmxvYixcbiAgICAgIEZpbGU6IGdsb2JhbFRoaXMuRmlsZSxcbiAgICAgIGNyeXB0bzogZ2xvYmFsVGhpcy5jcnlwdG8sXG4gICAgICBidG9hOiBnbG9iYWxUaGlzLmJ0b2EsXG4gICAgICBUZXh0RW5jb2RlcjogZ2xvYmFsVGhpcy5UZXh0RW5jb2RlcixcbiAgICAgIFRleHREZWNvZGVyOiBnbG9iYWxUaGlzLlRleHREZWNvZGVyLFxuICAgICAgVVJMUGF0dGVybjogcG9ueWZpbGxzLlVSTFBhdHRlcm4sXG4gICAgICBVUkw6IGdsb2JhbFRoaXMuVVJMLFxuICAgICAgVVJMU2VhcmNoUGFyYW1zOiBnbG9iYWxUaGlzLlVSTFNlYXJjaFBhcmFtc1xuICAgIH07XG4gIH1cblxuICBuZXdOb2RlRmV0Y2ggfHw9IHJlcXVpcmUoJ0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoJyk7XG5cbiAgcG9ueWZpbGxzLmZldGNoID0gbmV3Tm9kZUZldGNoLmZldGNoO1xuICBwb255ZmlsbHMuUmVxdWVzdCA9IG5ld05vZGVGZXRjaC5SZXF1ZXN0O1xuICBwb255ZmlsbHMuUmVzcG9uc2UgPSBuZXdOb2RlRmV0Y2guUmVzcG9uc2U7XG4gIHBvbnlmaWxscy5IZWFkZXJzID0gbmV3Tm9kZUZldGNoLkhlYWRlcnM7XG4gIHBvbnlmaWxscy5Gb3JtRGF0YSA9IG5ld05vZGVGZXRjaC5Gb3JtRGF0YTtcbiAgcG9ueWZpbGxzLlJlYWRhYmxlU3RyZWFtID0gbmV3Tm9kZUZldGNoLlJlYWRhYmxlU3RyZWFtO1xuXG4gIHBvbnlmaWxscy5VUkwgPSBuZXdOb2RlRmV0Y2guVVJMO1xuICBwb255ZmlsbHMuVVJMU2VhcmNoUGFyYW1zID0gbmV3Tm9kZUZldGNoLlVSTFNlYXJjaFBhcmFtcztcblxuICBwb255ZmlsbHMuV3JpdGFibGVTdHJlYW0gPSBuZXdOb2RlRmV0Y2guV3JpdGFibGVTdHJlYW07XG4gIHBvbnlmaWxscy5UcmFuc2Zvcm1TdHJlYW0gPSBuZXdOb2RlRmV0Y2guVHJhbnNmb3JtU3RyZWFtO1xuICBwb255ZmlsbHMuQ29tcHJlc3Npb25TdHJlYW0gPSBuZXdOb2RlRmV0Y2guQ29tcHJlc3Npb25TdHJlYW07XG4gIHBvbnlmaWxscy5EZWNvbXByZXNzaW9uU3RyZWFtID0gbmV3Tm9kZUZldGNoLkRlY29tcHJlc3Npb25TdHJlYW07XG4gIHBvbnlmaWxscy5UZXh0RGVjb2RlclN0cmVhbSA9IG5ld05vZGVGZXRjaC5UZXh0RGVjb2RlclN0cmVhbTtcbiAgcG9ueWZpbGxzLlRleHRFbmNvZGVyU3RyZWFtID0gbmV3Tm9kZUZldGNoLlRleHRFbmNvZGVyU3RyZWFtO1xuXG4gIHBvbnlmaWxscy5CbG9iID0gbmV3Tm9kZUZldGNoLkJsb2I7XG4gIHBvbnlmaWxscy5GaWxlID0gbmV3Tm9kZUZldGNoLkZpbGU7XG4gIHBvbnlmaWxscy5jcnlwdG8gPSBnbG9iYWxUaGlzLmNyeXB0bztcbiAgcG9ueWZpbGxzLmJ0b2EgPSBuZXdOb2RlRmV0Y2guYnRvYTtcbiAgcG9ueWZpbGxzLlRleHRFbmNvZGVyID0gbmV3Tm9kZUZldGNoLlRleHRFbmNvZGVyO1xuICBwb255ZmlsbHMuVGV4dERlY29kZXIgPSBuZXdOb2RlRmV0Y2guVGV4dERlY29kZXI7XG5cbiAgaWYgKG9wdHMuZm9ybURhdGFMaW1pdHMpIHtcbiAgICBwb255ZmlsbHMuQm9keSA9IGNsYXNzIEJvZHkgZXh0ZW5kcyBuZXdOb2RlRmV0Y2guQm9keSB7XG4gICAgICBjb25zdHJ1Y3Rvcihib2R5LCB1c2VyT3B0cykge1xuICAgICAgICBzdXBlcihib2R5LCB7XG4gICAgICAgICAgZm9ybURhdGFMaW1pdHM6IG9wdHMuZm9ybURhdGFMaW1pdHMsXG4gICAgICAgICAgLi4udXNlck9wdHMsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBwb255ZmlsbHMuUmVxdWVzdCA9IGNsYXNzIFJlcXVlc3QgZXh0ZW5kcyBuZXdOb2RlRmV0Y2guUmVxdWVzdCB7XG4gICAgICBjb25zdHJ1Y3RvcihpbnB1dCwgdXNlck9wdHMpIHtcbiAgICAgICAgc3VwZXIoaW5wdXQsIHtcbiAgICAgICAgICBmb3JtRGF0YUxpbWl0czogb3B0cy5mb3JtRGF0YUxpbWl0cyxcbiAgICAgICAgICAuLi51c2VyT3B0cyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHBvbnlmaWxscy5SZXNwb25zZSA9IGNsYXNzIFJlc3BvbnNlIGV4dGVuZHMgbmV3Tm9kZUZldGNoLlJlc3BvbnNlIHtcbiAgICAgIGNvbnN0cnVjdG9yKGJvZHksIHVzZXJPcHRzKSB7XG4gICAgICAgIHN1cGVyKGJvZHksIHtcbiAgICAgICAgICBmb3JtRGF0YUxpbWl0czogb3B0cy5mb3JtRGF0YUxpbWl0cyxcbiAgICAgICAgICAuLi51c2VyT3B0cyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKCFwb255ZmlsbHMuY3J5cHRvKSB7XG4gICAgY29uc3QgY3J5cHRvTW9kdWxlID0gcmVxdWlyZShcImNyeXB0b1wiKTtcbiAgICBwb255ZmlsbHMuY3J5cHRvID0gY3J5cHRvTW9kdWxlLndlYmNyeXB0bztcbiAgfVxuXG4gIHJldHVybiBwb255ZmlsbHM7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/fetch/dist/create-node-ponyfill.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js":
/*!***************************************************************!*\
  !*** ./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js ***!
  \***************************************************************/
/***/ ((module, exports, __webpack_require__) => {

eval("\nconst createNodePonyfill = __webpack_require__(/*! ./create-node-ponyfill */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/create-node-ponyfill.js\");\nconst shouldSkipPonyfill = __webpack_require__(/*! ./shouldSkipPonyfill */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js\");\nconst ponyfills = createNodePonyfill();\n\nif (!shouldSkipPonyfill()) {\n  try {\n    const nodelibcurlName = 'node-libcurl'\n    globalThis.libcurl = globalThis.libcurl || __webpack_require__(\"(rsc)/./node_modules/@whatwg-node/fetch/dist sync recursive\")(nodelibcurlName);\n  } catch (e) { }\n}\n\nmodule.exports.fetch = ponyfills.fetch;\nmodule.exports.Headers = ponyfills.Headers;\nmodule.exports.Request = ponyfills.Request;\nmodule.exports.Response = ponyfills.Response;\nmodule.exports.FormData = ponyfills.FormData;\nmodule.exports.ReadableStream = ponyfills.ReadableStream;\nmodule.exports.WritableStream = ponyfills.WritableStream;\nmodule.exports.TransformStream = ponyfills.TransformStream;\nmodule.exports.CompressionStream = ponyfills.CompressionStream;\nmodule.exports.DecompressionStream = ponyfills.DecompressionStream;\nmodule.exports.TextDecoderStream = ponyfills.TextDecoderStream;\nmodule.exports.TextEncoderStream = ponyfills.TextEncoderStream;\nmodule.exports.Blob = ponyfills.Blob;\nmodule.exports.File = ponyfills.File;\nmodule.exports.crypto = ponyfills.crypto;\nmodule.exports.btoa = ponyfills.btoa;\nmodule.exports.TextEncoder = ponyfills.TextEncoder;\nmodule.exports.TextDecoder = ponyfills.TextDecoder;\nmodule.exports.URLPattern = ponyfills.URLPattern;\nmodule.exports.URL = ponyfills.URL;\nmodule.exports.URLSearchParams = ponyfills.URLSearchParams;\n\nexports.createFetch = createNodePonyfill;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2ZldGNoL2Rpc3Qvbm9kZS1wb255ZmlsbC5qcyIsIm1hcHBpbmdzIjoiO0FBQ0EsMkJBQTJCLG1CQUFPLENBQUMsb0dBQXdCO0FBQzNELDJCQUEyQixtQkFBTyxDQUFDLGdHQUFzQjtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsbUZBQVEsZUFBZSxDQUFDO0FBQ3ZFLElBQUk7QUFDSjs7QUFFQSxvQkFBb0I7QUFDcEIsc0JBQXNCO0FBQ3RCLHNCQUFzQjtBQUN0Qix1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IsOEJBQThCO0FBQzlCLGdDQUFnQztBQUNoQyxrQ0FBa0M7QUFDbEMsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQyxtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CLHFCQUFxQjtBQUNyQixtQkFBbUI7QUFDbkIsMEJBQTBCO0FBQzFCLDBCQUEwQjtBQUMxQix5QkFBeUI7QUFDekIsa0JBQWtCO0FBQ2xCLDhCQUE4Qjs7QUFFOUIsbUJBQW1CIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9mZXRjaC9kaXN0L25vZGUtcG9ueWZpbGwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG5jb25zdCBjcmVhdGVOb2RlUG9ueWZpbGwgPSByZXF1aXJlKCcuL2NyZWF0ZS1ub2RlLXBvbnlmaWxsJyk7XG5jb25zdCBzaG91bGRTa2lwUG9ueWZpbGwgPSByZXF1aXJlKCcuL3Nob3VsZFNraXBQb255ZmlsbCcpO1xuY29uc3QgcG9ueWZpbGxzID0gY3JlYXRlTm9kZVBvbnlmaWxsKCk7XG5cbmlmICghc2hvdWxkU2tpcFBvbnlmaWxsKCkpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBub2RlbGliY3VybE5hbWUgPSAnbm9kZS1saWJjdXJsJ1xuICAgIGdsb2JhbFRoaXMubGliY3VybCA9IGdsb2JhbFRoaXMubGliY3VybCB8fCByZXF1aXJlKG5vZGVsaWJjdXJsTmFtZSk7XG4gIH0gY2F0Y2ggKGUpIHsgfVxufVxuXG5tb2R1bGUuZXhwb3J0cy5mZXRjaCA9IHBvbnlmaWxscy5mZXRjaDtcbm1vZHVsZS5leHBvcnRzLkhlYWRlcnMgPSBwb255ZmlsbHMuSGVhZGVycztcbm1vZHVsZS5leHBvcnRzLlJlcXVlc3QgPSBwb255ZmlsbHMuUmVxdWVzdDtcbm1vZHVsZS5leHBvcnRzLlJlc3BvbnNlID0gcG9ueWZpbGxzLlJlc3BvbnNlO1xubW9kdWxlLmV4cG9ydHMuRm9ybURhdGEgPSBwb255ZmlsbHMuRm9ybURhdGE7XG5tb2R1bGUuZXhwb3J0cy5SZWFkYWJsZVN0cmVhbSA9IHBvbnlmaWxscy5SZWFkYWJsZVN0cmVhbTtcbm1vZHVsZS5leHBvcnRzLldyaXRhYmxlU3RyZWFtID0gcG9ueWZpbGxzLldyaXRhYmxlU3RyZWFtO1xubW9kdWxlLmV4cG9ydHMuVHJhbnNmb3JtU3RyZWFtID0gcG9ueWZpbGxzLlRyYW5zZm9ybVN0cmVhbTtcbm1vZHVsZS5leHBvcnRzLkNvbXByZXNzaW9uU3RyZWFtID0gcG9ueWZpbGxzLkNvbXByZXNzaW9uU3RyZWFtO1xubW9kdWxlLmV4cG9ydHMuRGVjb21wcmVzc2lvblN0cmVhbSA9IHBvbnlmaWxscy5EZWNvbXByZXNzaW9uU3RyZWFtO1xubW9kdWxlLmV4cG9ydHMuVGV4dERlY29kZXJTdHJlYW0gPSBwb255ZmlsbHMuVGV4dERlY29kZXJTdHJlYW07XG5tb2R1bGUuZXhwb3J0cy5UZXh0RW5jb2RlclN0cmVhbSA9IHBvbnlmaWxscy5UZXh0RW5jb2RlclN0cmVhbTtcbm1vZHVsZS5leHBvcnRzLkJsb2IgPSBwb255ZmlsbHMuQmxvYjtcbm1vZHVsZS5leHBvcnRzLkZpbGUgPSBwb255ZmlsbHMuRmlsZTtcbm1vZHVsZS5leHBvcnRzLmNyeXB0byA9IHBvbnlmaWxscy5jcnlwdG87XG5tb2R1bGUuZXhwb3J0cy5idG9hID0gcG9ueWZpbGxzLmJ0b2E7XG5tb2R1bGUuZXhwb3J0cy5UZXh0RW5jb2RlciA9IHBvbnlmaWxscy5UZXh0RW5jb2Rlcjtcbm1vZHVsZS5leHBvcnRzLlRleHREZWNvZGVyID0gcG9ueWZpbGxzLlRleHREZWNvZGVyO1xubW9kdWxlLmV4cG9ydHMuVVJMUGF0dGVybiA9IHBvbnlmaWxscy5VUkxQYXR0ZXJuO1xubW9kdWxlLmV4cG9ydHMuVVJMID0gcG9ueWZpbGxzLlVSTDtcbm1vZHVsZS5leHBvcnRzLlVSTFNlYXJjaFBhcmFtcyA9IHBvbnlmaWxscy5VUkxTZWFyY2hQYXJhbXM7XG5cbmV4cG9ydHMuY3JlYXRlRmV0Y2ggPSBjcmVhdGVOb2RlUG9ueWZpbGw7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js":
/*!********************************************************************!*\
  !*** ./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("\nfunction isNextJs() {\n  return Object.keys(globalThis).some(key => key.startsWith('__NEXT'))\n}\n\nmodule.exports = function shouldSkipPonyfill() {\n  if (globalThis.Deno) {\n    return true\n  }\n  if (globalThis.Bun) {\n    return true\n  }\n  if (isNextJs()) {\n    return true\n  }\n  return false\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL2ZldGNoL2Rpc3Qvc2hvdWxkU2tpcFBvbnlmaWxsLmpzIiwibWFwcGluZ3MiOiI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9mZXRjaC9kaXN0L3Nob3VsZFNraXBQb255ZmlsbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmZ1bmN0aW9uIGlzTmV4dEpzKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMoZ2xvYmFsVGhpcykuc29tZShrZXkgPT4ga2V5LnN0YXJ0c1dpdGgoJ19fTkVYVCcpKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNob3VsZFNraXBQb255ZmlsbCgpIHtcbiAgaWYgKGdsb2JhbFRoaXMuRGVubykge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgaWYgKGdsb2JhbFRoaXMuQnVuKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoaXNOZXh0SnMoKSkge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59Il0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/fetch/dist/shouldSkipPonyfill.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js":
/*!**********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Blob.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillBlob = void 0;\nexports.hasBufferMethod = hasBufferMethod;\nexports.hasArrayBufferMethod = hasArrayBufferMethod;\nexports.hasBytesMethod = hasBytesMethod;\nexports.hasTextMethod = hasTextMethod;\nexports.hasSizeProperty = hasSizeProperty;\nexports.hasStreamMethod = hasStreamMethod;\nexports.hasBlobSignature = hasBlobSignature;\nexports.isArrayBuffer = isArrayBuffer;\n/* eslint-disable @typescript-eslint/no-unsafe-declaration-merging */\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nfunction getBlobPartAsBuffer(blobPart) {\n    if (typeof blobPart === 'string') {\n        return node_buffer_1.Buffer.from(blobPart);\n    }\n    else if (node_buffer_1.Buffer.isBuffer(blobPart)) {\n        return blobPart;\n    }\n    else if ((0, utils_js_1.isArrayBufferView)(blobPart)) {\n        return node_buffer_1.Buffer.from(blobPart.buffer, blobPart.byteOffset, blobPart.byteLength);\n    }\n    else {\n        return node_buffer_1.Buffer.from(blobPart);\n    }\n}\nfunction hasBufferMethod(obj) {\n    return obj != null && obj.buffer != null && typeof obj.buffer === 'function';\n}\nfunction hasArrayBufferMethod(obj) {\n    return obj != null && obj.arrayBuffer != null && typeof obj.arrayBuffer === 'function';\n}\nfunction hasBytesMethod(obj) {\n    return obj != null && obj.bytes != null && typeof obj.bytes === 'function';\n}\nfunction hasTextMethod(obj) {\n    return obj != null && obj.text != null && typeof obj.text === 'function';\n}\nfunction hasSizeProperty(obj) {\n    return obj != null && typeof obj.size === 'number';\n}\nfunction hasStreamMethod(obj) {\n    return obj != null && obj.stream != null && typeof obj.stream === 'function';\n}\nfunction hasBlobSignature(obj) {\n    return obj != null && obj[Symbol.toStringTag] === 'Blob';\n}\nfunction isArrayBuffer(obj) {\n    return obj != null && obj.byteLength != null && obj.slice != null;\n}\n// Will be removed after v14 reaches EOL\n// Needed because v14 doesn't have .stream() implemented\nclass PonyfillBlob {\n    blobParts;\n    type;\n    encoding;\n    _size = null;\n    constructor(blobParts = [], options) {\n        this.blobParts = blobParts;\n        this.type = options?.type || 'application/octet-stream';\n        this.encoding = options?.encoding || 'utf8';\n        this._size = options?.size || null;\n        if (blobParts.length === 1 && hasBlobSignature(blobParts[0])) {\n            return blobParts[0];\n        }\n    }\n    _buffer = null;\n    buffer() {\n        if (this._buffer) {\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this.blobParts.length === 1) {\n            const blobPart = this.blobParts[0];\n            if (hasBufferMethod(blobPart)) {\n                return blobPart.buffer().then(buf => {\n                    this._buffer = buf;\n                    return this._buffer;\n                });\n            }\n            if (hasBytesMethod(blobPart)) {\n                return blobPart.bytes().then(bytes => {\n                    this._buffer = node_buffer_1.Buffer.from(bytes);\n                    return this._buffer;\n                });\n            }\n            if (hasArrayBufferMethod(blobPart)) {\n                return blobPart.arrayBuffer().then(arrayBuf => {\n                    this._buffer = node_buffer_1.Buffer.from(arrayBuf, undefined, blobPart.size);\n                    return this._buffer;\n                });\n            }\n            this._buffer = getBlobPartAsBuffer(blobPart);\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        const jobs = [];\n        const bufferChunks = this.blobParts.map((blobPart, i) => {\n            if (hasBufferMethod(blobPart)) {\n                jobs.push(blobPart.buffer().then(buf => {\n                    bufferChunks[i] = buf;\n                }));\n                return undefined;\n            }\n            else if (hasArrayBufferMethod(blobPart)) {\n                jobs.push(blobPart.arrayBuffer().then(arrayBuf => {\n                    bufferChunks[i] = node_buffer_1.Buffer.from(arrayBuf, undefined, blobPart.size);\n                }));\n                return undefined;\n            }\n            else if (hasBytesMethod(blobPart)) {\n                jobs.push(blobPart.bytes().then(bytes => {\n                    bufferChunks[i] = node_buffer_1.Buffer.from(bytes);\n                }));\n                return undefined;\n            }\n            else {\n                return getBlobPartAsBuffer(blobPart);\n            }\n        });\n        if (jobs.length > 0) {\n            return Promise.all(jobs).then(() => node_buffer_1.Buffer.concat(bufferChunks, this._size || undefined));\n        }\n        return (0, utils_js_1.fakePromise)(node_buffer_1.Buffer.concat(bufferChunks, this._size || undefined));\n    }\n    arrayBuffer() {\n        if (this._buffer) {\n            // @ts-ignore - Mismatch between Buffer and ArrayBuffer\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this.blobParts.length === 1) {\n            if (isArrayBuffer(this.blobParts[0])) {\n                return (0, utils_js_1.fakePromise)(this.blobParts[0]);\n            }\n            if (hasArrayBufferMethod(this.blobParts[0])) {\n                return this.blobParts[0].arrayBuffer();\n            }\n        }\n        // @ts-ignore - Mismatch between Buffer and ArrayBuffer\n        return this.buffer();\n    }\n    bytes() {\n        if (this._buffer) {\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this.blobParts.length === 1) {\n            if (node_buffer_1.Buffer.isBuffer(this.blobParts[0])) {\n                this._buffer = this.blobParts[0];\n                return (0, utils_js_1.fakePromise)(this._buffer);\n            }\n            if (this.blobParts[0] instanceof Uint8Array) {\n                this._buffer = node_buffer_1.Buffer.from(this.blobParts[0]);\n                return (0, utils_js_1.fakePromise)(this._buffer);\n            }\n            if (hasBytesMethod(this.blobParts[0])) {\n                return this.blobParts[0].bytes();\n            }\n            if (hasBufferMethod(this.blobParts[0])) {\n                return this.blobParts[0].buffer();\n            }\n        }\n        return this.buffer();\n    }\n    _text = null;\n    text() {\n        if (this._text) {\n            return (0, utils_js_1.fakePromise)(this._text);\n        }\n        if (this.blobParts.length === 1) {\n            const blobPart = this.blobParts[0];\n            if (typeof blobPart === 'string') {\n                this._text = blobPart;\n                return (0, utils_js_1.fakePromise)(this._text);\n            }\n            if (hasTextMethod(blobPart)) {\n                return blobPart.text().then(text => {\n                    this._text = text;\n                    return this._text;\n                });\n            }\n            const buf = getBlobPartAsBuffer(blobPart);\n            this._text = buf.toString(this.encoding);\n            return (0, utils_js_1.fakePromise)(this._text);\n        }\n        return this.buffer().then(buf => {\n            this._text = buf.toString(this.encoding);\n            return this._text;\n        });\n    }\n    _json = null;\n    json() {\n        if (this._json) {\n            return (0, utils_js_1.fakePromise)(this._json);\n        }\n        return this.text().then(text => {\n            this._json = JSON.parse(text);\n            return this._json;\n        });\n    }\n    _formData = null;\n    formData() {\n        if (this._formData) {\n            return (0, utils_js_1.fakePromise)(this._formData);\n        }\n        throw new Error('Not implemented');\n    }\n    get size() {\n        if (this._size == null) {\n            this._size = 0;\n            for (const blobPart of this.blobParts) {\n                if (typeof blobPart === 'string') {\n                    this._size += node_buffer_1.Buffer.byteLength(blobPart);\n                }\n                else if (hasSizeProperty(blobPart)) {\n                    this._size += blobPart.size;\n                }\n                else if ((0, utils_js_1.isArrayBufferView)(blobPart)) {\n                    this._size += blobPart.byteLength;\n                }\n            }\n        }\n        return this._size;\n    }\n    stream() {\n        if (this.blobParts.length === 1) {\n            const blobPart = this.blobParts[0];\n            if (hasStreamMethod(blobPart)) {\n                return blobPart.stream();\n            }\n            const buf = getBlobPartAsBuffer(blobPart);\n            return new ReadableStream_js_1.PonyfillReadableStream({\n                start: controller => {\n                    controller.enqueue(buf);\n                    controller.close();\n                },\n            });\n        }\n        if (this._buffer != null) {\n            return new ReadableStream_js_1.PonyfillReadableStream({\n                start: controller => {\n                    controller.enqueue(this._buffer);\n                    controller.close();\n                },\n            });\n        }\n        let blobPartIterator;\n        return new ReadableStream_js_1.PonyfillReadableStream({\n            start: controller => {\n                if (this.blobParts.length === 0) {\n                    controller.close();\n                    return;\n                }\n                blobPartIterator = this.blobParts[Symbol.iterator]();\n            },\n            pull: controller => {\n                const { value: blobPart, done } = blobPartIterator.next();\n                if (done) {\n                    controller.close();\n                    return;\n                }\n                if (blobPart) {\n                    if (hasBufferMethod(blobPart)) {\n                        return blobPart.buffer().then(buf => {\n                            controller.enqueue(buf);\n                        });\n                    }\n                    if (hasBytesMethod(blobPart)) {\n                        return blobPart.bytes().then(bytes => {\n                            const buf = node_buffer_1.Buffer.from(bytes);\n                            controller.enqueue(buf);\n                        });\n                    }\n                    if (hasArrayBufferMethod(blobPart)) {\n                        return blobPart.arrayBuffer().then(arrayBuffer => {\n                            const buf = node_buffer_1.Buffer.from(arrayBuffer, undefined, blobPart.size);\n                            controller.enqueue(buf);\n                        });\n                    }\n                    const buf = getBlobPartAsBuffer(blobPart);\n                    controller.enqueue(buf);\n                }\n            },\n        });\n    }\n    slice() {\n        throw new Error('Not implemented');\n    }\n}\nexports.PonyfillBlob = PonyfillBlob;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0Jsb2IuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLHVCQUF1QjtBQUN2Qiw0QkFBNEI7QUFDNUIsc0JBQXNCO0FBQ3RCLHFCQUFxQjtBQUNyQix1QkFBdUI7QUFDdkIsdUJBQXVCO0FBQ3ZCLHdCQUF3QjtBQUN4QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHNCQUFzQixtQkFBTyxDQUFDLGdDQUFhO0FBQzNDLDRCQUE0QixtQkFBTyxDQUFDLCtGQUFxQjtBQUN6RCxtQkFBbUIsbUJBQU8sQ0FBQyw2RUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHdCQUF3Qix3QkFBd0I7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0Jsb2IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsQmxvYiA9IHZvaWQgMDtcbmV4cG9ydHMuaGFzQnVmZmVyTWV0aG9kID0gaGFzQnVmZmVyTWV0aG9kO1xuZXhwb3J0cy5oYXNBcnJheUJ1ZmZlck1ldGhvZCA9IGhhc0FycmF5QnVmZmVyTWV0aG9kO1xuZXhwb3J0cy5oYXNCeXRlc01ldGhvZCA9IGhhc0J5dGVzTWV0aG9kO1xuZXhwb3J0cy5oYXNUZXh0TWV0aG9kID0gaGFzVGV4dE1ldGhvZDtcbmV4cG9ydHMuaGFzU2l6ZVByb3BlcnR5ID0gaGFzU2l6ZVByb3BlcnR5O1xuZXhwb3J0cy5oYXNTdHJlYW1NZXRob2QgPSBoYXNTdHJlYW1NZXRob2Q7XG5leHBvcnRzLmhhc0Jsb2JTaWduYXR1cmUgPSBoYXNCbG9iU2lnbmF0dXJlO1xuZXhwb3J0cy5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtZGVjbGFyYXRpb24tbWVyZ2luZyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50ICovXG5jb25zdCBub2RlX2J1ZmZlcl8xID0gcmVxdWlyZShcIm5vZGU6YnVmZmVyXCIpO1xuY29uc3QgUmVhZGFibGVTdHJlYW1fanNfMSA9IHJlcXVpcmUoXCIuL1JlYWRhYmxlU3RyZWFtLmpzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuZnVuY3Rpb24gZ2V0QmxvYlBhcnRBc0J1ZmZlcihibG9iUGFydCkge1xuICAgIGlmICh0eXBlb2YgYmxvYlBhcnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJsb2JQYXJ0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobm9kZV9idWZmZXJfMS5CdWZmZXIuaXNCdWZmZXIoYmxvYlBhcnQpKSB7XG4gICAgICAgIHJldHVybiBibG9iUGFydDtcbiAgICB9XG4gICAgZWxzZSBpZiAoKDAsIHV0aWxzX2pzXzEuaXNBcnJheUJ1ZmZlclZpZXcpKGJsb2JQYXJ0KSkge1xuICAgICAgICByZXR1cm4gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShibG9iUGFydC5idWZmZXIsIGJsb2JQYXJ0LmJ5dGVPZmZzZXQsIGJsb2JQYXJ0LmJ5dGVMZW5ndGgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYmxvYlBhcnQpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhc0J1ZmZlck1ldGhvZChvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmJ1ZmZlciAhPSBudWxsICYmIHR5cGVvZiBvYmouYnVmZmVyID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaGFzQXJyYXlCdWZmZXJNZXRob2Qob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iai5hcnJheUJ1ZmZlciAhPSBudWxsICYmIHR5cGVvZiBvYmouYXJyYXlCdWZmZXIgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBoYXNCeXRlc01ldGhvZChvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmJ5dGVzICE9IG51bGwgJiYgdHlwZW9mIG9iai5ieXRlcyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGhhc1RleHRNZXRob2Qob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iai50ZXh0ICE9IG51bGwgJiYgdHlwZW9mIG9iai50ZXh0ID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaGFzU2l6ZVByb3BlcnR5KG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiB0eXBlb2Ygb2JqLnNpemUgPT09ICdudW1iZXInO1xufVxuZnVuY3Rpb24gaGFzU3RyZWFtTWV0aG9kKG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmouc3RyZWFtICE9IG51bGwgJiYgdHlwZW9mIG9iai5zdHJlYW0gPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBoYXNCbG9iU2lnbmF0dXJlKG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmpbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ0Jsb2InO1xufVxuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcihvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmJ5dGVMZW5ndGggIT0gbnVsbCAmJiBvYmouc2xpY2UgIT0gbnVsbDtcbn1cbi8vIFdpbGwgYmUgcmVtb3ZlZCBhZnRlciB2MTQgcmVhY2hlcyBFT0xcbi8vIE5lZWRlZCBiZWNhdXNlIHYxNCBkb2Vzbid0IGhhdmUgLnN0cmVhbSgpIGltcGxlbWVudGVkXG5jbGFzcyBQb255ZmlsbEJsb2Ige1xuICAgIGJsb2JQYXJ0cztcbiAgICB0eXBlO1xuICAgIGVuY29kaW5nO1xuICAgIF9zaXplID0gbnVsbDtcbiAgICBjb25zdHJ1Y3RvcihibG9iUGFydHMgPSBbXSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmJsb2JQYXJ0cyA9IGJsb2JQYXJ0cztcbiAgICAgICAgdGhpcy50eXBlID0gb3B0aW9ucz8udHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJztcbiAgICAgICAgdGhpcy5lbmNvZGluZyA9IG9wdGlvbnM/LmVuY29kaW5nIHx8ICd1dGY4JztcbiAgICAgICAgdGhpcy5fc2l6ZSA9IG9wdGlvbnM/LnNpemUgfHwgbnVsbDtcbiAgICAgICAgaWYgKGJsb2JQYXJ0cy5sZW5ndGggPT09IDEgJiYgaGFzQmxvYlNpZ25hdHVyZShibG9iUGFydHNbMF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gYmxvYlBhcnRzWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9idWZmZXIgPSBudWxsO1xuICAgIGJ1ZmZlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJsb2JQYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2JQYXJ0ID0gdGhpcy5ibG9iUGFydHNbMF07XG4gICAgICAgICAgICBpZiAoaGFzQnVmZmVyTWV0aG9kKGJsb2JQYXJ0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBibG9iUGFydC5idWZmZXIoKS50aGVuKGJ1ZiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IGJ1ZjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNCeXRlc01ldGhvZChibG9iUGFydCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmxvYlBhcnQuYnl0ZXMoKS50aGVuKGJ5dGVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShieXRlcyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaGFzQXJyYXlCdWZmZXJNZXRob2QoYmxvYlBhcnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJsb2JQYXJ0LmFycmF5QnVmZmVyKCkudGhlbihhcnJheUJ1ZiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYXJyYXlCdWYsIHVuZGVmaW5lZCwgYmxvYlBhcnQuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBnZXRCbG9iUGFydEFzQnVmZmVyKGJsb2JQYXJ0KTtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqb2JzID0gW107XG4gICAgICAgIGNvbnN0IGJ1ZmZlckNodW5rcyA9IHRoaXMuYmxvYlBhcnRzLm1hcCgoYmxvYlBhcnQsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChoYXNCdWZmZXJNZXRob2QoYmxvYlBhcnQpKSB7XG4gICAgICAgICAgICAgICAgam9icy5wdXNoKGJsb2JQYXJ0LmJ1ZmZlcigpLnRoZW4oYnVmID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyQ2h1bmtzW2ldID0gYnVmO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaGFzQXJyYXlCdWZmZXJNZXRob2QoYmxvYlBhcnQpKSB7XG4gICAgICAgICAgICAgICAgam9icy5wdXNoKGJsb2JQYXJ0LmFycmF5QnVmZmVyKCkudGhlbihhcnJheUJ1ZiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlckNodW5rc1tpXSA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYXJyYXlCdWYsIHVuZGVmaW5lZCwgYmxvYlBhcnQuc2l6ZSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoYXNCeXRlc01ldGhvZChibG9iUGFydCkpIHtcbiAgICAgICAgICAgICAgICBqb2JzLnB1c2goYmxvYlBhcnQuYnl0ZXMoKS50aGVuKGJ5dGVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyQ2h1bmtzW2ldID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShieXRlcyk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QmxvYlBhcnRBc0J1ZmZlcihibG9iUGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoam9icy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoam9icykudGhlbigoKSA9PiBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5jb25jYXQoYnVmZmVyQ2h1bmtzLCB0aGlzLl9zaXplIHx8IHVuZGVmaW5lZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkobm9kZV9idWZmZXJfMS5CdWZmZXIuY29uY2F0KGJ1ZmZlckNodW5rcywgdGhpcy5fc2l6ZSB8fCB1bmRlZmluZWQpKTtcbiAgICB9XG4gICAgYXJyYXlCdWZmZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBNaXNtYXRjaCBiZXR3ZWVuIEJ1ZmZlciBhbmQgQXJyYXlCdWZmZXJcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ibG9iUGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoaXNBcnJheUJ1ZmZlcih0aGlzLmJsb2JQYXJ0c1swXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuYmxvYlBhcnRzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNBcnJheUJ1ZmZlck1ldGhvZCh0aGlzLmJsb2JQYXJ0c1swXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iUGFydHNbMF0uYXJyYXlCdWZmZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlIC0gTWlzbWF0Y2ggYmV0d2VlbiBCdWZmZXIgYW5kIEFycmF5QnVmZmVyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcigpO1xuICAgIH1cbiAgICBieXRlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJsb2JQYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGlmIChub2RlX2J1ZmZlcl8xLkJ1ZmZlci5pc0J1ZmZlcih0aGlzLmJsb2JQYXJ0c1swXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIgPSB0aGlzLmJsb2JQYXJ0c1swXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuX2J1ZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5ibG9iUGFydHNbMF0gaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbSh0aGlzLmJsb2JQYXJ0c1swXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9idWZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc0J5dGVzTWV0aG9kKHRoaXMuYmxvYlBhcnRzWzBdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJsb2JQYXJ0c1swXS5ieXRlcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhhc0J1ZmZlck1ldGhvZCh0aGlzLmJsb2JQYXJ0c1swXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iUGFydHNbMF0uYnVmZmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyKCk7XG4gICAgfVxuICAgIF90ZXh0ID0gbnVsbDtcbiAgICB0ZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5fdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl90ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ibG9iUGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBibG9iUGFydCA9IHRoaXMuYmxvYlBhcnRzWzBdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBibG9iUGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0ID0gYmxvYlBhcnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl90ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoYXNUZXh0TWV0aG9kKGJsb2JQYXJ0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBibG9iUGFydC50ZXh0KCkudGhlbih0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYnVmID0gZ2V0QmxvYlBhcnRBc0J1ZmZlcihibG9iUGFydCk7XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gYnVmLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl90ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIoKS50aGVuKGJ1ZiA9PiB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gYnVmLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfanNvbiA9IG51bGw7XG4gICAganNvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2pzb24pIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fanNvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4odGV4dCA9PiB7XG4gICAgICAgICAgICB0aGlzLl9qc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9qc29uO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2Zvcm1EYXRhID0gbnVsbDtcbiAgICBmb3JtRGF0YSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Zvcm1EYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuX2Zvcm1EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NpemUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGJsb2JQYXJ0IG9mIHRoaXMuYmxvYlBhcnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBibG9iUGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2l6ZSArPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5ieXRlTGVuZ3RoKGJsb2JQYXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaGFzU2l6ZVByb3BlcnR5KGJsb2JQYXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zaXplICs9IGJsb2JQYXJ0LnNpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCgwLCB1dGlsc19qc18xLmlzQXJyYXlCdWZmZXJWaWV3KShibG9iUGFydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2l6ZSArPSBibG9iUGFydC5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG4gICAgc3RyZWFtKCkge1xuICAgICAgICBpZiAodGhpcy5ibG9iUGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBibG9iUGFydCA9IHRoaXMuYmxvYlBhcnRzWzBdO1xuICAgICAgICAgICAgaWYgKGhhc1N0cmVhbU1ldGhvZChibG9iUGFydCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmxvYlBhcnQuc3RyZWFtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBidWYgPSBnZXRCbG9iUGFydEFzQnVmZmVyKGJsb2JQYXJ0KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgICAgICBzdGFydDogY29udHJvbGxlciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShidWYpO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBjb250cm9sbGVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHRoaXMuX2J1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJsb2JQYXJ0SXRlcmF0b3I7XG4gICAgICAgIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICAgIHN0YXJ0OiBjb250cm9sbGVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ibG9iUGFydHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBibG9iUGFydEl0ZXJhdG9yID0gdGhpcy5ibG9iUGFydHNbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHB1bGw6IGNvbnRyb2xsZXIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgdmFsdWU6IGJsb2JQYXJ0LCBkb25lIH0gPSBibG9iUGFydEl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGJsb2JQYXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNCdWZmZXJNZXRob2QoYmxvYlBhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmxvYlBhcnQuYnVmZmVyKCkudGhlbihidWYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShidWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0J5dGVzTWV0aG9kKGJsb2JQYXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJsb2JQYXJ0LmJ5dGVzKCkudGhlbihieXRlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShieXRlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGJ1Zik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQXJyYXlCdWZmZXJNZXRob2QoYmxvYlBhcnQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmxvYlBhcnQuYXJyYXlCdWZmZXIoKS50aGVuKGFycmF5QnVmZmVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBidWYgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGFycmF5QnVmZmVyLCB1bmRlZmluZWQsIGJsb2JQYXJ0LnNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShidWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnVmID0gZ2V0QmxvYlBhcnRBc0J1ZmZlcihibG9iUGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShidWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzbGljZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG59XG5leHBvcnRzLlBvbnlmaWxsQmxvYiA9IFBvbnlmaWxsQmxvYjtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js":
/*!**********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Body.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillBody = void 0;\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst busboy_1 = __webpack_require__(/*! @fastify/busboy */ \"(rsc)/./node_modules/@fastify/busboy/lib/main.js\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst Blob_js_1 = __webpack_require__(/*! ./Blob.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js\");\nconst File_js_1 = __webpack_require__(/*! ./File.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/File.js\");\nconst FormData_js_1 = __webpack_require__(/*! ./FormData.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/FormData.js\");\nconst ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nvar BodyInitType;\n(function (BodyInitType) {\n    BodyInitType[\"ReadableStream\"] = \"ReadableStream\";\n    BodyInitType[\"Blob\"] = \"Blob\";\n    BodyInitType[\"FormData\"] = \"FormData\";\n    BodyInitType[\"String\"] = \"String\";\n    BodyInitType[\"Readable\"] = \"Readable\";\n    BodyInitType[\"Buffer\"] = \"Buffer\";\n    BodyInitType[\"AsyncIterable\"] = \"AsyncIterable\";\n})(BodyInitType || (BodyInitType = {}));\nclass PonyfillBody {\n    bodyInit;\n    options;\n    bodyUsed = false;\n    contentType = null;\n    contentLength = null;\n    constructor(bodyInit, options = {}) {\n        this.bodyInit = bodyInit;\n        this.options = options;\n        const { bodyFactory, contentType, contentLength, bodyType, buffer } = processBodyInit(bodyInit);\n        this._bodyFactory = bodyFactory;\n        this.contentType = contentType;\n        this.contentLength = contentLength;\n        this.bodyType = bodyType;\n        this._buffer = buffer;\n        this._signal = options.signal;\n    }\n    bodyType;\n    _bodyFactory = () => null;\n    _generatedBody = null;\n    _buffer;\n    _signal;\n    generateBody() {\n        if (this._generatedBody?.readable?.destroyed && this._buffer) {\n            this._generatedBody.readable = node_stream_1.Readable.from(this._buffer);\n        }\n        if (this._generatedBody) {\n            return this._generatedBody;\n        }\n        const body = this._bodyFactory();\n        this._generatedBody = body;\n        return body;\n    }\n    handleContentLengthHeader(forceSet = false) {\n        const contentTypeInHeaders = this.headers.get('content-type');\n        if (!contentTypeInHeaders) {\n            if (this.contentType) {\n                this.headers.set('content-type', this.contentType);\n            }\n        }\n        else {\n            this.contentType = contentTypeInHeaders;\n        }\n        const contentLengthInHeaders = this.headers.get('content-length');\n        if (forceSet && this.bodyInit == null && !contentLengthInHeaders) {\n            this.contentLength = 0;\n            this.headers.set('content-length', '0');\n        }\n        if (!contentLengthInHeaders) {\n            if (this.contentLength) {\n                this.headers.set('content-length', this.contentLength.toString());\n            }\n        }\n        else {\n            this.contentLength = parseInt(contentLengthInHeaders, 10);\n        }\n    }\n    get body() {\n        const _body = this.generateBody();\n        if (_body != null) {\n            const ponyfillReadableStream = _body;\n            const readable = _body.readable;\n            return new Proxy(_body.readable, {\n                get(_, prop) {\n                    if (prop in ponyfillReadableStream) {\n                        const ponyfillReadableStreamProp = ponyfillReadableStream[prop];\n                        if (typeof ponyfillReadableStreamProp === 'function') {\n                            return ponyfillReadableStreamProp.bind(ponyfillReadableStream);\n                        }\n                        return ponyfillReadableStreamProp;\n                    }\n                    if (prop in readable) {\n                        const readableProp = readable[prop];\n                        if (typeof readableProp === 'function') {\n                            return readableProp.bind(readable);\n                        }\n                        return readableProp;\n                    }\n                },\n            });\n        }\n        return null;\n    }\n    _chunks = null;\n    _doCollectChunksFromReadableJob() {\n        if (this.bodyType === BodyInitType.AsyncIterable) {\n            if (Array.fromAsync) {\n                return (0, promise_helpers_1.handleMaybePromise)(() => Array.fromAsync(this.bodyInit), chunks => {\n                    this._chunks = chunks;\n                    return this._chunks;\n                });\n            }\n            const iterator = this.bodyInit[Symbol.asyncIterator]();\n            const chunks = [];\n            const collectValue = () => (0, promise_helpers_1.handleMaybePromise)(() => iterator.next(), ({ value, done }) => {\n                if (value) {\n                    chunks.push(value);\n                }\n                if (!done) {\n                    return collectValue();\n                }\n                this._chunks = chunks;\n                return this._chunks;\n            });\n            return collectValue();\n        }\n        const _body = this.generateBody();\n        if (!_body) {\n            this._chunks = [];\n            return (0, utils_js_1.fakePromise)(this._chunks);\n        }\n        if (_body.readable.destroyed) {\n            return (0, utils_js_1.fakePromise)((this._chunks = []));\n        }\n        const chunks = [];\n        return new Promise((resolve, reject) => {\n            _body.readable.on('data', chunk => {\n                chunks.push(chunk);\n            });\n            _body.readable.once('error', reject);\n            _body.readable.once('end', () => {\n                resolve((this._chunks = chunks));\n            });\n        });\n    }\n    _collectChunksFromReadable() {\n        if (this._chunks) {\n            return (0, utils_js_1.fakePromise)(this._chunks);\n        }\n        this._chunks ||= this._doCollectChunksFromReadableJob();\n        return this._chunks;\n    }\n    _blob = null;\n    blob() {\n        if (this._blob) {\n            return (0, utils_js_1.fakePromise)(this._blob);\n        }\n        if (this.bodyType === BodyInitType.String) {\n            this._text = this.bodyInit;\n            this._blob = new Blob_js_1.PonyfillBlob([this._text], {\n                type: this.contentType || 'text/plain;charset=UTF-8',\n                size: this.contentLength,\n            });\n        }\n        if (this.bodyType === BodyInitType.Blob) {\n            this._blob = this.bodyInit;\n            return (0, utils_js_1.fakePromise)(this._blob);\n        }\n        if (this._buffer) {\n            this._blob = new Blob_js_1.PonyfillBlob([this._buffer], {\n                type: this.contentType || '',\n                size: this.contentLength,\n            });\n            return (0, utils_js_1.fakePromise)(this._blob);\n        }\n        return (0, utils_js_1.fakePromise)((0, promise_helpers_1.handleMaybePromise)(() => this._collectChunksFromReadable(), chunks => {\n            this._blob = new Blob_js_1.PonyfillBlob(chunks, {\n                type: this.contentType || '',\n                size: this.contentLength,\n            });\n            return this._blob;\n        }));\n    }\n    _formData = null;\n    formData(opts) {\n        if (this._formData) {\n            return (0, utils_js_1.fakePromise)(this._formData);\n        }\n        if (this.bodyType === BodyInitType.FormData) {\n            this._formData = this.bodyInit;\n            return (0, utils_js_1.fakePromise)(this._formData);\n        }\n        this._formData = new FormData_js_1.PonyfillFormData();\n        const _body = this.generateBody();\n        if (_body == null) {\n            return (0, utils_js_1.fakePromise)(this._formData);\n        }\n        const formDataLimits = {\n            ...this.options.formDataLimits,\n            ...opts?.formDataLimits,\n        };\n        return new Promise((resolve, reject) => {\n            const stream = this.body?.readable;\n            if (!stream) {\n                return reject(new Error('No stream available'));\n            }\n            // form data file that is currently being processed, it's\n            // important to keep track of it in case the stream ends early\n            let currFile = null;\n            const bb = new busboy_1.Busboy({\n                headers: {\n                    'content-length': typeof this.contentLength === 'number'\n                        ? this.contentLength.toString()\n                        : this.contentLength || '',\n                    'content-type': this.contentType || '',\n                },\n                limits: formDataLimits,\n                defCharset: 'utf-8',\n            });\n            if (this._signal) {\n                (0, node_stream_1.addAbortSignal)(this._signal, bb);\n            }\n            let completed = false;\n            const complete = (err) => {\n                if (completed)\n                    return;\n                completed = true;\n                stream.unpipe(bb);\n                bb.destroy();\n                if (currFile) {\n                    currFile.destroy();\n                    currFile = null;\n                }\n                if (err) {\n                    reject(err);\n                }\n                else {\n                    // no error occured, this is a successful end/complete/finish\n                    resolve(this._formData);\n                }\n            };\n            // we dont need to listen to the stream close event because bb will close or error when necessary\n            // stream.on('close', complete);\n            // stream can be aborted, for example\n            stream.on('error', complete);\n            bb.on('field', (name, value, fieldnameTruncated, valueTruncated) => {\n                if (fieldnameTruncated) {\n                    return complete(new Error(`Field name size exceeded: ${formDataLimits?.fieldNameSize} bytes`));\n                }\n                if (valueTruncated) {\n                    return complete(new Error(`Field value size exceeded: ${formDataLimits?.fieldSize} bytes`));\n                }\n                this._formData.set(name, value);\n            });\n            bb.on('file', (name, fileStream, filename, _transferEncoding, mimeType) => {\n                currFile = fileStream;\n                const chunks = [];\n                fileStream.on('data', chunk => {\n                    chunks.push(chunk);\n                });\n                fileStream.on('error', complete);\n                fileStream.on('limit', () => {\n                    complete(new Error(`File size limit exceeded: ${formDataLimits?.fileSize} bytes`));\n                });\n                fileStream.on('close', () => {\n                    if (fileStream.truncated) {\n                        complete(new Error(`File size limit exceeded: ${formDataLimits?.fileSize} bytes`));\n                    }\n                    currFile = null;\n                    const file = new File_js_1.PonyfillFile(chunks, filename, { type: mimeType });\n                    this._formData.set(name, file);\n                });\n            });\n            bb.on('fieldsLimit', () => {\n                complete(new Error(`Fields limit exceeded: ${formDataLimits?.fields}`));\n            });\n            bb.on('filesLimit', () => {\n                complete(new Error(`Files limit exceeded: ${formDataLimits?.files}`));\n            });\n            bb.on('partsLimit', () => {\n                complete(new Error(`Parts limit exceeded: ${formDataLimits?.parts}`));\n            });\n            bb.on('end', complete);\n            bb.on('finish', complete);\n            bb.on('close', complete);\n            bb.on('error', complete);\n            stream.pipe(bb);\n        });\n    }\n    buffer() {\n        if (this._buffer) {\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this._text) {\n            this._buffer = node_buffer_1.Buffer.from(this._text, 'utf-8');\n            return (0, utils_js_1.fakePromise)(this._buffer);\n        }\n        if (this.bodyType === BodyInitType.String) {\n            return this.text().then(text => {\n                this._text = text;\n                this._buffer = node_buffer_1.Buffer.from(text, 'utf-8');\n                return this._buffer;\n            });\n        }\n        if (this.bodyType === BodyInitType.Blob) {\n            if ((0, Blob_js_1.hasBufferMethod)(this.bodyInit)) {\n                return this.bodyInit.buffer().then(buf => {\n                    this._buffer = buf;\n                    return this._buffer;\n                });\n            }\n            if ((0, Blob_js_1.hasBytesMethod)(this.bodyInit)) {\n                return this.bodyInit.bytes().then(bytes => {\n                    this._buffer = node_buffer_1.Buffer.from(bytes);\n                    return this._buffer;\n                });\n            }\n            if ((0, Blob_js_1.hasArrayBufferMethod)(this.bodyInit)) {\n                return this.bodyInit.arrayBuffer().then(buf => {\n                    this._buffer = node_buffer_1.Buffer.from(buf, undefined, buf.byteLength);\n                    return this._buffer;\n                });\n            }\n        }\n        return (0, utils_js_1.fakePromise)((0, promise_helpers_1.handleMaybePromise)(() => this._collectChunksFromReadable(), chunks => {\n            if (chunks.length === 1) {\n                this._buffer = chunks[0];\n                return this._buffer;\n            }\n            this._buffer = node_buffer_1.Buffer.concat(chunks);\n            return this._buffer;\n        }));\n    }\n    bytes() {\n        return this.buffer();\n    }\n    arrayBuffer() {\n        // @ts-ignore - Mismatch between Buffer and ArrayBuffer\n        return this.buffer();\n    }\n    _json = null;\n    json() {\n        if (this._json) {\n            return (0, utils_js_1.fakePromise)(this._json);\n        }\n        return this.text().then(text => {\n            try {\n                this._json = JSON.parse(text);\n            }\n            catch (e) {\n                if (e instanceof SyntaxError) {\n                    e.message += `, \"${text}\" is not valid JSON`;\n                }\n                throw e;\n            }\n            return this._json;\n        });\n    }\n    _text = null;\n    text() {\n        if (this._text) {\n            return (0, utils_js_1.fakePromise)(this._text);\n        }\n        if (this.bodyType === BodyInitType.String) {\n            this._text = this.bodyInit;\n            return (0, utils_js_1.fakePromise)(this._text);\n        }\n        return this.buffer().then(buffer => {\n            this._text = buffer.toString('utf-8');\n            return this._text;\n        });\n    }\n}\nexports.PonyfillBody = PonyfillBody;\nfunction processBodyInit(bodyInit) {\n    if (bodyInit == null) {\n        return {\n            bodyFactory: () => null,\n            contentType: null,\n            contentLength: null,\n        };\n    }\n    if (typeof bodyInit === 'string') {\n        const contentLength = node_buffer_1.Buffer.byteLength(bodyInit);\n        return {\n            bodyType: BodyInitType.String,\n            contentType: 'text/plain;charset=UTF-8',\n            contentLength,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(node_buffer_1.Buffer.from(bodyInit, 'utf-8'));\n                return new ReadableStream_js_1.PonyfillReadableStream(readable);\n            },\n        };\n    }\n    if (node_buffer_1.Buffer.isBuffer(bodyInit)) {\n        const buffer = bodyInit;\n        return {\n            bodyType: BodyInitType.Buffer,\n            contentType: null,\n            contentLength: bodyInit.length,\n            buffer: bodyInit,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(buffer);\n                const body = new ReadableStream_js_1.PonyfillReadableStream(readable);\n                return body;\n            },\n        };\n    }\n    if ((0, utils_js_1.isArrayBufferView)(bodyInit)) {\n        const buffer = node_buffer_1.Buffer.from(bodyInit.buffer, bodyInit.byteOffset, bodyInit.byteLength);\n        return {\n            bodyType: BodyInitType.Buffer,\n            contentLength: bodyInit.byteLength,\n            contentType: null,\n            buffer,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(buffer);\n                const body = new ReadableStream_js_1.PonyfillReadableStream(readable);\n                return body;\n            },\n        };\n    }\n    if (bodyInit instanceof ReadableStream_js_1.PonyfillReadableStream && bodyInit.readable != null) {\n        const readableStream = bodyInit;\n        return {\n            bodyType: BodyInitType.ReadableStream,\n            bodyFactory: () => readableStream,\n            contentType: null,\n            contentLength: null,\n        };\n    }\n    if (isBlob(bodyInit)) {\n        const blob = bodyInit;\n        return {\n            bodyType: BodyInitType.Blob,\n            contentType: bodyInit.type,\n            contentLength: bodyInit.size,\n            bodyFactory() {\n                return blob.stream();\n            },\n        };\n    }\n    if (bodyInit instanceof ArrayBuffer) {\n        const contentLength = bodyInit.byteLength;\n        const buffer = node_buffer_1.Buffer.from(bodyInit, undefined, bodyInit.byteLength);\n        return {\n            bodyType: BodyInitType.Buffer,\n            contentType: null,\n            contentLength,\n            buffer,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(buffer);\n                const body = new ReadableStream_js_1.PonyfillReadableStream(readable);\n                return body;\n            },\n        };\n    }\n    if (bodyInit instanceof node_stream_1.Readable) {\n        return {\n            bodyType: BodyInitType.Readable,\n            contentType: null,\n            contentLength: null,\n            bodyFactory() {\n                const body = new ReadableStream_js_1.PonyfillReadableStream(bodyInit);\n                return body;\n            },\n        };\n    }\n    if (isURLSearchParams(bodyInit)) {\n        const contentType = 'application/x-www-form-urlencoded;charset=UTF-8';\n        return {\n            bodyType: BodyInitType.String,\n            contentType,\n            contentLength: null,\n            bodyFactory() {\n                const body = new ReadableStream_js_1.PonyfillReadableStream(node_stream_1.Readable.from(bodyInit.toString()));\n                return body;\n            },\n        };\n    }\n    if (isFormData(bodyInit)) {\n        const boundary = Math.random().toString(36).substr(2);\n        const contentType = `multipart/form-data; boundary=${boundary}`;\n        return {\n            bodyType: BodyInitType.FormData,\n            contentType,\n            contentLength: null,\n            bodyFactory() {\n                return (0, FormData_js_1.getStreamFromFormData)(bodyInit, boundary);\n            },\n        };\n    }\n    if (isReadableStream(bodyInit)) {\n        return {\n            contentType: null,\n            contentLength: null,\n            bodyFactory() {\n                return new ReadableStream_js_1.PonyfillReadableStream(bodyInit);\n            },\n        };\n    }\n    if (bodyInit[Symbol.iterator] || bodyInit[Symbol.asyncIterator]) {\n        return {\n            contentType: null,\n            contentLength: null,\n            bodyType: BodyInitType.AsyncIterable,\n            bodyFactory() {\n                const readable = node_stream_1.Readable.from(bodyInit);\n                return new ReadableStream_js_1.PonyfillReadableStream(readable);\n            },\n        };\n    }\n    throw new Error('Unknown body type');\n}\nfunction isFormData(value) {\n    return value?.forEach != null;\n}\nfunction isBlob(value) {\n    return value?.stream != null && typeof value.stream === 'function';\n}\nfunction isURLSearchParams(value) {\n    return value?.sort != null;\n}\nfunction isReadableStream(value) {\n    return value?.getReader != null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0JvZHkuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCO0FBQ0Esc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0Msc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0MsaUJBQWlCLG1CQUFPLENBQUMseUVBQWlCO0FBQzFDLDBCQUEwQixtQkFBTyxDQUFDLG9HQUE4QjtBQUNoRSxrQkFBa0IsbUJBQU8sQ0FBQywyRUFBVztBQUNyQyxrQkFBa0IsbUJBQU8sQ0FBQywyRUFBVztBQUNyQyxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBZTtBQUM3Qyw0QkFBNEIsbUJBQU8sQ0FBQywrRkFBcUI7QUFDekQsbUJBQW1CLG1CQUFPLENBQUMsNkVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvQ0FBb0M7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxnQkFBZ0IsNERBQTREO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLDJHQUEyRyxhQUFhO0FBQ3hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsK0JBQStCO0FBQzFHO0FBQ0E7QUFDQSw0RUFBNEUsMkJBQTJCO0FBQ3ZHO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0Esb0VBQW9FLDBCQUEwQjtBQUM5RixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLHdFQUF3RSwwQkFBMEI7QUFDbEc7QUFDQTtBQUNBLGdGQUFnRixnQkFBZ0I7QUFDaEc7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsNkRBQTZELHVCQUF1QjtBQUNwRixhQUFhO0FBQ2I7QUFDQSw0REFBNEQsc0JBQXNCO0FBQ2xGLGFBQWE7QUFDYjtBQUNBLDREQUE0RCxzQkFBc0I7QUFDbEYsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxLQUFLO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELFdBQVcsU0FBUztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvQm9keS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9ueWZpbGxCb2R5ID0gdm9pZCAwO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50ICovXG5jb25zdCBub2RlX2J1ZmZlcl8xID0gcmVxdWlyZShcIm5vZGU6YnVmZmVyXCIpO1xuY29uc3Qgbm9kZV9zdHJlYW1fMSA9IHJlcXVpcmUoXCJub2RlOnN0cmVhbVwiKTtcbmNvbnN0IGJ1c2JveV8xID0gcmVxdWlyZShcIkBmYXN0aWZ5L2J1c2JveVwiKTtcbmNvbnN0IHByb21pc2VfaGVscGVyc18xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9wcm9taXNlLWhlbHBlcnNcIik7XG5jb25zdCBCbG9iX2pzXzEgPSByZXF1aXJlKFwiLi9CbG9iLmpzXCIpO1xuY29uc3QgRmlsZV9qc18xID0gcmVxdWlyZShcIi4vRmlsZS5qc1wiKTtcbmNvbnN0IEZvcm1EYXRhX2pzXzEgPSByZXF1aXJlKFwiLi9Gb3JtRGF0YS5qc1wiKTtcbmNvbnN0IFJlYWRhYmxlU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9SZWFkYWJsZVN0cmVhbS5qc1wiKTtcbmNvbnN0IHV0aWxzX2pzXzEgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBCb2R5SW5pdFR5cGU7XG4oZnVuY3Rpb24gKEJvZHlJbml0VHlwZSkge1xuICAgIEJvZHlJbml0VHlwZVtcIlJlYWRhYmxlU3RyZWFtXCJdID0gXCJSZWFkYWJsZVN0cmVhbVwiO1xuICAgIEJvZHlJbml0VHlwZVtcIkJsb2JcIl0gPSBcIkJsb2JcIjtcbiAgICBCb2R5SW5pdFR5cGVbXCJGb3JtRGF0YVwiXSA9IFwiRm9ybURhdGFcIjtcbiAgICBCb2R5SW5pdFR5cGVbXCJTdHJpbmdcIl0gPSBcIlN0cmluZ1wiO1xuICAgIEJvZHlJbml0VHlwZVtcIlJlYWRhYmxlXCJdID0gXCJSZWFkYWJsZVwiO1xuICAgIEJvZHlJbml0VHlwZVtcIkJ1ZmZlclwiXSA9IFwiQnVmZmVyXCI7XG4gICAgQm9keUluaXRUeXBlW1wiQXN5bmNJdGVyYWJsZVwiXSA9IFwiQXN5bmNJdGVyYWJsZVwiO1xufSkoQm9keUluaXRUeXBlIHx8IChCb2R5SW5pdFR5cGUgPSB7fSkpO1xuY2xhc3MgUG9ueWZpbGxCb2R5IHtcbiAgICBib2R5SW5pdDtcbiAgICBvcHRpb25zO1xuICAgIGJvZHlVc2VkID0gZmFsc2U7XG4gICAgY29udGVudFR5cGUgPSBudWxsO1xuICAgIGNvbnRlbnRMZW5ndGggPSBudWxsO1xuICAgIGNvbnN0cnVjdG9yKGJvZHlJbml0LCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5ib2R5SW5pdCA9IGJvZHlJbml0O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBjb25zdCB7IGJvZHlGYWN0b3J5LCBjb250ZW50VHlwZSwgY29udGVudExlbmd0aCwgYm9keVR5cGUsIGJ1ZmZlciB9ID0gcHJvY2Vzc0JvZHlJbml0KGJvZHlJbml0KTtcbiAgICAgICAgdGhpcy5fYm9keUZhY3RvcnkgPSBib2R5RmFjdG9yeTtcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgICB0aGlzLmNvbnRlbnRMZW5ndGggPSBjb250ZW50TGVuZ3RoO1xuICAgICAgICB0aGlzLmJvZHlUeXBlID0gYm9keVR5cGU7XG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IGJ1ZmZlcjtcbiAgICAgICAgdGhpcy5fc2lnbmFsID0gb3B0aW9ucy5zaWduYWw7XG4gICAgfVxuICAgIGJvZHlUeXBlO1xuICAgIF9ib2R5RmFjdG9yeSA9ICgpID0+IG51bGw7XG4gICAgX2dlbmVyYXRlZEJvZHkgPSBudWxsO1xuICAgIF9idWZmZXI7XG4gICAgX3NpZ25hbDtcbiAgICBnZW5lcmF0ZUJvZHkoKSB7XG4gICAgICAgIGlmICh0aGlzLl9nZW5lcmF0ZWRCb2R5Py5yZWFkYWJsZT8uZGVzdHJveWVkICYmIHRoaXMuX2J1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy5fZ2VuZXJhdGVkQm9keS5yZWFkYWJsZSA9IG5vZGVfc3RyZWFtXzEuUmVhZGFibGUuZnJvbSh0aGlzLl9idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9nZW5lcmF0ZWRCb2R5KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2VuZXJhdGVkQm9keTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5fYm9keUZhY3RvcnkoKTtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVkQm9keSA9IGJvZHk7XG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH1cbiAgICBoYW5kbGVDb250ZW50TGVuZ3RoSGVhZGVyKGZvcmNlU2V0ID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGVJbkhlYWRlcnMgPSB0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgICAgaWYgKCFjb250ZW50VHlwZUluSGVhZGVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudFR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLmNvbnRlbnRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudFR5cGUgPSBjb250ZW50VHlwZUluSGVhZGVycztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250ZW50TGVuZ3RoSW5IZWFkZXJzID0gdGhpcy5oZWFkZXJzLmdldCgnY29udGVudC1sZW5ndGgnKTtcbiAgICAgICAgaWYgKGZvcmNlU2V0ICYmIHRoaXMuYm9keUluaXQgPT0gbnVsbCAmJiAhY29udGVudExlbmd0aEluSGVhZGVycykge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtbGVuZ3RoJywgJzAnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbnRlbnRMZW5ndGhJbkhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LWxlbmd0aCcsIHRoaXMuY29udGVudExlbmd0aC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudExlbmd0aCA9IHBhcnNlSW50KGNvbnRlbnRMZW5ndGhJbkhlYWRlcnMsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgYm9keSgpIHtcbiAgICAgICAgY29uc3QgX2JvZHkgPSB0aGlzLmdlbmVyYXRlQm9keSgpO1xuICAgICAgICBpZiAoX2JvZHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgcG9ueWZpbGxSZWFkYWJsZVN0cmVhbSA9IF9ib2R5O1xuICAgICAgICAgICAgY29uc3QgcmVhZGFibGUgPSBfYm9keS5yZWFkYWJsZTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkoX2JvZHkucmVhZGFibGUsIHtcbiAgICAgICAgICAgICAgICBnZXQoXywgcHJvcCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCBpbiBwb255ZmlsbFJlYWRhYmxlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwb255ZmlsbFJlYWRhYmxlU3RyZWFtUHJvcCA9IHBvbnlmaWxsUmVhZGFibGVTdHJlYW1bcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBvbnlmaWxsUmVhZGFibGVTdHJlYW1Qcm9wID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvbnlmaWxsUmVhZGFibGVTdHJlYW1Qcm9wLmJpbmQocG9ueWZpbGxSZWFkYWJsZVN0cmVhbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9ueWZpbGxSZWFkYWJsZVN0cmVhbVByb3A7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3AgaW4gcmVhZGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRhYmxlUHJvcCA9IHJlYWRhYmxlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZWFkYWJsZVByb3AgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGFibGVQcm9wLmJpbmQocmVhZGFibGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRhYmxlUHJvcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgX2NodW5rcyA9IG51bGw7XG4gICAgX2RvQ29sbGVjdENodW5rc0Zyb21SZWFkYWJsZUpvYigpIHtcbiAgICAgICAgaWYgKHRoaXMuYm9keVR5cGUgPT09IEJvZHlJbml0VHlwZS5Bc3luY0l0ZXJhYmxlKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuZnJvbUFzeW5jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+IEFycmF5LmZyb21Bc3luYyh0aGlzLmJvZHlJbml0KSwgY2h1bmtzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2h1bmtzID0gY2h1bmtzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2h1bmtzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLmJvZHlJbml0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgICAgICAgICBjb25zdCBjb2xsZWN0VmFsdWUgPSAoKSA9PiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuaGFuZGxlTWF5YmVQcm9taXNlKSgoKSA9PiBpdGVyYXRvci5uZXh0KCksICh7IHZhbHVlLCBkb25lIH0pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3RWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9jaHVua3MgPSBjaHVua3M7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NodW5rcztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3RWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IF9ib2R5ID0gdGhpcy5nZW5lcmF0ZUJvZHkoKTtcbiAgICAgICAgaWYgKCFfYm9keSkge1xuICAgICAgICAgICAgdGhpcy5fY2h1bmtzID0gW107XG4gICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuX2NodW5rcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9ib2R5LnJlYWRhYmxlLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSgodGhpcy5fY2h1bmtzID0gW10pKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIF9ib2R5LnJlYWRhYmxlLm9uKCdkYXRhJywgY2h1bmsgPT4ge1xuICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX2JvZHkucmVhZGFibGUub25jZSgnZXJyb3InLCByZWplY3QpO1xuICAgICAgICAgICAgX2JvZHkucmVhZGFibGUub25jZSgnZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKHRoaXMuX2NodW5rcyA9IGNodW5rcykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfY29sbGVjdENodW5rc0Zyb21SZWFkYWJsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NodW5rcykge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9jaHVua3MpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NodW5rcyB8fD0gdGhpcy5fZG9Db2xsZWN0Q2h1bmtzRnJvbVJlYWRhYmxlSm9iKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaHVua3M7XG4gICAgfVxuICAgIF9ibG9iID0gbnVsbDtcbiAgICBibG9iKCkge1xuICAgICAgICBpZiAodGhpcy5fYmxvYikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9ibG9iKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ib2R5VHlwZSA9PT0gQm9keUluaXRUeXBlLlN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5fdGV4dCA9IHRoaXMuYm9keUluaXQ7XG4gICAgICAgICAgICB0aGlzLl9ibG9iID0gbmV3IEJsb2JfanNfMS5Qb255ZmlsbEJsb2IoW3RoaXMuX3RleHRdLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy5jb250ZW50VHlwZSB8fCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JyxcbiAgICAgICAgICAgICAgICBzaXplOiB0aGlzLmNvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ib2R5VHlwZSA9PT0gQm9keUluaXRUeXBlLkJsb2IpIHtcbiAgICAgICAgICAgIHRoaXMuX2Jsb2IgPSB0aGlzLmJvZHlJbml0O1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9ibG9iKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9ibG9iID0gbmV3IEJsb2JfanNfMS5Qb255ZmlsbEJsb2IoW3RoaXMuX2J1ZmZlcl0sIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLmNvbnRlbnRUeXBlIHx8ICcnLFxuICAgICAgICAgICAgICAgIHNpemU6IHRoaXMuY29udGVudExlbmd0aCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9ibG9iKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKCgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+IHRoaXMuX2NvbGxlY3RDaHVua3NGcm9tUmVhZGFibGUoKSwgY2h1bmtzID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Jsb2IgPSBuZXcgQmxvYl9qc18xLlBvbnlmaWxsQmxvYihjaHVua3MsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLmNvbnRlbnRUeXBlIHx8ICcnLFxuICAgICAgICAgICAgICAgIHNpemU6IHRoaXMuY29udGVudExlbmd0aCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jsb2I7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgX2Zvcm1EYXRhID0gbnVsbDtcbiAgICBmb3JtRGF0YShvcHRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9mb3JtRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9mb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm9keVR5cGUgPT09IEJvZHlJbml0VHlwZS5Gb3JtRGF0YSkge1xuICAgICAgICAgICAgdGhpcy5fZm9ybURhdGEgPSB0aGlzLmJvZHlJbml0O1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9mb3JtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZm9ybURhdGEgPSBuZXcgRm9ybURhdGFfanNfMS5Qb255ZmlsbEZvcm1EYXRhKCk7XG4gICAgICAgIGNvbnN0IF9ib2R5ID0gdGhpcy5nZW5lcmF0ZUJvZHkoKTtcbiAgICAgICAgaWYgKF9ib2R5ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fZm9ybURhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhTGltaXRzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zLmZvcm1EYXRhTGltaXRzLFxuICAgICAgICAgICAgLi4ub3B0cz8uZm9ybURhdGFMaW1pdHMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLmJvZHk/LnJlYWRhYmxlO1xuICAgICAgICAgICAgaWYgKCFzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KG5ldyBFcnJvcignTm8gc3RyZWFtIGF2YWlsYWJsZScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGZvcm0gZGF0YSBmaWxlIHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIHByb2Nlc3NlZCwgaXQnc1xuICAgICAgICAgICAgLy8gaW1wb3J0YW50IHRvIGtlZXAgdHJhY2sgb2YgaXQgaW4gY2FzZSB0aGUgc3RyZWFtIGVuZHMgZWFybHlcbiAgICAgICAgICAgIGxldCBjdXJyRmlsZSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdCBiYiA9IG5ldyBidXNib3lfMS5CdXNib3koe1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtbGVuZ3RoJzogdHlwZW9mIHRoaXMuY29udGVudExlbmd0aCA9PT0gJ251bWJlcidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGhpcy5jb250ZW50TGVuZ3RoLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5jb250ZW50TGVuZ3RoIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogdGhpcy5jb250ZW50VHlwZSB8fCAnJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxpbWl0czogZm9ybURhdGFMaW1pdHMsXG4gICAgICAgICAgICAgICAgZGVmQ2hhcnNldDogJ3V0Zi04JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NpZ25hbCkge1xuICAgICAgICAgICAgICAgICgwLCBub2RlX3N0cmVhbV8xLmFkZEFib3J0U2lnbmFsKSh0aGlzLl9zaWduYWwsIGJiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBsZXRlID0gKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0cmVhbS51bnBpcGUoYmIpO1xuICAgICAgICAgICAgICAgIGJiLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyckZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyckZpbGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyRmlsZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBubyBlcnJvciBvY2N1cmVkLCB0aGlzIGlzIGEgc3VjY2Vzc2Z1bCBlbmQvY29tcGxldGUvZmluaXNoXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5fZm9ybURhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB3ZSBkb250IG5lZWQgdG8gbGlzdGVuIHRvIHRoZSBzdHJlYW0gY2xvc2UgZXZlbnQgYmVjYXVzZSBiYiB3aWxsIGNsb3NlIG9yIGVycm9yIHdoZW4gbmVjZXNzYXJ5XG4gICAgICAgICAgICAvLyBzdHJlYW0ub24oJ2Nsb3NlJywgY29tcGxldGUpO1xuICAgICAgICAgICAgLy8gc3RyZWFtIGNhbiBiZSBhYm9ydGVkLCBmb3IgZXhhbXBsZVxuICAgICAgICAgICAgc3RyZWFtLm9uKCdlcnJvcicsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIGJiLm9uKCdmaWVsZCcsIChuYW1lLCB2YWx1ZSwgZmllbGRuYW1lVHJ1bmNhdGVkLCB2YWx1ZVRydW5jYXRlZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZG5hbWVUcnVuY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlKG5ldyBFcnJvcihgRmllbGQgbmFtZSBzaXplIGV4Y2VlZGVkOiAke2Zvcm1EYXRhTGltaXRzPy5maWVsZE5hbWVTaXplfSBieXRlc2ApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlVHJ1bmNhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZShuZXcgRXJyb3IoYEZpZWxkIHZhbHVlIHNpemUgZXhjZWVkZWQ6ICR7Zm9ybURhdGFMaW1pdHM/LmZpZWxkU2l6ZX0gYnl0ZXNgKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2Zvcm1EYXRhLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJiLm9uKCdmaWxlJywgKG5hbWUsIGZpbGVTdHJlYW0sIGZpbGVuYW1lLCBfdHJhbnNmZXJFbmNvZGluZywgbWltZVR5cGUpID0+IHtcbiAgICAgICAgICAgICAgICBjdXJyRmlsZSA9IGZpbGVTdHJlYW07XG4gICAgICAgICAgICAgICAgY29uc3QgY2h1bmtzID0gW107XG4gICAgICAgICAgICAgICAgZmlsZVN0cmVhbS5vbignZGF0YScsIGNodW5rID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2Vycm9yJywgY29tcGxldGUpO1xuICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2xpbWl0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShuZXcgRXJyb3IoYEZpbGUgc2l6ZSBsaW1pdCBleGNlZWRlZDogJHtmb3JtRGF0YUxpbWl0cz8uZmlsZVNpemV9IGJ5dGVzYCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZpbGVTdHJlYW0ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZVN0cmVhbS50cnVuY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKG5ldyBFcnJvcihgRmlsZSBzaXplIGxpbWl0IGV4Y2VlZGVkOiAke2Zvcm1EYXRhTGltaXRzPy5maWxlU2l6ZX0gYnl0ZXNgKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VyckZpbGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGVfanNfMS5Qb255ZmlsbEZpbGUoY2h1bmtzLCBmaWxlbmFtZSwgeyB0eXBlOiBtaW1lVHlwZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZm9ybURhdGEuc2V0KG5hbWUsIGZpbGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiYi5vbignZmllbGRzTGltaXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29tcGxldGUobmV3IEVycm9yKGBGaWVsZHMgbGltaXQgZXhjZWVkZWQ6ICR7Zm9ybURhdGFMaW1pdHM/LmZpZWxkc31gKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJiLm9uKCdmaWxlc0xpbWl0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlKG5ldyBFcnJvcihgRmlsZXMgbGltaXQgZXhjZWVkZWQ6ICR7Zm9ybURhdGFMaW1pdHM/LmZpbGVzfWApKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYmIub24oJ3BhcnRzTGltaXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29tcGxldGUobmV3IEVycm9yKGBQYXJ0cyBsaW1pdCBleGNlZWRlZDogJHtmb3JtRGF0YUxpbWl0cz8ucGFydHN9YCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiYi5vbignZW5kJywgY29tcGxldGUpO1xuICAgICAgICAgICAgYmIub24oJ2ZpbmlzaCcsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIGJiLm9uKCdjbG9zZScsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIGJiLm9uKCdlcnJvcicsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgIHN0cmVhbS5waXBlKGJiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJ1ZmZlcigpIHtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKHRoaXMuX3RleHQsICd1dGYtOCcpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl9idWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmJvZHlUeXBlID09PSBCb2R5SW5pdFR5cGUuU3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbih0ZXh0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKHRleHQsICd1dGYtOCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5ib2R5VHlwZSA9PT0gQm9keUluaXRUeXBlLkJsb2IpIHtcbiAgICAgICAgICAgIGlmICgoMCwgQmxvYl9qc18xLmhhc0J1ZmZlck1ldGhvZCkodGhpcy5ib2R5SW5pdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5SW5pdC5idWZmZXIoKS50aGVuKGJ1ZiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IGJ1ZjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoMCwgQmxvYl9qc18xLmhhc0J5dGVzTWV0aG9kKSh0aGlzLmJvZHlJbml0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJvZHlJbml0LmJ5dGVzKCkudGhlbihieXRlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYnl0ZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCgwLCBCbG9iX2pzXzEuaGFzQXJyYXlCdWZmZXJNZXRob2QpKHRoaXMuYm9keUluaXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYm9keUluaXQuYXJyYXlCdWZmZXIoKS50aGVuKGJ1ZiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2J1ZmZlciA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYnVmLCB1bmRlZmluZWQsIGJ1Zi5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKCgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+IHRoaXMuX2NvbGxlY3RDaHVua3NGcm9tUmVhZGFibGUoKSwgY2h1bmtzID0+IHtcbiAgICAgICAgICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYnVmZmVyID0gY2h1bmtzWzBdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9idWZmZXIgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5jb25jYXQoY2h1bmtzKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9idWZmZXI7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYnl0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlcigpO1xuICAgIH1cbiAgICBhcnJheUJ1ZmZlcigpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSAtIE1pc21hdGNoIGJldHdlZW4gQnVmZmVyIGFuZCBBcnJheUJ1ZmZlclxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIoKTtcbiAgICB9XG4gICAgX2pzb24gPSBudWxsO1xuICAgIGpzb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9qc29uKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHRoaXMuX2pzb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKHRleHQgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9qc29uID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBTeW50YXhFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBlLm1lc3NhZ2UgKz0gYCwgXCIke3RleHR9XCIgaXMgbm90IHZhbGlkIEpTT05gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2pzb247XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfdGV4dCA9IG51bGw7XG4gICAgdGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHQpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkodGhpcy5fdGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYm9keVR5cGUgPT09IEJvZHlJbml0VHlwZS5TdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB0aGlzLmJvZHlJbml0O1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSh0aGlzLl90ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIoKS50aGVuKGJ1ZmZlciA9PiB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gYnVmZmVyLnRvU3RyaW5nKCd1dGYtOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxCb2R5ID0gUG9ueWZpbGxCb2R5O1xuZnVuY3Rpb24gcHJvY2Vzc0JvZHlJbml0KGJvZHlJbml0KSB7XG4gICAgaWYgKGJvZHlJbml0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvZHlGYWN0b3J5OiAoKSA9PiBudWxsLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBudWxsLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGJvZHlJbml0ID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBjb250ZW50TGVuZ3RoID0gbm9kZV9idWZmZXJfMS5CdWZmZXIuYnl0ZUxlbmd0aChib2R5SW5pdCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5VHlwZTogQm9keUluaXRUeXBlLlN0cmluZyxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JyxcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgICBib2R5RmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkYWJsZSA9IG5vZGVfc3RyZWFtXzEuUmVhZGFibGUuZnJvbShub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJvZHlJbml0LCAndXRmLTgnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0ocmVhZGFibGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmlzQnVmZmVyKGJvZHlJbml0KSkge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBib2R5SW5pdDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvZHlUeXBlOiBCb2R5SW5pdFR5cGUuQnVmZmVyLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBib2R5SW5pdC5sZW5ndGgsXG4gICAgICAgICAgICBidWZmZXI6IGJvZHlJbml0LFxuICAgICAgICAgICAgYm9keUZhY3RvcnkoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZGFibGUgPSBub2RlX3N0cmVhbV8xLlJlYWRhYmxlLmZyb20oYnVmZmVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gbmV3IFJlYWRhYmxlU3RyZWFtX2pzXzEuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbShyZWFkYWJsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoKDAsIHV0aWxzX2pzXzEuaXNBcnJheUJ1ZmZlclZpZXcpKGJvZHlJbml0KSkge1xuICAgICAgICBjb25zdCBidWZmZXIgPSBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGJvZHlJbml0LmJ1ZmZlciwgYm9keUluaXQuYnl0ZU9mZnNldCwgYm9keUluaXQuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5VHlwZTogQm9keUluaXRUeXBlLkJ1ZmZlcixcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IGJvZHlJbml0LmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogbnVsbCxcbiAgICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICAgIGJvZHlGYWN0b3J5KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRhYmxlID0gbm9kZV9zdHJlYW1fMS5SZWFkYWJsZS5mcm9tKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0ocmVhZGFibGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGJvZHlJbml0IGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtICYmIGJvZHlJbml0LnJlYWRhYmxlICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgcmVhZGFibGVTdHJlYW0gPSBib2R5SW5pdDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvZHlUeXBlOiBCb2R5SW5pdFR5cGUuUmVhZGFibGVTdHJlYW0sXG4gICAgICAgICAgICBib2R5RmFjdG9yeTogKCkgPT4gcmVhZGFibGVTdHJlYW0sXG4gICAgICAgICAgICBjb250ZW50VHlwZTogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IG51bGwsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc0Jsb2IoYm9keUluaXQpKSB7XG4gICAgICAgIGNvbnN0IGJsb2IgPSBib2R5SW5pdDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvZHlUeXBlOiBCb2R5SW5pdFR5cGUuQmxvYixcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBib2R5SW5pdC50eXBlLFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogYm9keUluaXQuc2l6ZSxcbiAgICAgICAgICAgIGJvZHlGYWN0b3J5KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBibG9iLnN0cmVhbSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGJvZHlJbml0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgY29uc3QgY29udGVudExlbmd0aCA9IGJvZHlJbml0LmJ5dGVMZW5ndGg7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYm9keUluaXQsIHVuZGVmaW5lZCwgYm9keUluaXQuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5VHlwZTogQm9keUluaXRUeXBlLkJ1ZmZlcixcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBudWxsLFxuICAgICAgICAgICAgY29udGVudExlbmd0aCxcbiAgICAgICAgICAgIGJ1ZmZlcixcbiAgICAgICAgICAgIGJvZHlGYWN0b3J5KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRhYmxlID0gbm9kZV9zdHJlYW1fMS5SZWFkYWJsZS5mcm9tKGJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9keSA9IG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0ocmVhZGFibGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGJvZHlJbml0IGluc3RhbmNlb2Ygbm9kZV9zdHJlYW1fMS5SZWFkYWJsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm9keVR5cGU6IEJvZHlJbml0VHlwZS5SZWFkYWJsZSxcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBudWxsLFxuICAgICAgICAgICAgY29udGVudExlbmd0aDogbnVsbCxcbiAgICAgICAgICAgIGJvZHlGYWN0b3J5KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBuZXcgUmVhZGFibGVTdHJlYW1fanNfMS5Qb255ZmlsbFJlYWRhYmxlU3RyZWFtKGJvZHlJbml0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYm9keTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc1VSTFNlYXJjaFBhcmFtcyhib2R5SW5pdCkpIHtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYm9keVR5cGU6IEJvZHlJbml0VHlwZS5TdHJpbmcsXG4gICAgICAgICAgICBjb250ZW50VHlwZSxcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IG51bGwsXG4gICAgICAgICAgICBib2R5RmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib2R5ID0gbmV3IFJlYWRhYmxlU3RyZWFtX2pzXzEuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbShub2RlX3N0cmVhbV8xLlJlYWRhYmxlLmZyb20oYm9keUluaXQudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGlzRm9ybURhdGEoYm9keUluaXQpKSB7XG4gICAgICAgIGNvbnN0IGJvdW5kYXJ5ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpO1xuICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IGBtdWx0aXBhcnQvZm9ybS1kYXRhOyBib3VuZGFyeT0ke2JvdW5kYXJ5fWA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBib2R5VHlwZTogQm9keUluaXRUeXBlLkZvcm1EYXRhLFxuICAgICAgICAgICAgY29udGVudFR5cGUsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBudWxsLFxuICAgICAgICAgICAgYm9keUZhY3RvcnkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBGb3JtRGF0YV9qc18xLmdldFN0cmVhbUZyb21Gb3JtRGF0YSkoYm9keUluaXQsIGJvdW5kYXJ5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtKGJvZHlJbml0KSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29udGVudFR5cGU6IG51bGwsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoOiBudWxsLFxuICAgICAgICAgICAgYm9keUZhY3RvcnkoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0oYm9keUluaXQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGJvZHlJbml0W1N5bWJvbC5pdGVyYXRvcl0gfHwgYm9keUluaXRbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250ZW50VHlwZTogbnVsbCxcbiAgICAgICAgICAgIGNvbnRlbnRMZW5ndGg6IG51bGwsXG4gICAgICAgICAgICBib2R5VHlwZTogQm9keUluaXRUeXBlLkFzeW5jSXRlcmFibGUsXG4gICAgICAgICAgICBib2R5RmFjdG9yeSgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZWFkYWJsZSA9IG5vZGVfc3RyZWFtXzEuUmVhZGFibGUuZnJvbShib2R5SW5pdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0ocmVhZGFibGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIGJvZHkgdHlwZScpO1xufVxuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZT8uZm9yRWFjaCAhPSBudWxsO1xufVxuZnVuY3Rpb24gaXNCbG9iKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlPy5zdHJlYW0gIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUuc3RyZWFtID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU/LnNvcnQgIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzUmVhZGFibGVTdHJlYW0odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU/LmdldFJlYWRlciAhPSBudWxsO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/CompressionStream.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/CompressionStream.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillCompressionStream = void 0;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\nconst node_zlib_1 = tslib_1.__importDefault(__webpack_require__(/*! node:zlib */ \"node:zlib\"));\nconst TransformStream_js_1 = __webpack_require__(/*! ./TransformStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nclass PonyfillCompressionStream extends TransformStream_js_1.PonyfillTransformStream {\n    static supportedFormats = (0, utils_js_1.getSupportedFormats)();\n    constructor(compressionFormat) {\n        switch (compressionFormat) {\n            case 'x-gzip':\n            case 'gzip':\n                super(node_zlib_1.default.createGzip());\n                break;\n            case 'x-deflate':\n            case 'deflate':\n                super(node_zlib_1.default.createDeflate());\n                break;\n            case 'deflate-raw':\n                super(node_zlib_1.default.createDeflateRaw());\n                break;\n            case 'br':\n                super(node_zlib_1.default.createBrotliCompress());\n                break;\n            case 'zstd':\n                super(node_zlib_1.default.createZstdCompress());\n                break;\n            default:\n                throw new Error(`Unsupported compression format: ${compressionFormat}`);\n        }\n    }\n}\nexports.PonyfillCompressionStream = PonyfillCompressionStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0NvbXByZXNzaW9uU3RyZWFtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGlDQUFpQztBQUNqQyxnQkFBZ0IsbUJBQU8sQ0FBQyx1REFBTztBQUMvQiw0Q0FBNEMsbUJBQU8sQ0FBQyw0QkFBVztBQUMvRCw2QkFBNkIsbUJBQU8sQ0FBQyxpR0FBc0I7QUFDM0QsbUJBQW1CLG1CQUFPLENBQUMsNkVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsa0JBQWtCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvQ29tcHJlc3Npb25TdHJlYW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsQ29tcHJlc3Npb25TdHJlYW0gPSB2b2lkIDA7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuY29uc3Qgbm9kZV96bGliXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibm9kZTp6bGliXCIpKTtcbmNvbnN0IFRyYW5zZm9ybVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vVHJhbnNmb3JtU3RyZWFtLmpzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxDb21wcmVzc2lvblN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbV9qc18xLlBvbnlmaWxsVHJhbnNmb3JtU3RyZWFtIHtcbiAgICBzdGF0aWMgc3VwcG9ydGVkRm9ybWF0cyA9ICgwLCB1dGlsc19qc18xLmdldFN1cHBvcnRlZEZvcm1hdHMpKCk7XG4gICAgY29uc3RydWN0b3IoY29tcHJlc3Npb25Gb3JtYXQpIHtcbiAgICAgICAgc3dpdGNoIChjb21wcmVzc2lvbkZvcm1hdCkge1xuICAgICAgICAgICAgY2FzZSAneC1nemlwJzpcbiAgICAgICAgICAgIGNhc2UgJ2d6aXAnOlxuICAgICAgICAgICAgICAgIHN1cGVyKG5vZGVfemxpYl8xLmRlZmF1bHQuY3JlYXRlR3ppcCgpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3gtZGVmbGF0ZSc6XG4gICAgICAgICAgICBjYXNlICdkZWZsYXRlJzpcbiAgICAgICAgICAgICAgICBzdXBlcihub2RlX3psaWJfMS5kZWZhdWx0LmNyZWF0ZURlZmxhdGUoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZWZsYXRlLXJhdyc6XG4gICAgICAgICAgICAgICAgc3VwZXIobm9kZV96bGliXzEuZGVmYXVsdC5jcmVhdGVEZWZsYXRlUmF3KCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYnInOlxuICAgICAgICAgICAgICAgIHN1cGVyKG5vZGVfemxpYl8xLmRlZmF1bHQuY3JlYXRlQnJvdGxpQ29tcHJlc3MoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd6c3RkJzpcbiAgICAgICAgICAgICAgICBzdXBlcihub2RlX3psaWJfMS5kZWZhdWx0LmNyZWF0ZVpzdGRDb21wcmVzcygpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjb21wcmVzc2lvbiBmb3JtYXQ6ICR7Y29tcHJlc3Npb25Gb3JtYXR9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlBvbnlmaWxsQ29tcHJlc3Npb25TdHJlYW0gPSBQb255ZmlsbENvbXByZXNzaW9uU3RyZWFtO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/CompressionStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/DecompressionStream.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/DecompressionStream.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillDecompressionStream = void 0;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\nconst node_zlib_1 = tslib_1.__importDefault(__webpack_require__(/*! node:zlib */ \"node:zlib\"));\nconst TransformStream_js_1 = __webpack_require__(/*! ./TransformStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nclass PonyfillDecompressionStream extends TransformStream_js_1.PonyfillTransformStream {\n    static supportedFormats = (0, utils_js_1.getSupportedFormats)();\n    constructor(compressionFormat) {\n        switch (compressionFormat) {\n            case 'x-gzip':\n            case 'gzip':\n                super(node_zlib_1.default.createGunzip());\n                break;\n            case 'x-deflate':\n            case 'deflate':\n                super(node_zlib_1.default.createInflate());\n                break;\n            case 'deflate-raw':\n                super(node_zlib_1.default.createInflateRaw());\n                break;\n            case 'br':\n                super(node_zlib_1.default.createBrotliDecompress());\n                break;\n            case 'zstd':\n                super(node_zlib_1.default.createZstdDecompress());\n                break;\n            default:\n                throw new TypeError(`Unsupported compression format: '${compressionFormat}'`);\n        }\n    }\n}\nexports.PonyfillDecompressionStream = PonyfillDecompressionStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0RlY29tcHJlc3Npb25TdHJlYW0uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUNBQW1DO0FBQ25DLGdCQUFnQixtQkFBTyxDQUFDLHVEQUFPO0FBQy9CLDRDQUE0QyxtQkFBTyxDQUFDLDRCQUFXO0FBQy9ELDZCQUE2QixtQkFBTyxDQUFDLGlHQUFzQjtBQUMzRCxtQkFBbUIsbUJBQU8sQ0FBQyw2RUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxrQkFBa0I7QUFDMUY7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9EZWNvbXByZXNzaW9uU3RyZWFtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbERlY29tcHJlc3Npb25TdHJlYW0gPSB2b2lkIDA7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuY29uc3Qgbm9kZV96bGliXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibm9kZTp6bGliXCIpKTtcbmNvbnN0IFRyYW5zZm9ybVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vVHJhbnNmb3JtU3RyZWFtLmpzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxEZWNvbXByZXNzaW9uU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtU3RyZWFtX2pzXzEuUG9ueWZpbGxUcmFuc2Zvcm1TdHJlYW0ge1xuICAgIHN0YXRpYyBzdXBwb3J0ZWRGb3JtYXRzID0gKDAsIHV0aWxzX2pzXzEuZ2V0U3VwcG9ydGVkRm9ybWF0cykoKTtcbiAgICBjb25zdHJ1Y3Rvcihjb21wcmVzc2lvbkZvcm1hdCkge1xuICAgICAgICBzd2l0Y2ggKGNvbXByZXNzaW9uRm9ybWF0KSB7XG4gICAgICAgICAgICBjYXNlICd4LWd6aXAnOlxuICAgICAgICAgICAgY2FzZSAnZ3ppcCc6XG4gICAgICAgICAgICAgICAgc3VwZXIobm9kZV96bGliXzEuZGVmYXVsdC5jcmVhdGVHdW56aXAoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd4LWRlZmxhdGUnOlxuICAgICAgICAgICAgY2FzZSAnZGVmbGF0ZSc6XG4gICAgICAgICAgICAgICAgc3VwZXIobm9kZV96bGliXzEuZGVmYXVsdC5jcmVhdGVJbmZsYXRlKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGVmbGF0ZS1yYXcnOlxuICAgICAgICAgICAgICAgIHN1cGVyKG5vZGVfemxpYl8xLmRlZmF1bHQuY3JlYXRlSW5mbGF0ZVJhdygpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2JyJzpcbiAgICAgICAgICAgICAgICBzdXBlcihub2RlX3psaWJfMS5kZWZhdWx0LmNyZWF0ZUJyb3RsaURlY29tcHJlc3MoKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd6c3RkJzpcbiAgICAgICAgICAgICAgICBzdXBlcihub2RlX3psaWJfMS5kZWZhdWx0LmNyZWF0ZVpzdGREZWNvbXByZXNzKCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnN1cHBvcnRlZCBjb21wcmVzc2lvbiBmb3JtYXQ6ICcke2NvbXByZXNzaW9uRm9ybWF0fSdgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxEZWNvbXByZXNzaW9uU3RyZWFtID0gUG9ueWZpbGxEZWNvbXByZXNzaW9uU3RyZWFtO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/DecompressionStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/File.js":
/*!**********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/File.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillFile = void 0;\nconst Blob_js_1 = __webpack_require__(/*! ./Blob.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js\");\nclass PonyfillFile extends Blob_js_1.PonyfillBlob {\n    name;\n    lastModified;\n    constructor(fileBits, name, options) {\n        super(fileBits, options);\n        this.name = name;\n        this.lastModified = options?.lastModified || Date.now();\n    }\n    webkitRelativePath = '';\n}\nexports.PonyfillFile = PonyfillFile;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0ZpbGUuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLGtCQUFrQixtQkFBTyxDQUFDLDJFQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9GaWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbEZpbGUgPSB2b2lkIDA7XG5jb25zdCBCbG9iX2pzXzEgPSByZXF1aXJlKFwiLi9CbG9iLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxGaWxlIGV4dGVuZHMgQmxvYl9qc18xLlBvbnlmaWxsQmxvYiB7XG4gICAgbmFtZTtcbiAgICBsYXN0TW9kaWZpZWQ7XG4gICAgY29uc3RydWN0b3IoZmlsZUJpdHMsIG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoZmlsZUJpdHMsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmxhc3RNb2RpZmllZCA9IG9wdGlvbnM/Lmxhc3RNb2RpZmllZCB8fCBEYXRlLm5vdygpO1xuICAgIH1cbiAgICB3ZWJraXRSZWxhdGl2ZVBhdGggPSAnJztcbn1cbmV4cG9ydHMuUG9ueWZpbGxGaWxlID0gUG9ueWZpbGxGaWxlO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/File.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/FormData.js":
/*!**************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/FormData.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillFormData = void 0;\nexports.getStreamFromFormData = getStreamFromFormData;\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst IteratorObject_js_1 = __webpack_require__(/*! ./IteratorObject.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js\");\nconst ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nclass PonyfillFormData {\n    map = new Map();\n    append(name, value, fileName) {\n        let values = this.map.get(name);\n        if (!values) {\n            values = [];\n            this.map.set(name, values);\n        }\n        const entry = isBlob(value)\n            ? getNormalizedFile(name, value, fileName)\n            : value;\n        values.push(entry);\n    }\n    delete(name) {\n        this.map.delete(name);\n    }\n    get(name) {\n        const values = this.map.get(name);\n        return values ? values[0] : null;\n    }\n    getAll(name) {\n        return this.map.get(name) || [];\n    }\n    has(name) {\n        return this.map.has(name);\n    }\n    set(name, value, fileName) {\n        const entry = isBlob(value)\n            ? getNormalizedFile(name, value, fileName)\n            : value;\n        this.map.set(name, [entry]);\n    }\n    [Symbol.iterator]() {\n        return this._entries();\n    }\n    *_entries() {\n        for (const [key, values] of this.map) {\n            for (const value of values) {\n                yield [key, value];\n            }\n        }\n    }\n    entries() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._entries(), 'FormDataIterator');\n    }\n    _keys() {\n        return this.map.keys();\n    }\n    keys() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._keys(), 'FormDataIterator');\n    }\n    *_values() {\n        for (const values of this.map.values()) {\n            for (const value of values) {\n                yield value;\n            }\n        }\n    }\n    values() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._values(), 'FormDataIterator');\n    }\n    forEach(callback) {\n        for (const [key, value] of this) {\n            callback(value, key, this);\n        }\n    }\n}\nexports.PonyfillFormData = PonyfillFormData;\nfunction getStreamFromFormData(formData, boundary = '---') {\n    let entriesIterator;\n    let sentInitialHeader = false;\n    let currentAsyncIterator;\n    let hasBefore = false;\n    function handleNextEntry(controller) {\n        const { done, value } = entriesIterator.next();\n        if (done) {\n            controller.enqueue(node_buffer_1.Buffer.from(`\\r\\n--${boundary}--\\r\\n`));\n            return controller.close();\n        }\n        if (hasBefore) {\n            controller.enqueue(node_buffer_1.Buffer.from(`\\r\\n--${boundary}\\r\\n`));\n        }\n        if (value) {\n            const [key, blobOrString] = value;\n            if (typeof blobOrString === 'string') {\n                controller.enqueue(node_buffer_1.Buffer.from(`Content-Disposition: form-data; name=\"${key}\"\\r\\n\\r\\n`));\n                controller.enqueue(node_buffer_1.Buffer.from(blobOrString));\n            }\n            else {\n                let filenamePart = '';\n                if (blobOrString.name) {\n                    filenamePart = `; filename=\"${blobOrString.name}\"`;\n                }\n                controller.enqueue(node_buffer_1.Buffer.from(`Content-Disposition: form-data; name=\"${key}\"${filenamePart}\\r\\n`));\n                controller.enqueue(node_buffer_1.Buffer.from(`Content-Type: ${blobOrString.type || 'application/octet-stream'}\\r\\n\\r\\n`));\n                const entryStream = blobOrString.stream();\n                // @ts-expect-error - ReadableStream is async iterable\n                currentAsyncIterator = entryStream[Symbol.asyncIterator]();\n            }\n            hasBefore = true;\n        }\n    }\n    return new ReadableStream_js_1.PonyfillReadableStream({\n        start: () => {\n            entriesIterator = formData.entries();\n        },\n        pull: controller => {\n            if (!sentInitialHeader) {\n                sentInitialHeader = true;\n                return controller.enqueue(node_buffer_1.Buffer.from(`--${boundary}\\r\\n`));\n            }\n            if (currentAsyncIterator) {\n                return currentAsyncIterator.next().then(({ done, value }) => {\n                    if (done) {\n                        currentAsyncIterator = undefined;\n                    }\n                    if (value) {\n                        return controller.enqueue(value);\n                    }\n                    else {\n                        return handleNextEntry(controller);\n                    }\n                });\n            }\n            return handleNextEntry(controller);\n        },\n        cancel: err => {\n            entriesIterator?.return?.(err);\n            currentAsyncIterator?.return?.(err);\n        },\n    });\n}\nfunction getNormalizedFile(name, blob, fileName) {\n    Object.defineProperty(blob, 'name', {\n        configurable: true,\n        enumerable: true,\n        value: fileName || blob.name || name,\n    });\n    return blob;\n}\nfunction isBlob(value) {\n    return value?.arrayBuffer != null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0Zvcm1EYXRhLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4Qiw2QkFBNkI7QUFDN0Isc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0MsNEJBQTRCLG1CQUFPLENBQUMsK0ZBQXFCO0FBQ3pELDRCQUE0QixtQkFBTyxDQUFDLCtGQUFxQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsY0FBYztBQUM5QjtBQUNBLGtFQUFrRSxTQUFTO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxTQUFTO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEZBQThGLFFBQVEsSUFBSTtBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFlBQVksa0JBQWtCO0FBQ3BFO0FBQ0EsOEZBQThGLFFBQVEsSUFBSSxHQUFHLGFBQWE7QUFDMUgsOEVBQThFLGdEQUFnRDtBQUM5SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsU0FBUztBQUNsRjtBQUNBO0FBQ0EsMkRBQTJELGFBQWE7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvRm9ybURhdGEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsRm9ybURhdGEgPSB2b2lkIDA7XG5leHBvcnRzLmdldFN0cmVhbUZyb21Gb3JtRGF0YSA9IGdldFN0cmVhbUZyb21Gb3JtRGF0YTtcbmNvbnN0IG5vZGVfYnVmZmVyXzEgPSByZXF1aXJlKFwibm9kZTpidWZmZXJcIik7XG5jb25zdCBJdGVyYXRvck9iamVjdF9qc18xID0gcmVxdWlyZShcIi4vSXRlcmF0b3JPYmplY3QuanNcIik7XG5jb25zdCBSZWFkYWJsZVN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vUmVhZGFibGVTdHJlYW0uanNcIik7XG5jbGFzcyBQb255ZmlsbEZvcm1EYXRhIHtcbiAgICBtYXAgPSBuZXcgTWFwKCk7XG4gICAgYXBwZW5kKG5hbWUsIHZhbHVlLCBmaWxlTmFtZSkge1xuICAgICAgICBsZXQgdmFsdWVzID0gdGhpcy5tYXAuZ2V0KG5hbWUpO1xuICAgICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICAgICAgdmFsdWVzID0gW107XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQobmFtZSwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbnRyeSA9IGlzQmxvYih2YWx1ZSlcbiAgICAgICAgICAgID8gZ2V0Tm9ybWFsaXplZEZpbGUobmFtZSwgdmFsdWUsIGZpbGVOYW1lKVxuICAgICAgICAgICAgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWVzLnB1c2goZW50cnkpO1xuICAgIH1cbiAgICBkZWxldGUobmFtZSkge1xuICAgICAgICB0aGlzLm1hcC5kZWxldGUobmFtZSk7XG4gICAgfVxuICAgIGdldChuYW1lKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMubWFwLmdldChuYW1lKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyA/IHZhbHVlc1swXSA6IG51bGw7XG4gICAgfVxuICAgIGdldEFsbChuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5nZXQobmFtZSkgfHwgW107XG4gICAgfVxuICAgIGhhcyhuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5oYXMobmFtZSk7XG4gICAgfVxuICAgIHNldChuYW1lLCB2YWx1ZSwgZmlsZU5hbWUpIHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBpc0Jsb2IodmFsdWUpXG4gICAgICAgICAgICA/IGdldE5vcm1hbGl6ZWRGaWxlKG5hbWUsIHZhbHVlLCBmaWxlTmFtZSlcbiAgICAgICAgICAgIDogdmFsdWU7XG4gICAgICAgIHRoaXMubWFwLnNldChuYW1lLCBbZW50cnldKTtcbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbnRyaWVzKCk7XG4gICAgfVxuICAgICpfZW50cmllcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZXNdIG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHlpZWxkIFtrZXksIHZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbnRyaWVzKCkge1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yT2JqZWN0X2pzXzEuUG9ueWZpbGxJdGVyYXRvck9iamVjdCh0aGlzLl9lbnRyaWVzKCksICdGb3JtRGF0YUl0ZXJhdG9yJyk7XG4gICAgfVxuICAgIF9rZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAua2V5cygpO1xuICAgIH1cbiAgICBrZXlzKCkge1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yT2JqZWN0X2pzXzEuUG9ueWZpbGxJdGVyYXRvck9iamVjdCh0aGlzLl9rZXlzKCksICdGb3JtRGF0YUl0ZXJhdG9yJyk7XG4gICAgfVxuICAgICpfdmFsdWVzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlcyBvZiB0aGlzLm1hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSXRlcmF0b3JPYmplY3RfanNfMS5Qb255ZmlsbEl0ZXJhdG9yT2JqZWN0KHRoaXMuX3ZhbHVlcygpLCAnRm9ybURhdGFJdGVyYXRvcicpO1xuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlLCBrZXksIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5Qb255ZmlsbEZvcm1EYXRhID0gUG9ueWZpbGxGb3JtRGF0YTtcbmZ1bmN0aW9uIGdldFN0cmVhbUZyb21Gb3JtRGF0YShmb3JtRGF0YSwgYm91bmRhcnkgPSAnLS0tJykge1xuICAgIGxldCBlbnRyaWVzSXRlcmF0b3I7XG4gICAgbGV0IHNlbnRJbml0aWFsSGVhZGVyID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRBc3luY0l0ZXJhdG9yO1xuICAgIGxldCBoYXNCZWZvcmUgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBoYW5kbGVOZXh0RW50cnkoY29udHJvbGxlcikge1xuICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBlbnRyaWVzSXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYFxcclxcbi0tJHtib3VuZGFyeX0tLVxcclxcbmApKTtcbiAgICAgICAgICAgIHJldHVybiBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0JlZm9yZSkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYFxcclxcbi0tJHtib3VuZGFyeX1cXHJcXG5gKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCBba2V5LCBibG9iT3JTdHJpbmddID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGJsb2JPclN0cmluZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShgQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPVwiJHtrZXl9XCJcXHJcXG5cXHJcXG5gKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYmxvYk9yU3RyaW5nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZmlsZW5hbWVQYXJ0ID0gJyc7XG4gICAgICAgICAgICAgICAgaWYgKGJsb2JPclN0cmluZy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lUGFydCA9IGA7IGZpbGVuYW1lPVwiJHtibG9iT3JTdHJpbmcubmFtZX1cImA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGBDb250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9XCIke2tleX1cIiR7ZmlsZW5hbWVQYXJ0fVxcclxcbmApKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUobm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShgQ29udGVudC1UeXBlOiAke2Jsb2JPclN0cmluZy50eXBlIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nfVxcclxcblxcclxcbmApKTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRyeVN0cmVhbSA9IGJsb2JPclN0cmluZy5zdHJlYW0oKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gUmVhZGFibGVTdHJlYW0gaXMgYXN5bmMgaXRlcmFibGVcbiAgICAgICAgICAgICAgICBjdXJyZW50QXN5bmNJdGVyYXRvciA9IGVudHJ5U3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFzQmVmb3JlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtX2pzXzEuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgIHN0YXJ0OiAoKSA9PiB7XG4gICAgICAgICAgICBlbnRyaWVzSXRlcmF0b3IgPSBmb3JtRGF0YS5lbnRyaWVzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHB1bGw6IGNvbnRyb2xsZXIgPT4ge1xuICAgICAgICAgICAgaWYgKCFzZW50SW5pdGlhbEhlYWRlcikge1xuICAgICAgICAgICAgICAgIHNlbnRJbml0aWFsSGVhZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udHJvbGxlci5lbnF1ZXVlKG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oYC0tJHtib3VuZGFyeX1cXHJcXG5gKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudEFzeW5jSXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudEFzeW5jSXRlcmF0b3IubmV4dCgpLnRoZW4oKHsgZG9uZSwgdmFsdWUgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEFzeW5jSXRlcmF0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVOZXh0RW50cnkoY29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVOZXh0RW50cnkoY29udHJvbGxlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbmNlbDogZXJyID0+IHtcbiAgICAgICAgICAgIGVudHJpZXNJdGVyYXRvcj8ucmV0dXJuPy4oZXJyKTtcbiAgICAgICAgICAgIGN1cnJlbnRBc3luY0l0ZXJhdG9yPy5yZXR1cm4/LihlcnIpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0Tm9ybWFsaXplZEZpbGUobmFtZSwgYmxvYiwgZmlsZU5hbWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoYmxvYiwgJ25hbWUnLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGZpbGVOYW1lIHx8IGJsb2IubmFtZSB8fCBuYW1lLFxuICAgIH0pO1xuICAgIHJldHVybiBibG9iO1xufVxuZnVuY3Rpb24gaXNCbG9iKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlPy5hcnJheUJ1ZmZlciAhPSBudWxsO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/FormData.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js":
/*!*************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Headers.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillHeaders = void 0;\nexports.isHeadersLike = isHeadersLike;\nconst node_util_1 = __webpack_require__(/*! node:util */ \"node:util\");\nconst IteratorObject_js_1 = __webpack_require__(/*! ./IteratorObject.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js\");\nfunction isHeadersLike(headers) {\n    return headers?.get && headers?.forEach;\n}\nclass PonyfillHeaders {\n    headersInit;\n    _map;\n    objectNormalizedKeysOfHeadersInit = [];\n    objectOriginalKeysOfHeadersInit = [];\n    _setCookies;\n    constructor(headersInit) {\n        this.headersInit = headersInit;\n    }\n    // perf: we don't need to build `this.map` for Requests, as we can access the headers directly\n    _get(key) {\n        const normalized = key.toLowerCase();\n        if (normalized === 'set-cookie' && this._setCookies?.length) {\n            return this._setCookies.join(', ');\n        }\n        // If the map is built, reuse it\n        if (this._map) {\n            return this._map.get(normalized) || null;\n        }\n        // If the map is not built, try to get the value from the this.headersInit\n        if (this.headersInit == null) {\n            return null;\n        }\n        if (Array.isArray(this.headersInit)) {\n            const found = this.headersInit.filter(([headerKey]) => headerKey.toLowerCase() === normalized);\n            if (found.length === 0) {\n                return null;\n            }\n            if (found.length === 1) {\n                return found[0][1];\n            }\n            return found.map(([, value]) => value).join(', ');\n        }\n        else if (isHeadersLike(this.headersInit)) {\n            return this.headersInit.get(normalized);\n        }\n        else {\n            const initValue = this.headersInit[key] || this.headersInit[normalized];\n            if (initValue != null) {\n                return initValue;\n            }\n            if (!this.objectNormalizedKeysOfHeadersInit.length) {\n                Object.keys(this.headersInit).forEach(k => {\n                    this.objectOriginalKeysOfHeadersInit.push(k);\n                    this.objectNormalizedKeysOfHeadersInit.push(k.toLowerCase());\n                });\n            }\n            const index = this.objectNormalizedKeysOfHeadersInit.indexOf(normalized);\n            if (index === -1) {\n                return null;\n            }\n            const originalKey = this.objectOriginalKeysOfHeadersInit[index];\n            return this.headersInit[originalKey];\n        }\n    }\n    // perf: Build the map of headers lazily, only when we need to access all headers or write to it.\n    // I could do a getter here, but I'm too lazy to type `getter`.\n    getMap() {\n        if (!this._map) {\n            this._setCookies ||= [];\n            if (this.headersInit != null) {\n                if (Array.isArray(this.headersInit)) {\n                    this._map = new Map();\n                    for (const [key, value] of this.headersInit) {\n                        const normalizedKey = key.toLowerCase();\n                        if (normalizedKey === 'set-cookie') {\n                            if (Array.isArray(value)) {\n                                this._setCookies.push(...value);\n                            }\n                            else if (value != null) {\n                                this._setCookies.push(value);\n                            }\n                            continue;\n                        }\n                        this._map.set(normalizedKey, value);\n                    }\n                }\n                else if (isHeadersLike(this.headersInit)) {\n                    this._map = new Map();\n                    this.headersInit.forEach((value, key) => {\n                        if (key === 'set-cookie') {\n                            this._setCookies ||= [];\n                            if (Array.isArray(value)) {\n                                this._setCookies.push(...value);\n                            }\n                            else if (value != null) {\n                                this._setCookies.push(value);\n                            }\n                            return;\n                        }\n                        this._map.set(key, value);\n                    });\n                }\n                else {\n                    this._map = new Map();\n                    for (const initKey in this.headersInit) {\n                        const initValue = this.headersInit[initKey];\n                        if (initValue != null) {\n                            const normalizedKey = initKey.toLowerCase();\n                            if (normalizedKey === 'set-cookie') {\n                                this._setCookies ||= [];\n                                if (Array.isArray(initValue)) {\n                                    this._setCookies.push(...initValue);\n                                    continue;\n                                }\n                                this._setCookies.push(initValue);\n                                continue;\n                            }\n                            this._map.set(normalizedKey, initValue);\n                        }\n                    }\n                }\n            }\n            else {\n                this._map = new Map();\n            }\n        }\n        return this._map;\n    }\n    append(name, value) {\n        const key = name.toLowerCase();\n        if (key === 'set-cookie') {\n            this._setCookies ||= [];\n            this._setCookies.push(value);\n            return;\n        }\n        const existingValue = this.getMap().get(key);\n        const finalValue = existingValue ? `${existingValue}, ${value}` : value;\n        this.getMap().set(key, finalValue);\n    }\n    get(name) {\n        const value = this._get(name);\n        if (value == null) {\n            return null;\n        }\n        return value.toString();\n    }\n    has(name) {\n        const key = name.toLowerCase();\n        if (key === 'set-cookie') {\n            return !!this._setCookies?.length;\n        }\n        return !!this._get(name); // we might need to check if header exists and not just check if it's not nullable\n    }\n    set(name, value) {\n        const key = name.toLowerCase();\n        if (key === 'set-cookie') {\n            this._setCookies = [value];\n            return;\n        }\n        if (!this._map && this.headersInit != null) {\n            if (Array.isArray(this.headersInit)) {\n                const found = this.headersInit.find(([headerKey]) => headerKey.toLowerCase() === key);\n                if (found) {\n                    found[1] = value;\n                }\n                else {\n                    this.headersInit.push([key, value]);\n                }\n                return;\n            }\n            else if (isHeadersLike(this.headersInit)) {\n                this.headersInit.set(key, value);\n                return;\n            }\n            else {\n                this.headersInit[key] = value;\n                return;\n            }\n        }\n        this.getMap().set(key, value);\n    }\n    delete(name) {\n        const key = name.toLowerCase();\n        if (key === 'set-cookie') {\n            this._setCookies = [];\n            return;\n        }\n        this.getMap().delete(key);\n    }\n    forEach(callback) {\n        this._setCookies?.forEach(setCookie => {\n            callback(setCookie, 'set-cookie', this);\n        });\n        if (!this._map) {\n            if (this.headersInit) {\n                if (Array.isArray(this.headersInit)) {\n                    this.headersInit.forEach(([key, value]) => {\n                        callback(value, key, this);\n                    });\n                    return;\n                }\n                if (isHeadersLike(this.headersInit)) {\n                    this.headersInit.forEach(callback);\n                    return;\n                }\n                Object.entries(this.headersInit).forEach(([key, value]) => {\n                    if (value != null) {\n                        callback(value, key, this);\n                    }\n                });\n            }\n            return;\n        }\n        this.getMap().forEach((value, key) => {\n            callback(value, key, this);\n        });\n    }\n    *_keys() {\n        if (this._setCookies?.length) {\n            yield 'set-cookie';\n        }\n        if (!this._map) {\n            if (this.headersInit) {\n                if (Array.isArray(this.headersInit)) {\n                    yield* this.headersInit.map(([key]) => key)[Symbol.iterator]();\n                    return;\n                }\n                if (isHeadersLike(this.headersInit)) {\n                    yield* this.headersInit.keys();\n                    return;\n                }\n                yield* Object.keys(this.headersInit)[Symbol.iterator]();\n                return;\n            }\n        }\n        yield* this.getMap().keys();\n    }\n    keys() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._keys(), 'HeadersIterator');\n    }\n    *_values() {\n        if (this._setCookies?.length) {\n            yield* this._setCookies;\n        }\n        if (!this._map) {\n            if (this.headersInit) {\n                if (Array.isArray(this.headersInit)) {\n                    yield* this.headersInit.map(([, value]) => value)[Symbol.iterator]();\n                    return;\n                }\n                if (isHeadersLike(this.headersInit)) {\n                    yield* this.headersInit.values();\n                    return;\n                }\n                yield* Object.values(this.headersInit)[Symbol.iterator]();\n                return;\n            }\n        }\n        yield* this.getMap().values();\n    }\n    values() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._values(), 'HeadersIterator');\n    }\n    *_entries() {\n        if (this._setCookies?.length) {\n            yield* this._setCookies.map(cookie => ['set-cookie', cookie]);\n        }\n        if (!this._map) {\n            if (this.headersInit) {\n                if (Array.isArray(this.headersInit)) {\n                    yield* this.headersInit;\n                    return;\n                }\n                if (isHeadersLike(this.headersInit)) {\n                    yield* this.headersInit.entries();\n                    return;\n                }\n                yield* Object.entries(this.headersInit);\n                return;\n            }\n        }\n        yield* this.getMap().entries();\n    }\n    entries() {\n        return new IteratorObject_js_1.PonyfillIteratorObject(this._entries(), 'HeadersIterator');\n    }\n    getSetCookie() {\n        if (!this._setCookies) {\n            this.getMap();\n        }\n        return this._setCookies;\n    }\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        const record = {};\n        this.forEach((value, key) => {\n            if (key === 'set-cookie') {\n                record['set-cookie'] = this._setCookies || [];\n            }\n            else {\n                record[key] = value?.includes(',') ? value.split(',').map(el => el.trim()) : value;\n            }\n        });\n        return `Headers ${(0, node_util_1.inspect)(record)}`;\n    }\n}\nexports.PonyfillHeaders = PonyfillHeaders;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0hlYWRlcnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLHFCQUFxQjtBQUNyQixvQkFBb0IsbUJBQU8sQ0FBQyw0QkFBVztBQUN2Qyw0QkFBNEIsbUJBQU8sQ0FBQywrRkFBcUI7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGNBQWMsSUFBSSxNQUFNO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDBCQUEwQixpQ0FBaUM7QUFDM0Q7QUFDQTtBQUNBLHVCQUF1QiIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvSGVhZGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9ueWZpbGxIZWFkZXJzID0gdm9pZCAwO1xuZXhwb3J0cy5pc0hlYWRlcnNMaWtlID0gaXNIZWFkZXJzTGlrZTtcbmNvbnN0IG5vZGVfdXRpbF8xID0gcmVxdWlyZShcIm5vZGU6dXRpbFwiKTtcbmNvbnN0IEl0ZXJhdG9yT2JqZWN0X2pzXzEgPSByZXF1aXJlKFwiLi9JdGVyYXRvck9iamVjdC5qc1wiKTtcbmZ1bmN0aW9uIGlzSGVhZGVyc0xpa2UoaGVhZGVycykge1xuICAgIHJldHVybiBoZWFkZXJzPy5nZXQgJiYgaGVhZGVycz8uZm9yRWFjaDtcbn1cbmNsYXNzIFBvbnlmaWxsSGVhZGVycyB7XG4gICAgaGVhZGVyc0luaXQ7XG4gICAgX21hcDtcbiAgICBvYmplY3ROb3JtYWxpemVkS2V5c09mSGVhZGVyc0luaXQgPSBbXTtcbiAgICBvYmplY3RPcmlnaW5hbEtleXNPZkhlYWRlcnNJbml0ID0gW107XG4gICAgX3NldENvb2tpZXM7XG4gICAgY29uc3RydWN0b3IoaGVhZGVyc0luaXQpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzSW5pdCA9IGhlYWRlcnNJbml0O1xuICAgIH1cbiAgICAvLyBwZXJmOiB3ZSBkb24ndCBuZWVkIHRvIGJ1aWxkIGB0aGlzLm1hcGAgZm9yIFJlcXVlc3RzLCBhcyB3ZSBjYW4gYWNjZXNzIHRoZSBoZWFkZXJzIGRpcmVjdGx5XG4gICAgX2dldChrZXkpIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobm9ybWFsaXplZCA9PT0gJ3NldC1jb29raWUnICYmIHRoaXMuX3NldENvb2tpZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NldENvb2tpZXMuam9pbignLCAnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgbWFwIGlzIGJ1aWx0LCByZXVzZSBpdFxuICAgICAgICBpZiAodGhpcy5fbWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFwLmdldChub3JtYWxpemVkKSB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBtYXAgaXMgbm90IGJ1aWx0LCB0cnkgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSB0aGlzLmhlYWRlcnNJbml0XG4gICAgICAgIGlmICh0aGlzLmhlYWRlcnNJbml0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICBjb25zdCBmb3VuZCA9IHRoaXMuaGVhZGVyc0luaXQuZmlsdGVyKChbaGVhZGVyS2V5XSkgPT4gaGVhZGVyS2V5LnRvTG93ZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWQpO1xuICAgICAgICAgICAgaWYgKGZvdW5kLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZvdW5kLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3VuZFswXVsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmb3VuZC5tYXAoKFssIHZhbHVlXSkgPT4gdmFsdWUpLmpvaW4oJywgJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNIZWFkZXJzTGlrZSh0aGlzLmhlYWRlcnNJbml0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVhZGVyc0luaXQuZ2V0KG5vcm1hbGl6ZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaW5pdFZhbHVlID0gdGhpcy5oZWFkZXJzSW5pdFtrZXldIHx8IHRoaXMuaGVhZGVyc0luaXRbbm9ybWFsaXplZF07XG4gICAgICAgICAgICBpZiAoaW5pdFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5pdFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLm9iamVjdE5vcm1hbGl6ZWRLZXlzT2ZIZWFkZXJzSW5pdC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmhlYWRlcnNJbml0KS5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9iamVjdE9yaWdpbmFsS2V5c09mSGVhZGVyc0luaXQucHVzaChrKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmplY3ROb3JtYWxpemVkS2V5c09mSGVhZGVyc0luaXQucHVzaChrLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLm9iamVjdE5vcm1hbGl6ZWRLZXlzT2ZIZWFkZXJzSW5pdC5pbmRleE9mKG5vcm1hbGl6ZWQpO1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxLZXkgPSB0aGlzLm9iamVjdE9yaWdpbmFsS2V5c09mSGVhZGVyc0luaXRbaW5kZXhdO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGVhZGVyc0luaXRbb3JpZ2luYWxLZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHBlcmY6IEJ1aWxkIHRoZSBtYXAgb2YgaGVhZGVycyBsYXppbHksIG9ubHkgd2hlbiB3ZSBuZWVkIHRvIGFjY2VzcyBhbGwgaGVhZGVycyBvciB3cml0ZSB0byBpdC5cbiAgICAvLyBJIGNvdWxkIGRvIGEgZ2V0dGVyIGhlcmUsIGJ1dCBJJ20gdG9vIGxhenkgdG8gdHlwZSBgZ2V0dGVyYC5cbiAgICBnZXRNYXAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRDb29raWVzIHx8PSBbXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlYWRlcnNJbml0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmhlYWRlcnNJbml0KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHRoaXMuaGVhZGVyc0luaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxpemVkS2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0Q29va2llcy5wdXNoKC4uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRDb29raWVzLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcC5zZXQobm9ybWFsaXplZEtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzSGVhZGVyc0xpa2UodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYWRlcnNJbml0LmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldENvb2tpZXMgfHw9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRDb29raWVzLnB1c2goLi4udmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldENvb2tpZXMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcC5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGluaXRLZXkgaW4gdGhpcy5oZWFkZXJzSW5pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5pdFZhbHVlID0gdGhpcy5oZWFkZXJzSW5pdFtpbml0S2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbml0VmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBpbml0S2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRLZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRDb29raWVzIHx8PSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaW5pdFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0Q29va2llcy5wdXNoKC4uLmluaXRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRDb29raWVzLnB1c2goaW5pdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21hcC5zZXQobm9ybWFsaXplZEtleSwgaW5pdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbWFwO1xuICAgIH1cbiAgICBhcHBlbmQobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldENvb2tpZXMgfHw9IFtdO1xuICAgICAgICAgICAgdGhpcy5fc2V0Q29va2llcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBleGlzdGluZ1ZhbHVlID0gdGhpcy5nZXRNYXAoKS5nZXQoa2V5KTtcbiAgICAgICAgY29uc3QgZmluYWxWYWx1ZSA9IGV4aXN0aW5nVmFsdWUgPyBgJHtleGlzdGluZ1ZhbHVlfSwgJHt2YWx1ZX1gIDogdmFsdWU7XG4gICAgICAgIHRoaXMuZ2V0TWFwKCkuc2V0KGtleSwgZmluYWxWYWx1ZSk7XG4gICAgfVxuICAgIGdldChuYW1lKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fZ2V0KG5hbWUpO1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGhhcyhuYW1lKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gISF0aGlzLl9zZXRDb29raWVzPy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZ2V0KG5hbWUpOyAvLyB3ZSBtaWdodCBuZWVkIHRvIGNoZWNrIGlmIGhlYWRlciBleGlzdHMgYW5kIG5vdCBqdXN0IGNoZWNrIGlmIGl0J3Mgbm90IG51bGxhYmxlXG4gICAgfVxuICAgIHNldChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBrZXkgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICAgICAgdGhpcy5fc2V0Q29va2llcyA9IFt2YWx1ZV07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9tYXAgJiYgdGhpcy5oZWFkZXJzSW5pdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmhlYWRlcnNJbml0KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kID0gdGhpcy5oZWFkZXJzSW5pdC5maW5kKChbaGVhZGVyS2V5XSkgPT4gaGVhZGVyS2V5LnRvTG93ZXJDYXNlKCkgPT09IGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kWzFdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhlYWRlcnNJbml0LnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNIZWFkZXJzTGlrZSh0aGlzLmhlYWRlcnNJbml0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyc0luaXQuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyc0luaXRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdldE1hcCgpLnNldChrZXksIHZhbHVlKTtcbiAgICB9XG4gICAgZGVsZXRlKG5hbWUpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldENvb2tpZXMgPSBbXTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdldE1hcCgpLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3NldENvb2tpZXM/LmZvckVhY2goc2V0Q29va2llID0+IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHNldENvb2tpZSwgJ3NldC1jb29raWUnLCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzSW5pdCkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyc0luaXQuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh2YWx1ZSwga2V5LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzSGVhZGVyc0xpa2UodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWFkZXJzSW5pdC5mb3JFYWNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyh0aGlzLmhlYWRlcnNJbml0KS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHZhbHVlLCBrZXksIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nZXRNYXAoKS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjayh2YWx1ZSwga2V5LCB0aGlzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgICpfa2V5cygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NldENvb2tpZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgeWllbGQgJ3NldC1jb29raWUnO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbWFwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXJzSW5pdCkge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLmhlYWRlcnNJbml0Lm1hcCgoW2tleV0pID0+IGtleSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0hlYWRlcnNMaWtlKHRoaXMuaGVhZGVyc0luaXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkKiB0aGlzLmhlYWRlcnNJbml0LmtleXMoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB5aWVsZCogT2JqZWN0LmtleXModGhpcy5oZWFkZXJzSW5pdClbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB5aWVsZCogdGhpcy5nZXRNYXAoKS5rZXlzKCk7XG4gICAgfVxuICAgIGtleXMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSXRlcmF0b3JPYmplY3RfanNfMS5Qb255ZmlsbEl0ZXJhdG9yT2JqZWN0KHRoaXMuX2tleXMoKSwgJ0hlYWRlcnNJdGVyYXRvcicpO1xuICAgIH1cbiAgICAqX3ZhbHVlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NldENvb2tpZXM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgeWllbGQqIHRoaXMuX3NldENvb2tpZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlYWRlcnNJbml0KSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQqIHRoaXMuaGVhZGVyc0luaXQubWFwKChbLCB2YWx1ZV0pID0+IHZhbHVlKVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzSGVhZGVyc0xpa2UodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQqIHRoaXMuaGVhZGVyc0luaXQudmFsdWVzKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgeWllbGQqIE9iamVjdC52YWx1ZXModGhpcy5oZWFkZXJzSW5pdClbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB5aWVsZCogdGhpcy5nZXRNYXAoKS52YWx1ZXMoKTtcbiAgICB9XG4gICAgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yT2JqZWN0X2pzXzEuUG9ueWZpbGxJdGVyYXRvck9iamVjdCh0aGlzLl92YWx1ZXMoKSwgJ0hlYWRlcnNJdGVyYXRvcicpO1xuICAgIH1cbiAgICAqX2VudHJpZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXRDb29raWVzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHlpZWxkKiB0aGlzLl9zZXRDb29raWVzLm1hcChjb29raWUgPT4gWydzZXQtY29va2llJywgY29va2llXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9tYXApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmhlYWRlcnNJbml0KSB7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQqIHRoaXMuaGVhZGVyc0luaXQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzSGVhZGVyc0xpa2UodGhpcy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQqIHRoaXMuaGVhZGVyc0luaXQuZW50cmllcygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHlpZWxkKiBPYmplY3QuZW50cmllcyh0aGlzLmhlYWRlcnNJbml0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQqIHRoaXMuZ2V0TWFwKCkuZW50cmllcygpO1xuICAgIH1cbiAgICBlbnRyaWVzKCkge1xuICAgICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yT2JqZWN0X2pzXzEuUG9ueWZpbGxJdGVyYXRvck9iamVjdCh0aGlzLl9lbnRyaWVzKCksICdIZWFkZXJzSXRlcmF0b3InKTtcbiAgICB9XG4gICAgZ2V0U2V0Q29va2llKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3NldENvb2tpZXMpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0TWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldENvb2tpZXM7XG4gICAgfVxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbnRyaWVzKCk7XG4gICAgfVxuICAgIFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSgpIHtcbiAgICAgICAgY29uc3QgcmVjb3JkID0ge307XG4gICAgICAgIHRoaXMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkWydzZXQtY29va2llJ10gPSB0aGlzLl9zZXRDb29raWVzIHx8IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkW2tleV0gPSB2YWx1ZT8uaW5jbHVkZXMoJywnKSA/IHZhbHVlLnNwbGl0KCcsJykubWFwKGVsID0+IGVsLnRyaW0oKSkgOiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBgSGVhZGVycyAkeygwLCBub2RlX3V0aWxfMS5pbnNwZWN0KShyZWNvcmQpfWA7XG4gICAgfVxufVxuZXhwb3J0cy5Qb255ZmlsbEhlYWRlcnMgPSBQb255ZmlsbEhlYWRlcnM7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js":
/*!********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillIteratorObject = void 0;\nconst node_util_1 = __webpack_require__(/*! node:util */ \"node:util\");\nconst disposablestack_1 = __webpack_require__(/*! @whatwg-node/disposablestack */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/cjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nclass PonyfillIteratorObject {\n    iterableIterator;\n    [Symbol.toStringTag] = 'IteratorObject';\n    constructor(iterableIterator, className) {\n        this.iterableIterator = iterableIterator;\n        this[Symbol.toStringTag] = className;\n    }\n    *map(callbackfn) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            yield callbackfn(value, index++);\n        }\n        return undefined;\n    }\n    *filter(callbackfn) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (callbackfn(value, index++)) {\n                yield value;\n            }\n        }\n        return undefined;\n    }\n    reduce(callbackfn, initialValue) {\n        let index = 0;\n        let accumulator = initialValue;\n        for (const value of this.iterableIterator) {\n            accumulator = callbackfn(accumulator, value, index++);\n        }\n        return accumulator;\n    }\n    forEach(callbackfn) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            callbackfn(value, index++);\n        }\n    }\n    *take(limit) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (index >= limit) {\n                break;\n            }\n            yield value;\n            index++;\n        }\n        return undefined;\n    }\n    *drop(count) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (index >= count) {\n                yield value;\n            }\n            index++;\n        }\n        return undefined;\n    }\n    *flatMap(callback) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            const iteratorOrIterable = callback(value, index++);\n            if ((0, utils_js_1.isIterable)(iteratorOrIterable)) {\n                for (const innerValue of iteratorOrIterable) {\n                    yield innerValue;\n                }\n            }\n            else {\n                for (const innerValue of {\n                    [Symbol.iterator]: () => iteratorOrIterable,\n                }) {\n                    yield innerValue;\n                }\n            }\n        }\n        return undefined;\n    }\n    some(predicate) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (predicate(value, index++)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    every(predicate) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (!predicate(value, index++)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    find(predicate) {\n        let index = 0;\n        for (const value of this.iterableIterator) {\n            if (predicate(value, index++)) {\n                return value;\n            }\n        }\n        return undefined;\n    }\n    toArray() {\n        return Array.from(this.iterableIterator);\n    }\n    [disposablestack_1.DisposableSymbols.dispose]() {\n        this.iterableIterator.return?.();\n    }\n    next(...[value]) {\n        return this.iterableIterator.next(value);\n    }\n    [Symbol.iterator]() {\n        return this;\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        const record = {};\n        this.forEach((value, key) => {\n            const inspectedValue = (0, node_util_1.inspect)(value);\n            record[key] = inspectedValue.includes(',')\n                ? inspectedValue.split(',').map(el => el.trim())\n                : inspectedValue;\n        });\n        return `${this[Symbol.toStringTag]} ${(0, node_util_1.inspect)(record)}`;\n    }\n}\nexports.PonyfillIteratorObject = PonyfillIteratorObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL0l0ZXJhdG9yT2JqZWN0LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QjtBQUM5QixvQkFBb0IsbUJBQU8sQ0FBQyw0QkFBVztBQUN2QywwQkFBMEIsbUJBQU8sQ0FBQyxvR0FBOEI7QUFDaEUsbUJBQW1CLG1CQUFPLENBQUMsNkVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsa0JBQWtCLDBCQUEwQixFQUFFLGlDQUFpQztBQUMvRTtBQUNBO0FBQ0EsOEJBQThCIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9JdGVyYXRvck9iamVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9ueWZpbGxJdGVyYXRvck9iamVjdCA9IHZvaWQgMDtcbmNvbnN0IG5vZGVfdXRpbF8xID0gcmVxdWlyZShcIm5vZGU6dXRpbFwiKTtcbmNvbnN0IGRpc3Bvc2FibGVzdGFja18xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9kaXNwb3NhYmxlc3RhY2tcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5jbGFzcyBQb255ZmlsbEl0ZXJhdG9yT2JqZWN0IHtcbiAgICBpdGVyYWJsZUl0ZXJhdG9yO1xuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ0l0ZXJhdG9yT2JqZWN0JztcbiAgICBjb25zdHJ1Y3RvcihpdGVyYWJsZUl0ZXJhdG9yLCBjbGFzc05hbWUpIHtcbiAgICAgICAgdGhpcy5pdGVyYWJsZUl0ZXJhdG9yID0gaXRlcmFibGVJdGVyYXRvcjtcbiAgICAgICAgdGhpc1tTeW1ib2wudG9TdHJpbmdUYWddID0gY2xhc3NOYW1lO1xuICAgIH1cbiAgICAqbWFwKGNhbGxiYWNrZm4pIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZXJhYmxlSXRlcmF0b3IpIHtcbiAgICAgICAgICAgIHlpZWxkIGNhbGxiYWNrZm4odmFsdWUsIGluZGV4KyspO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgICpmaWx0ZXIoY2FsbGJhY2tmbikge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlcmFibGVJdGVyYXRvcikge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrZm4odmFsdWUsIGluZGV4KyspKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmVkdWNlKGNhbGxiYWNrZm4sIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBsZXQgYWNjdW11bGF0b3IgPSBpbml0aWFsVmFsdWU7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5pdGVyYWJsZUl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGNhbGxiYWNrZm4oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCsrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuICAgIGZvckVhY2goY2FsbGJhY2tmbikge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlcmFibGVJdGVyYXRvcikge1xuICAgICAgICAgICAgY2FsbGJhY2tmbih2YWx1ZSwgaW5kZXgrKyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKnRha2UobGltaXQpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZXJhYmxlSXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+PSBsaW1pdCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeWllbGQgdmFsdWU7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgICpkcm9wKGNvdW50KSB7XG4gICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdGhpcy5pdGVyYWJsZUl0ZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gY291bnQpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgKmZsYXRNYXAoY2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB0aGlzLml0ZXJhYmxlSXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZXJhdG9yT3JJdGVyYWJsZSA9IGNhbGxiYWNrKHZhbHVlLCBpbmRleCsrKTtcbiAgICAgICAgICAgIGlmICgoMCwgdXRpbHNfanNfMS5pc0l0ZXJhYmxlKShpdGVyYXRvck9ySXRlcmFibGUpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpbm5lclZhbHVlIG9mIGl0ZXJhdG9yT3JJdGVyYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBpbm5lclZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaW5uZXJWYWx1ZSBvZiB7XG4gICAgICAgICAgICAgICAgICAgIFtTeW1ib2wuaXRlcmF0b3JdOiAoKSA9PiBpdGVyYXRvck9ySXRlcmFibGUsXG4gICAgICAgICAgICAgICAgfSkge1xuICAgICAgICAgICAgICAgICAgICB5aWVsZCBpbm5lclZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzb21lKHByZWRpY2F0ZSkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlcmFibGVJdGVyYXRvcikge1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgrKykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGV2ZXJ5KHByZWRpY2F0ZSkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlcmFibGVJdGVyYXRvcikge1xuICAgICAgICAgICAgaWYgKCFwcmVkaWNhdGUodmFsdWUsIGluZGV4KyspKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBmaW5kKHByZWRpY2F0ZSkge1xuICAgICAgICBsZXQgaW5kZXggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRoaXMuaXRlcmFibGVJdGVyYXRvcikge1xuICAgICAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgrKykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5pdGVyYWJsZUl0ZXJhdG9yKTtcbiAgICB9XG4gICAgW2Rpc3Bvc2FibGVzdGFja18xLkRpc3Bvc2FibGVTeW1ib2xzLmRpc3Bvc2VdKCkge1xuICAgICAgICB0aGlzLml0ZXJhYmxlSXRlcmF0b3IucmV0dXJuPy4oKTtcbiAgICB9XG4gICAgbmV4dCguLi5bdmFsdWVdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZXJhYmxlSXRlcmF0b3IubmV4dCh2YWx1ZSk7XG4gICAgfVxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgW1N5bWJvbC5mb3IoJ25vZGVqcy51dGlsLmluc3BlY3QuY3VzdG9tJyldKCkge1xuICAgICAgICBjb25zdCByZWNvcmQgPSB7fTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbnNwZWN0ZWRWYWx1ZSA9ICgwLCBub2RlX3V0aWxfMS5pbnNwZWN0KSh2YWx1ZSk7XG4gICAgICAgICAgICByZWNvcmRba2V5XSA9IGluc3BlY3RlZFZhbHVlLmluY2x1ZGVzKCcsJylcbiAgICAgICAgICAgICAgICA/IGluc3BlY3RlZFZhbHVlLnNwbGl0KCcsJykubWFwKGVsID0+IGVsLnRyaW0oKSlcbiAgICAgICAgICAgICAgICA6IGluc3BlY3RlZFZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGAke3RoaXNbU3ltYm9sLnRvU3RyaW5nVGFnXX0gJHsoMCwgbm9kZV91dGlsXzEuaW5zcGVjdCkocmVjb3JkKX1gO1xuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxJdGVyYXRvck9iamVjdCA9IFBvbnlmaWxsSXRlcmF0b3JPYmplY3Q7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js":
/*!********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillReadableStream = void 0;\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst node_events_1 = __webpack_require__(/*! node:events */ \"node:events\");\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst promises_1 = __webpack_require__(/*! node:stream/promises */ \"node:stream/promises\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nfunction createController(desiredSize, readable) {\n    let chunks = [];\n    let _closed = false;\n    let flushed = false;\n    return {\n        desiredSize,\n        enqueue(chunk) {\n            const buf = typeof chunk === 'string' ? node_buffer_1.Buffer.from(chunk) : chunk;\n            if (!flushed) {\n                chunks.push(buf);\n            }\n            else {\n                readable.push(buf);\n            }\n        },\n        close() {\n            if (chunks.length > 0) {\n                this._flush();\n            }\n            readable.push(null);\n            _closed = true;\n        },\n        error(error) {\n            if (chunks.length > 0) {\n                this._flush();\n            }\n            readable.destroy(error);\n        },\n        get _closed() {\n            return _closed;\n        },\n        _flush() {\n            flushed = true;\n            if (chunks.length > 0) {\n                const concatenated = chunks.length > 1 ? node_buffer_1.Buffer.concat(chunks) : chunks[0];\n                readable.push(concatenated);\n                chunks = [];\n            }\n        },\n    };\n}\nfunction isNodeReadable(obj) {\n    return obj?.read != null;\n}\nfunction isReadableStream(obj) {\n    return obj?.getReader != null;\n}\nclass PonyfillReadableStream {\n    readable;\n    constructor(underlyingSource) {\n        if (underlyingSource instanceof PonyfillReadableStream && underlyingSource.readable != null) {\n            this.readable = underlyingSource.readable;\n        }\n        else if (isNodeReadable(underlyingSource)) {\n            this.readable = underlyingSource;\n        }\n        else if (isReadableStream(underlyingSource)) {\n            this.readable = node_stream_1.Readable.fromWeb(underlyingSource);\n        }\n        else {\n            let started = false;\n            let ongoing = false;\n            const handleStart = (desiredSize) => {\n                if (!started) {\n                    const controller = createController(desiredSize, this.readable);\n                    started = true;\n                    return (0, promise_helpers_1.handleMaybePromise)(() => underlyingSource?.start?.(controller), () => {\n                        controller._flush();\n                        if (controller._closed) {\n                            return false;\n                        }\n                        return true;\n                    });\n                }\n                return true;\n            };\n            const readImpl = (desiredSize) => {\n                return (0, promise_helpers_1.handleMaybePromise)(() => handleStart(desiredSize), shouldContinue => {\n                    if (!shouldContinue) {\n                        return;\n                    }\n                    const controller = createController(desiredSize, this.readable);\n                    return (0, promise_helpers_1.handleMaybePromise)(() => underlyingSource?.pull?.(controller), () => {\n                        controller._flush();\n                        ongoing = false;\n                    });\n                });\n            };\n            this.readable = new node_stream_1.Readable({\n                read(desiredSize) {\n                    if (ongoing) {\n                        return;\n                    }\n                    ongoing = true;\n                    return readImpl(desiredSize);\n                },\n                destroy(err, callback) {\n                    if (underlyingSource?.cancel) {\n                        try {\n                            const res$ = underlyingSource.cancel(err);\n                            if (res$?.then) {\n                                return res$.then(() => {\n                                    callback(null);\n                                }, err => {\n                                    callback(err);\n                                });\n                            }\n                        }\n                        catch (err) {\n                            callback(err);\n                            return;\n                        }\n                    }\n                    callback(null);\n                },\n            });\n        }\n    }\n    cancel(reason) {\n        this.readable.destroy(reason);\n        // @ts-expect-error - we know it is void\n        return (0, node_events_1.once)(this.readable, 'close');\n    }\n    locked = false;\n    getReader(_options) {\n        const iterator = this.readable[Symbol.asyncIterator]();\n        this.locked = true;\n        const thisReadable = this.readable;\n        return {\n            read() {\n                return iterator.next();\n            },\n            releaseLock: () => {\n                if (iterator.return) {\n                    const retResult$ = iterator.return();\n                    if (retResult$.then) {\n                        retResult$.then(() => {\n                            this.locked = false;\n                        });\n                        return;\n                    }\n                }\n                this.locked = false;\n            },\n            cancel: reason => {\n                if (iterator.return) {\n                    const retResult$ = iterator.return(reason);\n                    if (retResult$.then) {\n                        return retResult$.then(() => {\n                            this.locked = false;\n                        });\n                    }\n                }\n                this.locked = false;\n                return (0, utils_js_1.fakePromise)();\n            },\n            get closed() {\n                return Promise.race([\n                    (0, node_events_1.once)(thisReadable, 'end'),\n                    (0, node_events_1.once)(thisReadable, 'error').then(err => Promise.reject(err)),\n                ]);\n            },\n        };\n    }\n    [Symbol.asyncIterator]() {\n        const iterator = this.readable[Symbol.asyncIterator]();\n        return {\n            [Symbol.asyncIterator]() {\n                return this;\n            },\n            next: () => iterator.next(),\n            return: () => {\n                if (!this.readable.destroyed) {\n                    this.readable.destroy();\n                }\n                return iterator.return?.() || (0, utils_js_1.fakePromise)({ done: true, value: undefined });\n            },\n            throw: (err) => {\n                if (!this.readable.destroyed) {\n                    this.readable.destroy(err);\n                }\n                return iterator.throw?.(err) || (0, utils_js_1.fakePromise)({ done: true, value: undefined });\n            },\n        };\n    }\n    tee() {\n        throw new Error('Not implemented');\n    }\n    async pipeToWriter(writer) {\n        try {\n            for await (const chunk of this) {\n                await writer.write(chunk);\n            }\n            await writer.close();\n        }\n        catch (err) {\n            await writer.abort(err);\n        }\n    }\n    pipeTo(destination) {\n        if (isPonyfillWritableStream(destination)) {\n            return (0, promises_1.pipeline)(this.readable, destination.writable, {\n                end: true,\n            });\n        }\n        else {\n            const writer = destination.getWriter();\n            return this.pipeToWriter(writer);\n        }\n    }\n    pipeThrough({ writable, readable, }) {\n        this.pipeTo(writable).catch(err => {\n            this.readable.destroy(err);\n        });\n        if (isPonyfillReadableStream(readable)) {\n            readable.readable.once('error', err => this.readable.destroy(err));\n            readable.readable.once('finish', () => this.readable.push(null));\n            readable.readable.once('close', () => this.readable.push(null));\n        }\n        return readable;\n    }\n    static [Symbol.hasInstance](instance) {\n        return isReadableStream(instance);\n    }\n    static from(iterable) {\n        return new PonyfillReadableStream(node_stream_1.Readable.from(iterable));\n    }\n    [Symbol.toStringTag] = 'ReadableStream';\n}\nexports.PonyfillReadableStream = PonyfillReadableStream;\nfunction isPonyfillReadableStream(obj) {\n    return obj?.readable != null;\n}\nfunction isPonyfillWritableStream(obj) {\n    return obj?.writable != null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1JlYWRhYmxlU3RyZWFtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QjtBQUM5QixzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxtQkFBbUIsbUJBQU8sQ0FBQyxrREFBc0I7QUFDakQsMEJBQTBCLG1CQUFPLENBQUMsb0dBQThCO0FBQ2hFLG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRFQUE0RSw4QkFBOEI7QUFDMUcsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDhCQUE4QjtBQUM1RyxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvUmVhZGFibGVTdHJlYW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsUmVhZGFibGVTdHJlYW0gPSB2b2lkIDA7XG5jb25zdCBub2RlX2J1ZmZlcl8xID0gcmVxdWlyZShcIm5vZGU6YnVmZmVyXCIpO1xuY29uc3Qgbm9kZV9ldmVudHNfMSA9IHJlcXVpcmUoXCJub2RlOmV2ZW50c1wiKTtcbmNvbnN0IG5vZGVfc3RyZWFtXzEgPSByZXF1aXJlKFwibm9kZTpzdHJlYW1cIik7XG5jb25zdCBwcm9taXNlc18xID0gcmVxdWlyZShcIm5vZGU6c3RyZWFtL3Byb21pc2VzXCIpO1xuY29uc3QgcHJvbWlzZV9oZWxwZXJzXzEgPSByZXF1aXJlKFwiQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVyc1wiKTtcbmNvbnN0IHV0aWxzX2pzXzEgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbmZ1bmN0aW9uIGNyZWF0ZUNvbnRyb2xsZXIoZGVzaXJlZFNpemUsIHJlYWRhYmxlKSB7XG4gICAgbGV0IGNodW5rcyA9IFtdO1xuICAgIGxldCBfY2xvc2VkID0gZmFsc2U7XG4gICAgbGV0IGZsdXNoZWQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZXNpcmVkU2l6ZSxcbiAgICAgICAgZW5xdWV1ZShjaHVuaykge1xuICAgICAgICAgICAgY29uc3QgYnVmID0gdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJyA/IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oY2h1bmspIDogY2h1bms7XG4gICAgICAgICAgICBpZiAoIWZsdXNoZWQpIHtcbiAgICAgICAgICAgICAgICBjaHVua3MucHVzaChidWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVhZGFibGUucHVzaChidWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbG9zZSgpIHtcbiAgICAgICAgICAgIGlmIChjaHVua3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZsdXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkYWJsZS5wdXNoKG51bGwpO1xuICAgICAgICAgICAgX2Nsb3NlZCA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoY2h1bmtzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbHVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVhZGFibGUuZGVzdHJveShlcnJvcik7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBfY2xvc2VkKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jbG9zZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIF9mbHVzaCgpIHtcbiAgICAgICAgICAgIGZsdXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGNodW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29uY2F0ZW5hdGVkID0gY2h1bmtzLmxlbmd0aCA+IDEgPyBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5jb25jYXQoY2h1bmtzKSA6IGNodW5rc1swXTtcbiAgICAgICAgICAgICAgICByZWFkYWJsZS5wdXNoKGNvbmNhdGVuYXRlZCk7XG4gICAgICAgICAgICAgICAgY2h1bmtzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGlzTm9kZVJlYWRhYmxlKG9iaikge1xuICAgIHJldHVybiBvYmo/LnJlYWQgIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzUmVhZGFibGVTdHJlYW0ob2JqKSB7XG4gICAgcmV0dXJuIG9iaj8uZ2V0UmVhZGVyICE9IG51bGw7XG59XG5jbGFzcyBQb255ZmlsbFJlYWRhYmxlU3RyZWFtIHtcbiAgICByZWFkYWJsZTtcbiAgICBjb25zdHJ1Y3Rvcih1bmRlcmx5aW5nU291cmNlKSB7XG4gICAgICAgIGlmICh1bmRlcmx5aW5nU291cmNlIGluc3RhbmNlb2YgUG9ueWZpbGxSZWFkYWJsZVN0cmVhbSAmJiB1bmRlcmx5aW5nU291cmNlLnJlYWRhYmxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucmVhZGFibGUgPSB1bmRlcmx5aW5nU291cmNlLnJlYWRhYmxlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzTm9kZVJlYWRhYmxlKHVuZGVybHlpbmdTb3VyY2UpKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRhYmxlID0gdW5kZXJseWluZ1NvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlYWRhYmxlU3RyZWFtKHVuZGVybHlpbmdTb3VyY2UpKSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRhYmxlID0gbm9kZV9zdHJlYW1fMS5SZWFkYWJsZS5mcm9tV2ViKHVuZGVybHlpbmdTb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBvbmdvaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVTdGFydCA9IChkZXNpcmVkU2l6ZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gY3JlYXRlQ29udHJvbGxlcihkZXNpcmVkU2l6ZSwgdGhpcy5yZWFkYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfaGVscGVyc18xLmhhbmRsZU1heWJlUHJvbWlzZSkoKCkgPT4gdW5kZXJseWluZ1NvdXJjZT8uc3RhcnQ/Lihjb250cm9sbGVyKSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5fZmx1c2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyLl9jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRJbXBsID0gKGRlc2lyZWRTaXplKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+IGhhbmRsZVN0YXJ0KGRlc2lyZWRTaXplKSwgc2hvdWxkQ29udGludWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZENvbnRpbnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IGNyZWF0ZUNvbnRyb2xsZXIoZGVzaXJlZFNpemUsIHRoaXMucmVhZGFibGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIHByb21pc2VfaGVscGVyc18xLmhhbmRsZU1heWJlUHJvbWlzZSkoKCkgPT4gdW5kZXJseWluZ1NvdXJjZT8ucHVsbD8uKGNvbnRyb2xsZXIpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLl9mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25nb2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnJlYWRhYmxlID0gbmV3IG5vZGVfc3RyZWFtXzEuUmVhZGFibGUoe1xuICAgICAgICAgICAgICAgIHJlYWQoZGVzaXJlZFNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9uZ29pbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvbmdvaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRJbXBsKGRlc2lyZWRTaXplKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlc3Ryb3koZXJyLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodW5kZXJseWluZ1NvdXJjZT8uY2FuY2VsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcyQgPSB1bmRlcmx5aW5nU291cmNlLmNhbmNlbChlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMkPy50aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMkLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbmNlbChyZWFzb24pIHtcbiAgICAgICAgdGhpcy5yZWFkYWJsZS5kZXN0cm95KHJlYXNvbik7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSB3ZSBrbm93IGl0IGlzIHZvaWRcbiAgICAgICAgcmV0dXJuICgwLCBub2RlX2V2ZW50c18xLm9uY2UpKHRoaXMucmVhZGFibGUsICdjbG9zZScpO1xuICAgIH1cbiAgICBsb2NrZWQgPSBmYWxzZTtcbiAgICBnZXRSZWFkZXIoX29wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLnJlYWRhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICB0aGlzLmxvY2tlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHRoaXNSZWFkYWJsZSA9IHRoaXMucmVhZGFibGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZWFkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVsZWFzZUxvY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldFJlc3VsdCQgPSBpdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldFJlc3VsdCQudGhlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0UmVzdWx0JC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5sb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYW5jZWw6IHJlYXNvbiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXRSZXN1bHQkID0gaXRlcmF0b3IucmV0dXJuKHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRSZXN1bHQkLnRoZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXRSZXN1bHQkLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgY2xvc2VkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgICAgICAgICAgICAoMCwgbm9kZV9ldmVudHNfMS5vbmNlKSh0aGlzUmVhZGFibGUsICdlbmQnKSxcbiAgICAgICAgICAgICAgICAgICAgKDAsIG5vZGVfZXZlbnRzXzEub25jZSkodGhpc1JlYWRhYmxlLCAnZXJyb3InKS50aGVuKGVyciA9PiBQcm9taXNlLnJlamVjdChlcnIpKSxcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5yZWFkYWJsZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV4dDogKCkgPT4gaXRlcmF0b3IubmV4dCgpLFxuICAgICAgICAgICAgcmV0dXJuOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJlYWRhYmxlLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRhYmxlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yLnJldHVybj8uKCkgfHwgKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aHJvdzogKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5yZWFkYWJsZS5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkYWJsZS5kZXN0cm95KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVyYXRvci50aHJvdz8uKGVycikgfHwgKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRlZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbiAgICB9XG4gICAgYXN5bmMgcGlwZVRvV3JpdGVyKHdyaXRlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiB0aGlzKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgd3JpdGVyLndyaXRlKGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHdyaXRlci5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGF3YWl0IHdyaXRlci5hYm9ydChlcnIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBpcGVUbyhkZXN0aW5hdGlvbikge1xuICAgICAgICBpZiAoaXNQb255ZmlsbFdyaXRhYmxlU3RyZWFtKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlc18xLnBpcGVsaW5lKSh0aGlzLnJlYWRhYmxlLCBkZXN0aW5hdGlvbi53cml0YWJsZSwge1xuICAgICAgICAgICAgICAgIGVuZDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgd3JpdGVyID0gZGVzdGluYXRpb24uZ2V0V3JpdGVyKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5waXBlVG9Xcml0ZXIod3JpdGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwaXBlVGhyb3VnaCh7IHdyaXRhYmxlLCByZWFkYWJsZSwgfSkge1xuICAgICAgICB0aGlzLnBpcGVUbyh3cml0YWJsZSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVhZGFibGUuZGVzdHJveShlcnIpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzUG9ueWZpbGxSZWFkYWJsZVN0cmVhbShyZWFkYWJsZSkpIHtcbiAgICAgICAgICAgIHJlYWRhYmxlLnJlYWRhYmxlLm9uY2UoJ2Vycm9yJywgZXJyID0+IHRoaXMucmVhZGFibGUuZGVzdHJveShlcnIpKTtcbiAgICAgICAgICAgIHJlYWRhYmxlLnJlYWRhYmxlLm9uY2UoJ2ZpbmlzaCcsICgpID0+IHRoaXMucmVhZGFibGUucHVzaChudWxsKSk7XG4gICAgICAgICAgICByZWFkYWJsZS5yZWFkYWJsZS5vbmNlKCdjbG9zZScsICgpID0+IHRoaXMucmVhZGFibGUucHVzaChudWxsKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlYWRhYmxlO1xuICAgIH1cbiAgICBzdGF0aWMgW1N5bWJvbC5oYXNJbnN0YW5jZV0oaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGlzUmVhZGFibGVTdHJlYW0oaW5zdGFuY2UpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbShpdGVyYWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBvbnlmaWxsUmVhZGFibGVTdHJlYW0obm9kZV9zdHJlYW1fMS5SZWFkYWJsZS5mcm9tKGl0ZXJhYmxlKSk7XG4gICAgfVxuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ1JlYWRhYmxlU3RyZWFtJztcbn1cbmV4cG9ydHMuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbSA9IFBvbnlmaWxsUmVhZGFibGVTdHJlYW07XG5mdW5jdGlvbiBpc1BvbnlmaWxsUmVhZGFibGVTdHJlYW0ob2JqKSB7XG4gICAgcmV0dXJuIG9iaj8ucmVhZGFibGUgIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzUG9ueWZpbGxXcml0YWJsZVN0cmVhbShvYmopIHtcbiAgICByZXR1cm4gb2JqPy53cml0YWJsZSAhPSBudWxsO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js":
/*!*************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Request.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillRequest = void 0;\nconst node_http_1 = __webpack_require__(/*! node:http */ \"node:http\");\nconst node_https_1 = __webpack_require__(/*! node:https */ \"node:https\");\nconst Body_js_1 = __webpack_require__(/*! ./Body.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js\");\nconst Headers_js_1 = __webpack_require__(/*! ./Headers.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js\");\nconst URL_js_1 = __webpack_require__(/*! ./URL.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\");\nfunction isRequest(input) {\n    return input[Symbol.toStringTag] === 'Request';\n}\nfunction isURL(obj) {\n    return obj?.href != null;\n}\nclass PonyfillRequest extends Body_js_1.PonyfillBody {\n    constructor(input, options) {\n        let _url;\n        let _parsedUrl;\n        let bodyInit = null;\n        let requestInit;\n        if (typeof input === 'string') {\n            _url = input;\n        }\n        else if (isURL(input)) {\n            _parsedUrl = input;\n        }\n        else if (isRequest(input)) {\n            if (input._parsedUrl) {\n                _parsedUrl = input._parsedUrl;\n            }\n            else if (input._url) {\n                _url = input._url;\n            }\n            else {\n                _url = input.url;\n            }\n            bodyInit = input.body;\n            requestInit = input;\n        }\n        if (options != null) {\n            bodyInit = options.body || null;\n            requestInit = options;\n        }\n        super(bodyInit, requestInit);\n        this._url = _url;\n        this._parsedUrl = _parsedUrl;\n        this.cache = requestInit?.cache || 'default';\n        this.credentials = requestInit?.credentials || 'same-origin';\n        this.headers =\n            requestInit?.headers && (0, Headers_js_1.isHeadersLike)(requestInit.headers)\n                ? requestInit.headers\n                : new Headers_js_1.PonyfillHeaders(requestInit?.headers);\n        this.integrity = requestInit?.integrity || '';\n        this.keepalive = requestInit?.keepalive != null ? requestInit?.keepalive : false;\n        this.method = requestInit?.method?.toUpperCase() || 'GET';\n        this.mode = requestInit?.mode || 'cors';\n        this.redirect = requestInit?.redirect || 'follow';\n        this.referrer = requestInit?.referrer || 'about:client';\n        this.referrerPolicy = requestInit?.referrerPolicy || 'no-referrer';\n        this.headersSerializer = requestInit?.headersSerializer;\n        this.duplex = requestInit?.duplex || 'half';\n        this.destination = 'document';\n        this.priority = 'auto';\n        if (this.method !== 'GET' && this.method !== 'HEAD') {\n            this.handleContentLengthHeader(true);\n        }\n        if (requestInit?.agent != null) {\n            const protocol = _parsedUrl?.protocol || _url || this.url;\n            if (requestInit.agent === false) {\n                this.agent = false;\n            }\n            else if (protocol.startsWith('http:') && requestInit.agent instanceof node_http_1.Agent) {\n                this.agent = requestInit.agent;\n            }\n            else if (protocol.startsWith('https:') && requestInit.agent instanceof node_https_1.Agent) {\n                this.agent = requestInit.agent;\n            }\n        }\n    }\n    headersSerializer;\n    cache;\n    credentials;\n    destination;\n    headers;\n    integrity;\n    keepalive;\n    method;\n    mode;\n    priority;\n    redirect;\n    referrer;\n    referrerPolicy;\n    _url;\n    get signal() {\n        this._signal ||= new AbortController().signal;\n        return this._signal;\n    }\n    get url() {\n        if (this._url == null) {\n            if (this._parsedUrl) {\n                this._url = this._parsedUrl.toString();\n            }\n            else {\n                throw new TypeError('Invalid URL');\n            }\n        }\n        return this._url;\n    }\n    _parsedUrl;\n    get parsedUrl() {\n        if (this._parsedUrl == null) {\n            if (this._url != null) {\n                this._parsedUrl = new URL_js_1.PonyfillURL(this._url, 'http://localhost');\n            }\n            else {\n                throw new TypeError('Invalid URL');\n            }\n        }\n        return this._parsedUrl;\n    }\n    duplex;\n    agent;\n    clone() {\n        return this;\n    }\n    [Symbol.toStringTag] = 'Request';\n}\nexports.PonyfillRequest = PonyfillRequest;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1JlcXVlc3QuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLG9CQUFvQixtQkFBTyxDQUFDLDRCQUFXO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDhCQUFZO0FBQ3pDLGtCQUFrQixtQkFBTyxDQUFDLDJFQUFXO0FBQ3JDLHFCQUFxQixtQkFBTyxDQUFDLGlGQUFjO0FBQzNDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFVO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1JlcXVlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsUmVxdWVzdCA9IHZvaWQgMDtcbmNvbnN0IG5vZGVfaHR0cF8xID0gcmVxdWlyZShcIm5vZGU6aHR0cFwiKTtcbmNvbnN0IG5vZGVfaHR0cHNfMSA9IHJlcXVpcmUoXCJub2RlOmh0dHBzXCIpO1xuY29uc3QgQm9keV9qc18xID0gcmVxdWlyZShcIi4vQm9keS5qc1wiKTtcbmNvbnN0IEhlYWRlcnNfanNfMSA9IHJlcXVpcmUoXCIuL0hlYWRlcnMuanNcIik7XG5jb25zdCBVUkxfanNfMSA9IHJlcXVpcmUoXCIuL1VSTC5qc1wiKTtcbmZ1bmN0aW9uIGlzUmVxdWVzdChpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dFtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnUmVxdWVzdCc7XG59XG5mdW5jdGlvbiBpc1VSTChvYmopIHtcbiAgICByZXR1cm4gb2JqPy5ocmVmICE9IG51bGw7XG59XG5jbGFzcyBQb255ZmlsbFJlcXVlc3QgZXh0ZW5kcyBCb2R5X2pzXzEuUG9ueWZpbGxCb2R5IHtcbiAgICBjb25zdHJ1Y3RvcihpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICBsZXQgX3VybDtcbiAgICAgICAgbGV0IF9wYXJzZWRVcmw7XG4gICAgICAgIGxldCBib2R5SW5pdCA9IG51bGw7XG4gICAgICAgIGxldCByZXF1ZXN0SW5pdDtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIF91cmwgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1VSTChpbnB1dCkpIHtcbiAgICAgICAgICAgIF9wYXJzZWRVcmwgPSBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1JlcXVlc3QoaW5wdXQpKSB7XG4gICAgICAgICAgICBpZiAoaW5wdXQuX3BhcnNlZFVybCkge1xuICAgICAgICAgICAgICAgIF9wYXJzZWRVcmwgPSBpbnB1dC5fcGFyc2VkVXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaW5wdXQuX3VybCkge1xuICAgICAgICAgICAgICAgIF91cmwgPSBpbnB1dC5fdXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3VybCA9IGlucHV0LnVybDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvZHlJbml0ID0gaW5wdXQuYm9keTtcbiAgICAgICAgICAgIHJlcXVlc3RJbml0ID0gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgYm9keUluaXQgPSBvcHRpb25zLmJvZHkgfHwgbnVsbDtcbiAgICAgICAgICAgIHJlcXVlc3RJbml0ID0gb3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihib2R5SW5pdCwgcmVxdWVzdEluaXQpO1xuICAgICAgICB0aGlzLl91cmwgPSBfdXJsO1xuICAgICAgICB0aGlzLl9wYXJzZWRVcmwgPSBfcGFyc2VkVXJsO1xuICAgICAgICB0aGlzLmNhY2hlID0gcmVxdWVzdEluaXQ/LmNhY2hlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IHJlcXVlc3RJbml0Py5jcmVkZW50aWFscyB8fCAnc2FtZS1vcmlnaW4nO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPVxuICAgICAgICAgICAgcmVxdWVzdEluaXQ/LmhlYWRlcnMgJiYgKDAsIEhlYWRlcnNfanNfMS5pc0hlYWRlcnNMaWtlKShyZXF1ZXN0SW5pdC5oZWFkZXJzKVxuICAgICAgICAgICAgICAgID8gcmVxdWVzdEluaXQuaGVhZGVyc1xuICAgICAgICAgICAgICAgIDogbmV3IEhlYWRlcnNfanNfMS5Qb255ZmlsbEhlYWRlcnMocmVxdWVzdEluaXQ/LmhlYWRlcnMpO1xuICAgICAgICB0aGlzLmludGVncml0eSA9IHJlcXVlc3RJbml0Py5pbnRlZ3JpdHkgfHwgJyc7XG4gICAgICAgIHRoaXMua2VlcGFsaXZlID0gcmVxdWVzdEluaXQ/LmtlZXBhbGl2ZSAhPSBudWxsID8gcmVxdWVzdEluaXQ/LmtlZXBhbGl2ZSA6IGZhbHNlO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IHJlcXVlc3RJbml0Py5tZXRob2Q/LnRvVXBwZXJDYXNlKCkgfHwgJ0dFVCc7XG4gICAgICAgIHRoaXMubW9kZSA9IHJlcXVlc3RJbml0Py5tb2RlIHx8ICdjb3JzJztcbiAgICAgICAgdGhpcy5yZWRpcmVjdCA9IHJlcXVlc3RJbml0Py5yZWRpcmVjdCB8fCAnZm9sbG93JztcbiAgICAgICAgdGhpcy5yZWZlcnJlciA9IHJlcXVlc3RJbml0Py5yZWZlcnJlciB8fCAnYWJvdXQ6Y2xpZW50JztcbiAgICAgICAgdGhpcy5yZWZlcnJlclBvbGljeSA9IHJlcXVlc3RJbml0Py5yZWZlcnJlclBvbGljeSB8fCAnbm8tcmVmZXJyZXInO1xuICAgICAgICB0aGlzLmhlYWRlcnNTZXJpYWxpemVyID0gcmVxdWVzdEluaXQ/LmhlYWRlcnNTZXJpYWxpemVyO1xuICAgICAgICB0aGlzLmR1cGxleCA9IHJlcXVlc3RJbml0Py5kdXBsZXggfHwgJ2hhbGYnO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gJ2RvY3VtZW50JztcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9ICdhdXRvJztcbiAgICAgICAgaWYgKHRoaXMubWV0aG9kICE9PSAnR0VUJyAmJiB0aGlzLm1ldGhvZCAhPT0gJ0hFQUQnKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUNvbnRlbnRMZW5ndGhIZWFkZXIodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcXVlc3RJbml0Py5hZ2VudCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBwcm90b2NvbCA9IF9wYXJzZWRVcmw/LnByb3RvY29sIHx8IF91cmwgfHwgdGhpcy51cmw7XG4gICAgICAgICAgICBpZiAocmVxdWVzdEluaXQuYWdlbnQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZ2VudCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvdG9jb2wuc3RhcnRzV2l0aCgnaHR0cDonKSAmJiByZXF1ZXN0SW5pdC5hZ2VudCBpbnN0YW5jZW9mIG5vZGVfaHR0cF8xLkFnZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZ2VudCA9IHJlcXVlc3RJbml0LmFnZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvdG9jb2wuc3RhcnRzV2l0aCgnaHR0cHM6JykgJiYgcmVxdWVzdEluaXQuYWdlbnQgaW5zdGFuY2VvZiBub2RlX2h0dHBzXzEuQWdlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFnZW50ID0gcmVxdWVzdEluaXQuYWdlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGVhZGVyc1NlcmlhbGl6ZXI7XG4gICAgY2FjaGU7XG4gICAgY3JlZGVudGlhbHM7XG4gICAgZGVzdGluYXRpb247XG4gICAgaGVhZGVycztcbiAgICBpbnRlZ3JpdHk7XG4gICAga2VlcGFsaXZlO1xuICAgIG1ldGhvZDtcbiAgICBtb2RlO1xuICAgIHByaW9yaXR5O1xuICAgIHJlZGlyZWN0O1xuICAgIHJlZmVycmVyO1xuICAgIHJlZmVycmVyUG9saWN5O1xuICAgIF91cmw7XG4gICAgZ2V0IHNpZ25hbCgpIHtcbiAgICAgICAgdGhpcy5fc2lnbmFsIHx8PSBuZXcgQWJvcnRDb250cm9sbGVyKCkuc2lnbmFsO1xuICAgICAgICByZXR1cm4gdGhpcy5fc2lnbmFsO1xuICAgIH1cbiAgICBnZXQgdXJsKCkge1xuICAgICAgICBpZiAodGhpcy5fdXJsID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wYXJzZWRVcmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cmwgPSB0aGlzLl9wYXJzZWRVcmwudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgVVJMJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3VybDtcbiAgICB9XG4gICAgX3BhcnNlZFVybDtcbiAgICBnZXQgcGFyc2VkVXJsKCkge1xuICAgICAgICBpZiAodGhpcy5fcGFyc2VkVXJsID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl91cmwgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlZFVybCA9IG5ldyBVUkxfanNfMS5Qb255ZmlsbFVSTCh0aGlzLl91cmwsICdodHRwOi8vbG9jYWxob3N0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFVSTCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJzZWRVcmw7XG4gICAgfVxuICAgIGR1cGxleDtcbiAgICBhZ2VudDtcbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ1JlcXVlc3QnO1xufVxuZXhwb3J0cy5Qb255ZmlsbFJlcXVlc3QgPSBQb255ZmlsbFJlcXVlc3Q7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js":
/*!**************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/Response.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillResponse = void 0;\nconst node_http_1 = __webpack_require__(/*! node:http */ \"node:http\");\nconst Body_js_1 = __webpack_require__(/*! ./Body.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js\");\nconst Headers_js_1 = __webpack_require__(/*! ./Headers.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js\");\nconst JSON_CONTENT_TYPE = 'application/json; charset=utf-8';\nclass PonyfillResponse extends Body_js_1.PonyfillBody {\n    headers;\n    constructor(body, init) {\n        super(body || null, init);\n        this.headers =\n            init?.headers && (0, Headers_js_1.isHeadersLike)(init.headers)\n                ? init.headers\n                : new Headers_js_1.PonyfillHeaders(init?.headers);\n        this.status = init?.status || 200;\n        this.statusText = init?.statusText || node_http_1.STATUS_CODES[this.status] || 'OK';\n        this.url = init?.url || '';\n        this.redirected = init?.redirected || false;\n        this.type = init?.type || 'default';\n        this.handleContentLengthHeader();\n    }\n    get ok() {\n        return this.status >= 200 && this.status < 300;\n    }\n    status;\n    statusText;\n    url;\n    redirected;\n    type;\n    clone() {\n        return this;\n    }\n    static error() {\n        return new PonyfillResponse(null, {\n            status: 500,\n            statusText: 'Internal Server Error',\n        });\n    }\n    static redirect(url, status = 302) {\n        if (status < 300 || status > 399) {\n            throw new RangeError('Invalid status code');\n        }\n        return new PonyfillResponse(null, {\n            headers: {\n                location: url,\n            },\n            status,\n        });\n    }\n    static json(data, init) {\n        const bodyInit = JSON.stringify(data);\n        if (!init) {\n            init = {\n                headers: {\n                    'content-type': JSON_CONTENT_TYPE,\n                    'content-length': Buffer.byteLength(bodyInit).toString(),\n                },\n            };\n        }\n        else if (!init.headers) {\n            init.headers = {\n                'content-type': JSON_CONTENT_TYPE,\n                'content-length': Buffer.byteLength(bodyInit).toString(),\n            };\n        }\n        else if ((0, Headers_js_1.isHeadersLike)(init.headers)) {\n            if (!init.headers.has('content-type')) {\n                init.headers.set('content-type', JSON_CONTENT_TYPE);\n            }\n            if (!init.headers.has('content-length')) {\n                init.headers.set('content-length', Buffer.byteLength(bodyInit).toString());\n            }\n        }\n        else if (Array.isArray(init.headers)) {\n            let contentTypeExists = false;\n            let contentLengthExists = false;\n            for (const [key] of init.headers) {\n                if (contentLengthExists && contentTypeExists) {\n                    break;\n                }\n                if (!contentTypeExists && key.toLowerCase() === 'content-type') {\n                    contentTypeExists = true;\n                }\n                else if (!contentLengthExists && key.toLowerCase() === 'content-length') {\n                    contentLengthExists = true;\n                }\n            }\n            if (!contentTypeExists) {\n                init.headers.push(['content-type', JSON_CONTENT_TYPE]);\n            }\n            if (!contentLengthExists) {\n                init.headers.push(['content-length', Buffer.byteLength(bodyInit).toString()]);\n            }\n        }\n        else if (typeof init.headers === 'object') {\n            if (init.headers?.['content-type'] == null) {\n                init.headers['content-type'] = JSON_CONTENT_TYPE;\n            }\n            if (init.headers?.['content-length'] == null) {\n                init.headers['content-length'] = Buffer.byteLength(bodyInit).toString();\n            }\n        }\n        return new PonyfillResponse(bodyInit, init);\n    }\n    [Symbol.toStringTag] = 'Response';\n}\nexports.PonyfillResponse = PonyfillResponse;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1Jlc3BvbnNlLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHdCQUF3QjtBQUN4QixvQkFBb0IsbUJBQU8sQ0FBQyw0QkFBVztBQUN2QyxrQkFBa0IsbUJBQU8sQ0FBQywyRUFBVztBQUNyQyxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBYztBQUMzQyw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvUmVzcG9uc2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsUmVzcG9uc2UgPSB2b2lkIDA7XG5jb25zdCBub2RlX2h0dHBfMSA9IHJlcXVpcmUoXCJub2RlOmh0dHBcIik7XG5jb25zdCBCb2R5X2pzXzEgPSByZXF1aXJlKFwiLi9Cb2R5LmpzXCIpO1xuY29uc3QgSGVhZGVyc19qc18xID0gcmVxdWlyZShcIi4vSGVhZGVycy5qc1wiKTtcbmNvbnN0IEpTT05fQ09OVEVOVF9UWVBFID0gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnO1xuY2xhc3MgUG9ueWZpbGxSZXNwb25zZSBleHRlbmRzIEJvZHlfanNfMS5Qb255ZmlsbEJvZHkge1xuICAgIGhlYWRlcnM7XG4gICAgY29uc3RydWN0b3IoYm9keSwgaW5pdCkge1xuICAgICAgICBzdXBlcihib2R5IHx8IG51bGwsIGluaXQpO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPVxuICAgICAgICAgICAgaW5pdD8uaGVhZGVycyAmJiAoMCwgSGVhZGVyc19qc18xLmlzSGVhZGVyc0xpa2UpKGluaXQuaGVhZGVycylcbiAgICAgICAgICAgICAgICA/IGluaXQuaGVhZGVyc1xuICAgICAgICAgICAgICAgIDogbmV3IEhlYWRlcnNfanNfMS5Qb255ZmlsbEhlYWRlcnMoaW5pdD8uaGVhZGVycyk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gaW5pdD8uc3RhdHVzIHx8IDIwMDtcbiAgICAgICAgdGhpcy5zdGF0dXNUZXh0ID0gaW5pdD8uc3RhdHVzVGV4dCB8fCBub2RlX2h0dHBfMS5TVEFUVVNfQ09ERVNbdGhpcy5zdGF0dXNdIHx8ICdPSyc7XG4gICAgICAgIHRoaXMudXJsID0gaW5pdD8udXJsIHx8ICcnO1xuICAgICAgICB0aGlzLnJlZGlyZWN0ZWQgPSBpbml0Py5yZWRpcmVjdGVkIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLnR5cGUgPSBpbml0Py50eXBlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZW50TGVuZ3RoSGVhZGVyKCk7XG4gICAgfVxuICAgIGdldCBvaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMDtcbiAgICB9XG4gICAgc3RhdHVzO1xuICAgIHN0YXR1c1RleHQ7XG4gICAgdXJsO1xuICAgIHJlZGlyZWN0ZWQ7XG4gICAgdHlwZTtcbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN0YXRpYyBlcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb255ZmlsbFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogJ0ludGVybmFsIFNlcnZlciBFcnJvcicsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0aWMgcmVkaXJlY3QodXJsLCBzdGF0dXMgPSAzMDIpIHtcbiAgICAgICAgaWYgKHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPiAzOTkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQb255ZmlsbFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogdXJsLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBqc29uKGRhdGEsIGluaXQpIHtcbiAgICAgICAgY29uc3QgYm9keUluaXQgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICAgICAgaWYgKCFpbml0KSB7XG4gICAgICAgICAgICBpbml0ID0ge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6IEpTT05fQ09OVEVOVF9UWVBFLFxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC1sZW5ndGgnOiBCdWZmZXIuYnl0ZUxlbmd0aChib2R5SW5pdCkudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5pdC5oZWFkZXJzKSB7XG4gICAgICAgICAgICBpbml0LmhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6IEpTT05fQ09OVEVOVF9UWVBFLFxuICAgICAgICAgICAgICAgICdjb250ZW50LWxlbmd0aCc6IEJ1ZmZlci5ieXRlTGVuZ3RoKGJvZHlJbml0KS50b1N0cmluZygpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoMCwgSGVhZGVyc19qc18xLmlzSGVhZGVyc0xpa2UpKGluaXQuaGVhZGVycykpIHtcbiAgICAgICAgICAgIGlmICghaW5pdC5oZWFkZXJzLmhhcygnY29udGVudC10eXBlJykpIHtcbiAgICAgICAgICAgICAgICBpbml0LmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCBKU09OX0NPTlRFTlRfVFlQRSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWluaXQuaGVhZGVycy5oYXMoJ2NvbnRlbnQtbGVuZ3RoJykpIHtcbiAgICAgICAgICAgICAgICBpbml0LmhlYWRlcnMuc2V0KCdjb250ZW50LWxlbmd0aCcsIEJ1ZmZlci5ieXRlTGVuZ3RoKGJvZHlJbml0KS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGluaXQuaGVhZGVycykpIHtcbiAgICAgICAgICAgIGxldCBjb250ZW50VHlwZUV4aXN0cyA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGNvbnRlbnRMZW5ndGhFeGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleV0gb2YgaW5pdC5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRMZW5ndGhFeGlzdHMgJiYgY29udGVudFR5cGVFeGlzdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghY29udGVudFR5cGVFeGlzdHMgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09ICdjb250ZW50LXR5cGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlRXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWNvbnRlbnRMZW5ndGhFeGlzdHMgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09ICdjb250ZW50LWxlbmd0aCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudExlbmd0aEV4aXN0cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjb250ZW50VHlwZUV4aXN0cykge1xuICAgICAgICAgICAgICAgIGluaXQuaGVhZGVycy5wdXNoKFsnY29udGVudC10eXBlJywgSlNPTl9DT05URU5UX1RZUEVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29udGVudExlbmd0aEV4aXN0cykge1xuICAgICAgICAgICAgICAgIGluaXQuaGVhZGVycy5wdXNoKFsnY29udGVudC1sZW5ndGgnLCBCdWZmZXIuYnl0ZUxlbmd0aChib2R5SW5pdCkudG9TdHJpbmcoKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBpbml0LmhlYWRlcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoaW5pdC5oZWFkZXJzPy5bJ2NvbnRlbnQtdHlwZSddID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpbml0LmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gSlNPTl9DT05URU5UX1RZUEU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5pdC5oZWFkZXJzPy5bJ2NvbnRlbnQtbGVuZ3RoJ10gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGluaXQuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXSA9IEJ1ZmZlci5ieXRlTGVuZ3RoKGJvZHlJbml0KS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUG9ueWZpbGxSZXNwb25zZShib2R5SW5pdCwgaW5pdCk7XG4gICAgfVxuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ1Jlc3BvbnNlJztcbn1cbmV4cG9ydHMuUG9ueWZpbGxSZXNwb25zZSA9IFBvbnlmaWxsUmVzcG9uc2U7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js":
/*!************************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillTextDecoder = exports.PonyfillTextEncoder = void 0;\nexports.PonyfillBtoa = PonyfillBtoa;\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nclass PonyfillTextEncoder {\n    encoding;\n    constructor(encoding = 'utf-8') {\n        this.encoding = encoding;\n    }\n    encode(input) {\n        return node_buffer_1.Buffer.from(input, this.encoding);\n    }\n    encodeInto(source, destination) {\n        const buffer = this.encode(source);\n        const copied = buffer.copy(destination);\n        return {\n            read: copied,\n            written: copied,\n        };\n    }\n}\nexports.PonyfillTextEncoder = PonyfillTextEncoder;\nclass PonyfillTextDecoder {\n    encoding;\n    fatal = false;\n    ignoreBOM = false;\n    constructor(encoding = 'utf-8', options) {\n        this.encoding = encoding;\n        if (options) {\n            this.fatal = options.fatal || false;\n            this.ignoreBOM = options.ignoreBOM || false;\n        }\n    }\n    decode(input) {\n        if (node_buffer_1.Buffer.isBuffer(input)) {\n            return input.toString(this.encoding);\n        }\n        if ((0, utils_js_1.isArrayBufferView)(input)) {\n            return node_buffer_1.Buffer.from(input.buffer, input.byteOffset, input.byteLength).toString(this.encoding);\n        }\n        return node_buffer_1.Buffer.from(input).toString(this.encoding);\n    }\n}\nexports.PonyfillTextDecoder = PonyfillTextDecoder;\nfunction PonyfillBtoa(input) {\n    return node_buffer_1.Buffer.from(input, 'binary').toString('base64');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1RleHRFbmNvZGVyRGVjb2Rlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkIsR0FBRywyQkFBMkI7QUFDekQsb0JBQW9CO0FBQ3BCLHNCQUFzQixtQkFBTyxDQUFDLGdDQUFhO0FBQzNDLG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvVGV4dEVuY29kZXJEZWNvZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qb255ZmlsbFRleHREZWNvZGVyID0gZXhwb3J0cy5Qb255ZmlsbFRleHRFbmNvZGVyID0gdm9pZCAwO1xuZXhwb3J0cy5Qb255ZmlsbEJ0b2EgPSBQb255ZmlsbEJ0b2E7XG5jb25zdCBub2RlX2J1ZmZlcl8xID0gcmVxdWlyZShcIm5vZGU6YnVmZmVyXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuY2xhc3MgUG9ueWZpbGxUZXh0RW5jb2RlciB7XG4gICAgZW5jb2Rpbmc7XG4gICAgY29uc3RydWN0b3IoZW5jb2RpbmcgPSAndXRmLTgnKSB7XG4gICAgICAgIHRoaXMuZW5jb2RpbmcgPSBlbmNvZGluZztcbiAgICB9XG4gICAgZW5jb2RlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGlucHV0LCB0aGlzLmVuY29kaW5nKTtcbiAgICB9XG4gICAgZW5jb2RlSW50byhzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IHRoaXMuZW5jb2RlKHNvdXJjZSk7XG4gICAgICAgIGNvbnN0IGNvcGllZCA9IGJ1ZmZlci5jb3B5KGRlc3RpbmF0aW9uKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlYWQ6IGNvcGllZCxcbiAgICAgICAgICAgIHdyaXR0ZW46IGNvcGllZCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlBvbnlmaWxsVGV4dEVuY29kZXIgPSBQb255ZmlsbFRleHRFbmNvZGVyO1xuY2xhc3MgUG9ueWZpbGxUZXh0RGVjb2RlciB7XG4gICAgZW5jb2Rpbmc7XG4gICAgZmF0YWwgPSBmYWxzZTtcbiAgICBpZ25vcmVCT00gPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3RvcihlbmNvZGluZyA9ICd1dGYtOCcsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nO1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5mYXRhbCA9IG9wdGlvbnMuZmF0YWwgfHwgZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlnbm9yZUJPTSA9IG9wdGlvbnMuaWdub3JlQk9NIHx8IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlY29kZShpbnB1dCkge1xuICAgICAgICBpZiAobm9kZV9idWZmZXJfMS5CdWZmZXIuaXNCdWZmZXIoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCgwLCB1dGlsc19qc18xLmlzQXJyYXlCdWZmZXJWaWV3KShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlX2J1ZmZlcl8xLkJ1ZmZlci5mcm9tKGlucHV0LmJ1ZmZlciwgaW5wdXQuYnl0ZU9mZnNldCwgaW5wdXQuYnl0ZUxlbmd0aCkudG9TdHJpbmcodGhpcy5lbmNvZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oaW5wdXQpLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcpO1xuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxUZXh0RGVjb2RlciA9IFBvbnlmaWxsVGV4dERlY29kZXI7XG5mdW5jdGlvbiBQb255ZmlsbEJ0b2EoaW5wdXQpIHtcbiAgICByZXR1cm4gbm9kZV9idWZmZXJfMS5CdWZmZXIuZnJvbShpbnB1dCwgJ2JpbmFyeScpLnRvU3RyaW5nKCdiYXNlNjQnKTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoderStream.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoderStream.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillTextEncoderStream = exports.PonyfillTextDecoderStream = void 0;\nconst TextEncoderDecoder_js_1 = __webpack_require__(/*! ./TextEncoderDecoder.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js\");\nconst TransformStream_js_1 = __webpack_require__(/*! ./TransformStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\");\nclass PonyfillTextDecoderStream extends TransformStream_js_1.PonyfillTransformStream {\n    textDecoder;\n    constructor(encoding, options) {\n        super({\n            transform: (chunk, controller) => controller.enqueue(this.textDecoder.decode(chunk, { stream: true })),\n        });\n        this.textDecoder = new TextEncoderDecoder_js_1.PonyfillTextDecoder(encoding, options);\n    }\n    get encoding() {\n        return this.textDecoder.encoding;\n    }\n    get fatal() {\n        return this.textDecoder.fatal;\n    }\n    get ignoreBOM() {\n        return this.textDecoder.ignoreBOM;\n    }\n}\nexports.PonyfillTextDecoderStream = PonyfillTextDecoderStream;\nclass PonyfillTextEncoderStream extends TransformStream_js_1.PonyfillTransformStream {\n    textEncoder;\n    constructor(encoding) {\n        super({\n            transform: (chunk, controller) => controller.enqueue(this.textEncoder.encode(chunk)),\n        });\n        this.textEncoder = new TextEncoderDecoder_js_1.PonyfillTextEncoder(encoding);\n    }\n    get encoding() {\n        return this.textEncoder.encoding;\n    }\n    encode(input) {\n        return this.textEncoder.encode(input);\n    }\n}\nexports.PonyfillTextEncoderStream = PonyfillTextEncoderStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1RleHRFbmNvZGVyRGVjb2RlclN0cmVhbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQ0FBaUMsR0FBRyxpQ0FBaUM7QUFDckUsZ0NBQWdDLG1CQUFPLENBQUMsdUdBQXlCO0FBQ2pFLDZCQUE2QixtQkFBTyxDQUFDLGlHQUFzQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtHQUFrRyxjQUFjO0FBQ2hILFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1RleHRFbmNvZGVyRGVjb2RlclN0cmVhbS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9ueWZpbGxUZXh0RW5jb2RlclN0cmVhbSA9IGV4cG9ydHMuUG9ueWZpbGxUZXh0RGVjb2RlclN0cmVhbSA9IHZvaWQgMDtcbmNvbnN0IFRleHRFbmNvZGVyRGVjb2Rlcl9qc18xID0gcmVxdWlyZShcIi4vVGV4dEVuY29kZXJEZWNvZGVyLmpzXCIpO1xuY29uc3QgVHJhbnNmb3JtU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9UcmFuc2Zvcm1TdHJlYW0uanNcIik7XG5jbGFzcyBQb255ZmlsbFRleHREZWNvZGVyU3RyZWFtIGV4dGVuZHMgVHJhbnNmb3JtU3RyZWFtX2pzXzEuUG9ueWZpbGxUcmFuc2Zvcm1TdHJlYW0ge1xuICAgIHRleHREZWNvZGVyO1xuICAgIGNvbnN0cnVjdG9yKGVuY29kaW5nLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogKGNodW5rLCBjb250cm9sbGVyKSA9PiBjb250cm9sbGVyLmVucXVldWUodGhpcy50ZXh0RGVjb2Rlci5kZWNvZGUoY2h1bmssIHsgc3RyZWFtOiB0cnVlIH0pKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudGV4dERlY29kZXIgPSBuZXcgVGV4dEVuY29kZXJEZWNvZGVyX2pzXzEuUG9ueWZpbGxUZXh0RGVjb2RlcihlbmNvZGluZywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGdldCBlbmNvZGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dERlY29kZXIuZW5jb2Rpbmc7XG4gICAgfVxuICAgIGdldCBmYXRhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dERlY29kZXIuZmF0YWw7XG4gICAgfVxuICAgIGdldCBpZ25vcmVCT00oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHREZWNvZGVyLmlnbm9yZUJPTTtcbiAgICB9XG59XG5leHBvcnRzLlBvbnlmaWxsVGV4dERlY29kZXJTdHJlYW0gPSBQb255ZmlsbFRleHREZWNvZGVyU3RyZWFtO1xuY2xhc3MgUG9ueWZpbGxUZXh0RW5jb2RlclN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybVN0cmVhbV9qc18xLlBvbnlmaWxsVHJhbnNmb3JtU3RyZWFtIHtcbiAgICB0ZXh0RW5jb2RlcjtcbiAgICBjb25zdHJ1Y3RvcihlbmNvZGluZykge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IChjaHVuaywgY29udHJvbGxlcikgPT4gY29udHJvbGxlci5lbnF1ZXVlKHRoaXMudGV4dEVuY29kZXIuZW5jb2RlKGNodW5rKSksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnRleHRFbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyRGVjb2Rlcl9qc18xLlBvbnlmaWxsVGV4dEVuY29kZXIoZW5jb2RpbmcpO1xuICAgIH1cbiAgICBnZXQgZW5jb2RpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRFbmNvZGVyLmVuY29kaW5nO1xuICAgIH1cbiAgICBlbmNvZGUoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dEVuY29kZXIuZW5jb2RlKGlucHV0KTtcbiAgICB9XG59XG5leHBvcnRzLlBvbnlmaWxsVGV4dEVuY29kZXJTdHJlYW0gPSBQb255ZmlsbFRleHRFbmNvZGVyU3RyZWFtO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoderStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillTransformStream = void 0;\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nconst WritableStream_js_1 = __webpack_require__(/*! ./WritableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js\");\nclass PonyfillTransformStream {\n    transform;\n    writable;\n    readable;\n    constructor(transformer) {\n        if (transformer instanceof node_stream_1.Transform) {\n            this.transform = transformer;\n        }\n        else if (transformer) {\n            const controller = {\n                enqueue(chunk) {\n                    transform.push(chunk);\n                },\n                error(reason) {\n                    transform.destroy(reason);\n                },\n                terminate() {\n                    (0, utils_js_1.endStream)(transform);\n                },\n                get desiredSize() {\n                    return transform.writableLength;\n                },\n            };\n            const transform = new node_stream_1.Transform({\n                read() { },\n                write(chunk, _encoding, callback) {\n                    try {\n                        const result = transformer.transform?.(chunk, controller);\n                        if (result instanceof Promise) {\n                            result.then(() => {\n                                callback();\n                            }, err => {\n                                callback(err);\n                            });\n                        }\n                        else {\n                            callback();\n                        }\n                    }\n                    catch (err) {\n                        callback(err);\n                    }\n                },\n                final(callback) {\n                    try {\n                        const result = transformer.flush?.(controller);\n                        if (result instanceof Promise) {\n                            result.then(() => {\n                                callback();\n                            }, err => {\n                                callback(err);\n                            });\n                        }\n                        else {\n                            callback();\n                        }\n                    }\n                    catch (err) {\n                        callback(err);\n                    }\n                },\n            });\n            this.transform = transform;\n        }\n        else {\n            this.transform = new node_stream_1.Transform();\n        }\n        this.writable = new WritableStream_js_1.PonyfillWritableStream(this.transform);\n        this.readable = new ReadableStream_js_1.PonyfillReadableStream(this.transform);\n    }\n}\nexports.PonyfillTransformStream = PonyfillTransformStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1RyYW5zZm9ybVN0cmVhbS5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0MsNEJBQTRCLG1CQUFPLENBQUMsK0ZBQXFCO0FBQ3pELG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDLDRCQUE0QixtQkFBTyxDQUFDLCtGQUFxQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9UcmFuc2Zvcm1TdHJlYW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsVHJhbnNmb3JtU3RyZWFtID0gdm9pZCAwO1xuY29uc3Qgbm9kZV9zdHJlYW1fMSA9IHJlcXVpcmUoXCJub2RlOnN0cmVhbVwiKTtcbmNvbnN0IFJlYWRhYmxlU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9SZWFkYWJsZVN0cmVhbS5qc1wiKTtcbmNvbnN0IHV0aWxzX2pzXzEgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbmNvbnN0IFdyaXRhYmxlU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9Xcml0YWJsZVN0cmVhbS5qc1wiKTtcbmNsYXNzIFBvbnlmaWxsVHJhbnNmb3JtU3RyZWFtIHtcbiAgICB0cmFuc2Zvcm07XG4gICAgd3JpdGFibGU7XG4gICAgcmVhZGFibGU7XG4gICAgY29uc3RydWN0b3IodHJhbnNmb3JtZXIpIHtcbiAgICAgICAgaWYgKHRyYW5zZm9ybWVyIGluc3RhbmNlb2Ygbm9kZV9zdHJlYW1fMS5UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gdHJhbnNmb3JtZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhbnNmb3JtZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB7XG4gICAgICAgICAgICAgICAgZW5xdWV1ZShjaHVuaykge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm0ucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcihyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLmRlc3Ryb3kocmVhc29uKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzX2pzXzEuZW5kU3RyZWFtKSh0cmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0IGRlc2lyZWRTaXplKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtLndyaXRhYmxlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gbmV3IG5vZGVfc3RyZWFtXzEuVHJhbnNmb3JtKHtcbiAgICAgICAgICAgICAgICByZWFkKCkgeyB9LFxuICAgICAgICAgICAgICAgIHdyaXRlKGNodW5rLCBfZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0cmFuc2Zvcm1lci50cmFuc2Zvcm0/LihjaHVuaywgY29udHJvbGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaW5hbChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdHJhbnNmb3JtZXIuZmx1c2g/Lihjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtID0gbmV3IG5vZGVfc3RyZWFtXzEuVHJhbnNmb3JtKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53cml0YWJsZSA9IG5ldyBXcml0YWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsV3JpdGFibGVTdHJlYW0odGhpcy50cmFuc2Zvcm0pO1xuICAgICAgICB0aGlzLnJlYWRhYmxlID0gbmV3IFJlYWRhYmxlU3RyZWFtX2pzXzEuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbSh0aGlzLnRyYW5zZm9ybSk7XG4gICAgfVxufVxuZXhwb3J0cy5Qb255ZmlsbFRyYW5zZm9ybVN0cmVhbSA9IFBvbnlmaWxsVHJhbnNmb3JtU3RyZWFtO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js":
/*!*********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/URL.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillURL = void 0;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\nconst node_buffer_1 = tslib_1.__importDefault(__webpack_require__(/*! node:buffer */ \"node:buffer\"));\nconst node_crypto_1 = __webpack_require__(/*! node:crypto */ \"node:crypto\");\nconst NativeURL = globalThis.URL;\nclass URL extends NativeURL {\n    // This part is only needed to handle `PonyfillBlob` objects\n    static blobRegistry = new Map();\n    static createObjectURL(blob) {\n        const blobUrl = `blob:whatwgnode:${(0, node_crypto_1.randomUUID)()}`;\n        this.blobRegistry.set(blobUrl, blob);\n        return blobUrl;\n    }\n    static revokeObjectURL(url) {\n        if (!this.blobRegistry.has(url)) {\n            NativeURL.revokeObjectURL(url);\n        }\n        else {\n            this.blobRegistry.delete(url);\n        }\n    }\n    static getBlobFromURL(url) {\n        return (this.blobRegistry.get(url) || node_buffer_1.default?.resolveObjectURL?.(url));\n    }\n}\nexports.PonyfillURL = URL;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1VSTC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsZ0JBQWdCLG1CQUFPLENBQUMsdURBQU87QUFDL0IsOENBQThDLG1CQUFPLENBQUMsZ0NBQWE7QUFDbkUsc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxnQ0FBZ0M7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9VUkwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsVVJMID0gdm9pZCAwO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbmNvbnN0IG5vZGVfYnVmZmVyXzEgPSB0c2xpYl8xLl9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwibm9kZTpidWZmZXJcIikpO1xuY29uc3Qgbm9kZV9jcnlwdG9fMSA9IHJlcXVpcmUoXCJub2RlOmNyeXB0b1wiKTtcbmNvbnN0IE5hdGl2ZVVSTCA9IGdsb2JhbFRoaXMuVVJMO1xuY2xhc3MgVVJMIGV4dGVuZHMgTmF0aXZlVVJMIHtcbiAgICAvLyBUaGlzIHBhcnQgaXMgb25seSBuZWVkZWQgdG8gaGFuZGxlIGBQb255ZmlsbEJsb2JgIG9iamVjdHNcbiAgICBzdGF0aWMgYmxvYlJlZ2lzdHJ5ID0gbmV3IE1hcCgpO1xuICAgIHN0YXRpYyBjcmVhdGVPYmplY3RVUkwoYmxvYikge1xuICAgICAgICBjb25zdCBibG9iVXJsID0gYGJsb2I6d2hhdHdnbm9kZTokeygwLCBub2RlX2NyeXB0b18xLnJhbmRvbVVVSUQpKCl9YDtcbiAgICAgICAgdGhpcy5ibG9iUmVnaXN0cnkuc2V0KGJsb2JVcmwsIGJsb2IpO1xuICAgICAgICByZXR1cm4gYmxvYlVybDtcbiAgICB9XG4gICAgc3RhdGljIHJldm9rZU9iamVjdFVSTCh1cmwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJsb2JSZWdpc3RyeS5oYXModXJsKSkge1xuICAgICAgICAgICAgTmF0aXZlVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5ibG9iUmVnaXN0cnkuZGVsZXRlKHVybCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldEJsb2JGcm9tVVJMKHVybCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuYmxvYlJlZ2lzdHJ5LmdldCh1cmwpIHx8IG5vZGVfYnVmZmVyXzEuZGVmYXVsdD8ucmVzb2x2ZU9iamVjdFVSTD8uKHVybCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuUG9ueWZpbGxVUkwgPSBVUkw7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URLSearchParams.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/URLSearchParams.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillURLSearchParams = void 0;\nexports.PonyfillURLSearchParams = globalThis.URLSearchParams;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1VSTFNlYXJjaFBhcmFtcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwrQkFBK0I7QUFDL0IsK0JBQStCIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9ub2RlLWZldGNoL2Nqcy9VUkxTZWFyY2hQYXJhbXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsVVJMU2VhcmNoUGFyYW1zID0gdm9pZCAwO1xuZXhwb3J0cy5Qb255ZmlsbFVSTFNlYXJjaFBhcmFtcyA9IGdsb2JhbFRoaXMuVVJMU2VhcmNoUGFyYW1zO1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URLSearchParams.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js":
/*!********************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PonyfillWritableStream = void 0;\nconst node_events_1 = __webpack_require__(/*! node:events */ \"node:events\");\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nclass PonyfillWritableStream {\n    writable;\n    constructor(underlyingSink) {\n        if (underlyingSink instanceof node_stream_1.Writable) {\n            this.writable = underlyingSink;\n        }\n        else if (underlyingSink) {\n            const writable = new node_stream_1.Writable({\n                write(chunk, _encoding, callback) {\n                    try {\n                        const result = underlyingSink.write?.(chunk, controller);\n                        if (result instanceof Promise) {\n                            result.then(() => {\n                                callback();\n                            }, err => {\n                                callback(err);\n                            });\n                        }\n                        else {\n                            callback();\n                        }\n                    }\n                    catch (err) {\n                        callback(err);\n                    }\n                },\n                final(callback) {\n                    const result = underlyingSink.close?.();\n                    if (result instanceof Promise) {\n                        result.then(() => {\n                            callback();\n                        }, err => {\n                            callback(err);\n                        });\n                    }\n                    else {\n                        callback();\n                    }\n                },\n            });\n            this.writable = writable;\n            const abortCtrl = new AbortController();\n            const controller = {\n                signal: abortCtrl.signal,\n                error(e) {\n                    writable.destroy(e);\n                },\n            };\n            writable.once('error', err => abortCtrl.abort(err));\n            writable.once('close', () => abortCtrl.abort());\n        }\n        else {\n            this.writable = new node_stream_1.Writable();\n        }\n    }\n    getWriter() {\n        const writable = this.writable;\n        return {\n            get closed() {\n                return (0, node_events_1.once)(writable, 'close');\n            },\n            get desiredSize() {\n                return writable.writableLength;\n            },\n            get ready() {\n                return (0, node_events_1.once)(writable, 'drain');\n            },\n            releaseLock() {\n                // no-op\n            },\n            write(chunk) {\n                const promise = (0, utils_js_1.fakePromise)();\n                if (chunk == null) {\n                    return promise;\n                }\n                return promise.then(() => (0, utils_js_1.safeWrite)(chunk, writable));\n            },\n            close() {\n                if (!writable.errored && writable.closed) {\n                    return (0, utils_js_1.fakePromise)();\n                }\n                if (writable.errored) {\n                    return (0, promise_helpers_1.fakeRejectPromise)(writable.errored);\n                }\n                return (0, utils_js_1.fakePromise)().then(() => (0, utils_js_1.endStream)(writable));\n            },\n            abort(reason) {\n                writable.destroy(reason);\n                return (0, node_events_1.once)(writable, 'close');\n            },\n        };\n    }\n    close() {\n        if (!this.writable.errored && this.writable.closed) {\n            return (0, utils_js_1.fakePromise)();\n        }\n        if (this.writable.errored) {\n            return (0, promise_helpers_1.fakeRejectPromise)(this.writable.errored);\n        }\n        return (0, utils_js_1.fakePromise)().then(() => (0, utils_js_1.endStream)(this.writable));\n    }\n    abort(reason) {\n        this.writable.destroy(reason);\n        return (0, node_events_1.once)(this.writable, 'close');\n    }\n    locked = false;\n}\nexports.PonyfillWritableStream = PonyfillWritableStream;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL1dyaXRhYmxlU3RyZWFtLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDhCQUE4QjtBQUM5QixzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQywwQkFBMEIsbUJBQU8sQ0FBQyxvR0FBOEI7QUFDaEUsbUJBQW1CLG1CQUFPLENBQUMsNkVBQVk7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QiIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvV3JpdGFibGVTdHJlYW0uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBvbnlmaWxsV3JpdGFibGVTdHJlYW0gPSB2b2lkIDA7XG5jb25zdCBub2RlX2V2ZW50c18xID0gcmVxdWlyZShcIm5vZGU6ZXZlbnRzXCIpO1xuY29uc3Qgbm9kZV9zdHJlYW1fMSA9IHJlcXVpcmUoXCJub2RlOnN0cmVhbVwiKTtcbmNvbnN0IHByb21pc2VfaGVscGVyc18xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9wcm9taXNlLWhlbHBlcnNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5jbGFzcyBQb255ZmlsbFdyaXRhYmxlU3RyZWFtIHtcbiAgICB3cml0YWJsZTtcbiAgICBjb25zdHJ1Y3Rvcih1bmRlcmx5aW5nU2luaykge1xuICAgICAgICBpZiAodW5kZXJseWluZ1NpbmsgaW5zdGFuY2VvZiBub2RlX3N0cmVhbV8xLldyaXRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLndyaXRhYmxlID0gdW5kZXJseWluZ1Npbms7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodW5kZXJseWluZ1NpbmspIHtcbiAgICAgICAgICAgIGNvbnN0IHdyaXRhYmxlID0gbmV3IG5vZGVfc3RyZWFtXzEuV3JpdGFibGUoe1xuICAgICAgICAgICAgICAgIHdyaXRlKGNodW5rLCBfZW5jb2RpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB1bmRlcmx5aW5nU2luay53cml0ZT8uKGNodW5rLCBjb250cm9sbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpbmFsKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHVuZGVybHlpbmdTaW5rLmNsb3NlPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy53cml0YWJsZSA9IHdyaXRhYmxlO1xuICAgICAgICAgICAgY29uc3QgYWJvcnRDdHJsID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHtcbiAgICAgICAgICAgICAgICBzaWduYWw6IGFib3J0Q3RybC5zaWduYWwsXG4gICAgICAgICAgICAgICAgZXJyb3IoZSkge1xuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZS5kZXN0cm95KGUpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd3JpdGFibGUub25jZSgnZXJyb3InLCBlcnIgPT4gYWJvcnRDdHJsLmFib3J0KGVycikpO1xuICAgICAgICAgICAgd3JpdGFibGUub25jZSgnY2xvc2UnLCAoKSA9PiBhYm9ydEN0cmwuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLndyaXRhYmxlID0gbmV3IG5vZGVfc3RyZWFtXzEuV3JpdGFibGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRXcml0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHdyaXRhYmxlID0gdGhpcy53cml0YWJsZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdldCBjbG9zZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBub2RlX2V2ZW50c18xLm9uY2UpKHdyaXRhYmxlLCAnY2xvc2UnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgZGVzaXJlZFNpemUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdyaXRhYmxlLndyaXRhYmxlTGVuZ3RoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCByZWFkeSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIG5vZGVfZXZlbnRzXzEub25jZSkod3JpdGFibGUsICdkcmFpbicpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbGVhc2VMb2NrKCkge1xuICAgICAgICAgICAgICAgIC8vIG5vLW9wXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgd3JpdGUoY2h1bmspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gKDAsIHV0aWxzX2pzXzEuZmFrZVByb21pc2UpKCk7XG4gICAgICAgICAgICAgICAgaWYgKGNodW5rID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oKCkgPT4gKDAsIHV0aWxzX2pzXzEuc2FmZVdyaXRlKShjaHVuaywgd3JpdGFibGUpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXdyaXRhYmxlLmVycm9yZWQgJiYgd3JpdGFibGUuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHdyaXRhYmxlLmVycm9yZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgwLCBwcm9taXNlX2hlbHBlcnNfMS5mYWtlUmVqZWN0UHJvbWlzZSkod3JpdGFibGUuZXJyb3JlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgdXRpbHNfanNfMS5mYWtlUHJvbWlzZSkoKS50aGVuKCgpID0+ICgwLCB1dGlsc19qc18xLmVuZFN0cmVhbSkod3JpdGFibGUpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhYm9ydChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICB3cml0YWJsZS5kZXN0cm95KHJlYXNvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBub2RlX2V2ZW50c18xLm9uY2UpKHdyaXRhYmxlLCAnY2xvc2UnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAoIXRoaXMud3JpdGFibGUuZXJyb3JlZCAmJiB0aGlzLndyaXRhYmxlLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLndyaXRhYmxlLmVycm9yZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgcHJvbWlzZV9oZWxwZXJzXzEuZmFrZVJlamVjdFByb21pc2UpKHRoaXMud3JpdGFibGUuZXJyb3JlZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKSgpLnRoZW4oKCkgPT4gKDAsIHV0aWxzX2pzXzEuZW5kU3RyZWFtKSh0aGlzLndyaXRhYmxlKSk7XG4gICAgfVxuICAgIGFib3J0KHJlYXNvbikge1xuICAgICAgICB0aGlzLndyaXRhYmxlLmRlc3Ryb3kocmVhc29uKTtcbiAgICAgICAgcmV0dXJuICgwLCBub2RlX2V2ZW50c18xLm9uY2UpKHRoaXMud3JpdGFibGUsICdjbG9zZScpO1xuICAgIH1cbiAgICBsb2NrZWQgPSBmYWxzZTtcbn1cbmV4cG9ydHMuUG9ueWZpbGxXcml0YWJsZVN0cmVhbSA9IFBvbnlmaWxsV3JpdGFibGVTdHJlYW07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetch.js":
/*!***********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/fetch.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fetchPonyfill = fetchPonyfill;\nconst node_buffer_1 = __webpack_require__(/*! node:buffer */ \"node:buffer\");\nconst node_fs_1 = __webpack_require__(/*! node:fs */ \"node:fs\");\nconst node_url_1 = __webpack_require__(/*! node:url */ \"node:url\");\nconst fetchCurl_js_1 = __webpack_require__(/*! ./fetchCurl.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchCurl.js\");\nconst fetchNodeHttp_js_1 = __webpack_require__(/*! ./fetchNodeHttp.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchNodeHttp.js\");\nconst Request_js_1 = __webpack_require__(/*! ./Request.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js\");\nconst Response_js_1 = __webpack_require__(/*! ./Response.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\");\nconst URL_js_1 = __webpack_require__(/*! ./URL.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nconst BASE64_SUFFIX = ';base64';\nasync function getResponseForFile(url) {\n    const path = (0, node_url_1.fileURLToPath)(url);\n    try {\n        await node_fs_1.promises.access(path, node_fs_1.promises.constants.R_OK);\n        const stats = await node_fs_1.promises.stat(path, {\n            bigint: true,\n        });\n        const readable = (0, node_fs_1.createReadStream)(path);\n        return new Response_js_1.PonyfillResponse(readable, {\n            status: 200,\n            statusText: 'OK',\n            headers: {\n                'content-type': 'application/octet-stream',\n                'last-modified': stats.mtime.toUTCString(),\n            },\n        });\n    }\n    catch (err) {\n        if (err.code === 'ENOENT') {\n            return new Response_js_1.PonyfillResponse(null, {\n                status: 404,\n                statusText: 'Not Found',\n            });\n        }\n        else if (err.code === 'EACCES') {\n            return new Response_js_1.PonyfillResponse(null, {\n                status: 403,\n                statusText: 'Forbidden',\n            });\n        }\n        throw err;\n    }\n}\nfunction getResponseForDataUri(url) {\n    const [mimeType = 'text/plain', ...datas] = url.substring(5).split(',');\n    const data = decodeURIComponent(datas.join(','));\n    if (mimeType.endsWith(BASE64_SUFFIX)) {\n        const buffer = node_buffer_1.Buffer.from(data, 'base64url');\n        const realMimeType = mimeType.slice(0, -BASE64_SUFFIX.length);\n        return new Response_js_1.PonyfillResponse(buffer, {\n            status: 200,\n            statusText: 'OK',\n            headers: {\n                'content-type': realMimeType,\n            },\n        });\n    }\n    return new Response_js_1.PonyfillResponse(data, {\n        status: 200,\n        statusText: 'OK',\n        headers: {\n            'content-type': mimeType,\n        },\n    });\n}\nfunction getResponseForBlob(url) {\n    const blob = URL_js_1.PonyfillURL.getBlobFromURL(url);\n    if (!blob) {\n        throw new TypeError('Invalid Blob URL');\n    }\n    return new Response_js_1.PonyfillResponse(blob, {\n        status: 200,\n        headers: {\n            'content-type': blob.type,\n            'content-length': blob.size.toString(),\n        },\n    });\n}\nfunction isURL(obj) {\n    return obj != null && obj.href != null;\n}\nfunction fetchPonyfill(info, init) {\n    if (typeof info === 'string' || isURL(info)) {\n        const ponyfillRequest = new Request_js_1.PonyfillRequest(info, init);\n        return fetchPonyfill(ponyfillRequest);\n    }\n    const fetchRequest = info;\n    if (fetchRequest.url.startsWith('data:')) {\n        const response = getResponseForDataUri(fetchRequest.url);\n        return (0, utils_js_1.fakePromise)(response);\n    }\n    if (fetchRequest.url.startsWith('file:')) {\n        const response = getResponseForFile(fetchRequest.url);\n        return response;\n    }\n    if (fetchRequest.url.startsWith('blob:')) {\n        const response = getResponseForBlob(fetchRequest.url);\n        return (0, utils_js_1.fakePromise)(response);\n    }\n    if (globalThis.libcurl && !fetchRequest.agent) {\n        return (0, fetchCurl_js_1.fetchCurl)(fetchRequest);\n    }\n    return (0, fetchNodeHttp_js_1.fetchNodeHttp)(fetchRequest);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2ZldGNoLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQjtBQUNyQixzQkFBc0IsbUJBQU8sQ0FBQyxnQ0FBYTtBQUMzQyxrQkFBa0IsbUJBQU8sQ0FBQyx3QkFBUztBQUNuQyxtQkFBbUIsbUJBQU8sQ0FBQywwQkFBVTtBQUNyQyx1QkFBdUIsbUJBQU8sQ0FBQyxxRkFBZ0I7QUFDL0MsMkJBQTJCLG1CQUFPLENBQUMsNkZBQW9CO0FBQ3ZELHFCQUFxQixtQkFBTyxDQUFDLGlGQUFjO0FBQzNDLHNCQUFzQixtQkFBTyxDQUFDLG1GQUFlO0FBQzdDLGlCQUFpQixtQkFBTyxDQUFDLHlFQUFVO0FBQ25DLG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2ZldGNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mZXRjaFBvbnlmaWxsID0gZmV0Y2hQb255ZmlsbDtcbmNvbnN0IG5vZGVfYnVmZmVyXzEgPSByZXF1aXJlKFwibm9kZTpidWZmZXJcIik7XG5jb25zdCBub2RlX2ZzXzEgPSByZXF1aXJlKFwibm9kZTpmc1wiKTtcbmNvbnN0IG5vZGVfdXJsXzEgPSByZXF1aXJlKFwibm9kZTp1cmxcIik7XG5jb25zdCBmZXRjaEN1cmxfanNfMSA9IHJlcXVpcmUoXCIuL2ZldGNoQ3VybC5qc1wiKTtcbmNvbnN0IGZldGNoTm9kZUh0dHBfanNfMSA9IHJlcXVpcmUoXCIuL2ZldGNoTm9kZUh0dHAuanNcIik7XG5jb25zdCBSZXF1ZXN0X2pzXzEgPSByZXF1aXJlKFwiLi9SZXF1ZXN0LmpzXCIpO1xuY29uc3QgUmVzcG9uc2VfanNfMSA9IHJlcXVpcmUoXCIuL1Jlc3BvbnNlLmpzXCIpO1xuY29uc3QgVVJMX2pzXzEgPSByZXF1aXJlKFwiLi9VUkwuanNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5jb25zdCBCQVNFNjRfU1VGRklYID0gJztiYXNlNjQnO1xuYXN5bmMgZnVuY3Rpb24gZ2V0UmVzcG9uc2VGb3JGaWxlKHVybCkge1xuICAgIGNvbnN0IHBhdGggPSAoMCwgbm9kZV91cmxfMS5maWxlVVJMVG9QYXRoKSh1cmwpO1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG5vZGVfZnNfMS5wcm9taXNlcy5hY2Nlc3MocGF0aCwgbm9kZV9mc18xLnByb21pc2VzLmNvbnN0YW50cy5SX09LKTtcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBub2RlX2ZzXzEucHJvbWlzZXMuc3RhdChwYXRoLCB7XG4gICAgICAgICAgICBiaWdpbnQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZWFkYWJsZSA9ICgwLCBub2RlX2ZzXzEuY3JlYXRlUmVhZFN0cmVhbSkocGF0aCk7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2VfanNfMS5Qb255ZmlsbFJlc3BvbnNlKHJlYWRhYmxlLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdPSycsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nLFxuICAgICAgICAgICAgICAgICdsYXN0LW1vZGlmaWVkJzogc3RhdHMubXRpbWUudG9VVENTdHJpbmcoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2VfanNfMS5Qb255ZmlsbFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAnTm90IEZvdW5kJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGVyci5jb2RlID09PSAnRUFDQ0VTJykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZV9qc18xLlBvbnlmaWxsUmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgICAgIHN0YXR1czogNDAzLFxuICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6ICdGb3JiaWRkZW4nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFJlc3BvbnNlRm9yRGF0YVVyaSh1cmwpIHtcbiAgICBjb25zdCBbbWltZVR5cGUgPSAndGV4dC9wbGFpbicsIC4uLmRhdGFzXSA9IHVybC5zdWJzdHJpbmcoNSkuc3BsaXQoJywnKTtcbiAgICBjb25zdCBkYXRhID0gZGVjb2RlVVJJQ29tcG9uZW50KGRhdGFzLmpvaW4oJywnKSk7XG4gICAgaWYgKG1pbWVUeXBlLmVuZHNXaXRoKEJBU0U2NF9TVUZGSVgpKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5vZGVfYnVmZmVyXzEuQnVmZmVyLmZyb20oZGF0YSwgJ2Jhc2U2NHVybCcpO1xuICAgICAgICBjb25zdCByZWFsTWltZVR5cGUgPSBtaW1lVHlwZS5zbGljZSgwLCAtQkFTRTY0X1NVRkZJWC5sZW5ndGgpO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlX2pzXzEuUG9ueWZpbGxSZXNwb25zZShidWZmZXIsIHtcbiAgICAgICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICAgICAgc3RhdHVzVGV4dDogJ09LJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogcmVhbE1pbWVUeXBlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzcG9uc2VfanNfMS5Qb255ZmlsbFJlc3BvbnNlKGRhdGEsIHtcbiAgICAgICAgc3RhdHVzOiAyMDAsXG4gICAgICAgIHN0YXR1c1RleHQ6ICdPSycsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiBtaW1lVHlwZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFJlc3BvbnNlRm9yQmxvYih1cmwpIHtcbiAgICBjb25zdCBibG9iID0gVVJMX2pzXzEuUG9ueWZpbGxVUkwuZ2V0QmxvYkZyb21VUkwodXJsKTtcbiAgICBpZiAoIWJsb2IpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBCbG9iIFVSTCcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlX2pzXzEuUG9ueWZpbGxSZXNwb25zZShibG9iLCB7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnY29udGVudC10eXBlJzogYmxvYi50eXBlLFxuICAgICAgICAgICAgJ2NvbnRlbnQtbGVuZ3RoJzogYmxvYi5zaXplLnRvU3RyaW5nKCksXG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBpc1VSTChvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmhyZWYgIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGZldGNoUG9ueWZpbGwoaW5mbywgaW5pdCkge1xuICAgIGlmICh0eXBlb2YgaW5mbyA9PT0gJ3N0cmluZycgfHwgaXNVUkwoaW5mbykpIHtcbiAgICAgICAgY29uc3QgcG9ueWZpbGxSZXF1ZXN0ID0gbmV3IFJlcXVlc3RfanNfMS5Qb255ZmlsbFJlcXVlc3QoaW5mbywgaW5pdCk7XG4gICAgICAgIHJldHVybiBmZXRjaFBvbnlmaWxsKHBvbnlmaWxsUmVxdWVzdCk7XG4gICAgfVxuICAgIGNvbnN0IGZldGNoUmVxdWVzdCA9IGluZm87XG4gICAgaWYgKGZldGNoUmVxdWVzdC51cmwuc3RhcnRzV2l0aCgnZGF0YTonKSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGdldFJlc3BvbnNlRm9yRGF0YVVyaShmZXRjaFJlcXVlc3QudXJsKTtcbiAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKShyZXNwb25zZSk7XG4gICAgfVxuICAgIGlmIChmZXRjaFJlcXVlc3QudXJsLnN0YXJ0c1dpdGgoJ2ZpbGU6JykpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBnZXRSZXNwb25zZUZvckZpbGUoZmV0Y2hSZXF1ZXN0LnVybCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgaWYgKGZldGNoUmVxdWVzdC51cmwuc3RhcnRzV2l0aCgnYmxvYjonKSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGdldFJlc3BvbnNlRm9yQmxvYihmZXRjaFJlcXVlc3QudXJsKTtcbiAgICAgICAgcmV0dXJuICgwLCB1dGlsc19qc18xLmZha2VQcm9taXNlKShyZXNwb25zZSk7XG4gICAgfVxuICAgIGlmIChnbG9iYWxUaGlzLmxpYmN1cmwgJiYgIWZldGNoUmVxdWVzdC5hZ2VudCkge1xuICAgICAgICByZXR1cm4gKDAsIGZldGNoQ3VybF9qc18xLmZldGNoQ3VybCkoZmV0Y2hSZXF1ZXN0KTtcbiAgICB9XG4gICAgcmV0dXJuICgwLCBmZXRjaE5vZGVIdHRwX2pzXzEuZmV0Y2hOb2RlSHR0cCkoZmV0Y2hSZXF1ZXN0KTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetch.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchCurl.js":
/*!***************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/fetchCurl.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fetchCurl = fetchCurl;\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst node_tls_1 = __webpack_require__(/*! node:tls */ \"node:tls\");\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst Response_js_1 = __webpack_require__(/*! ./Response.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nfunction fetchCurl(fetchRequest) {\n    const { Curl, CurlFeature, CurlPause, CurlProgressFunc } = globalThis['libcurl'];\n    const curlHandle = new Curl();\n    curlHandle.enable(CurlFeature.NoDataParsing);\n    curlHandle.setOpt('URL', fetchRequest.url);\n    if (process.env.NODE_TLS_REJECT_UNAUTHORIZED === '0') {\n        curlHandle.setOpt('SSL_VERIFYPEER', false);\n    }\n    if (process.env.NODE_EXTRA_CA_CERTS) {\n        curlHandle.setOpt('CAINFO', process.env.NODE_EXTRA_CA_CERTS);\n    }\n    else {\n        curlHandle.setOpt('CAINFO_BLOB', node_tls_1.rootCertificates.join('\\n'));\n    }\n    curlHandle.enable(CurlFeature.StreamResponse);\n    let signal;\n    if (fetchRequest._signal === null) {\n        signal = undefined;\n    }\n    else if (fetchRequest._signal) {\n        signal = fetchRequest._signal;\n    }\n    curlHandle.setStreamProgressCallback(function () {\n        return signal?.aborted ? (process.env.DEBUG ? CurlProgressFunc.Continue : 1) : 0;\n    });\n    if (fetchRequest['bodyType'] === 'String') {\n        curlHandle.setOpt('POSTFIELDS', fetchRequest['bodyInit']);\n    }\n    else {\n        const nodeReadable = (fetchRequest.body != null\n            ? (0, utils_js_1.isNodeReadable)(fetchRequest.body)\n                ? fetchRequest.body\n                : node_stream_1.Readable.from(fetchRequest.body)\n            : null);\n        if (nodeReadable) {\n            curlHandle.setOpt('UPLOAD', true);\n            curlHandle.setUploadStream(nodeReadable);\n        }\n    }\n    if (process.env.DEBUG) {\n        curlHandle.setOpt('VERBOSE', true);\n    }\n    curlHandle.setOpt('TRANSFER_ENCODING', false);\n    curlHandle.setOpt('HTTP_TRANSFER_DECODING', true);\n    curlHandle.setOpt('FOLLOWLOCATION', fetchRequest.redirect === 'follow');\n    curlHandle.setOpt('MAXREDIRS', 20);\n    curlHandle.setOpt('ACCEPT_ENCODING', '');\n    curlHandle.setOpt('CUSTOMREQUEST', fetchRequest.method);\n    const headersSerializer = fetchRequest.headersSerializer || utils_js_1.defaultHeadersSerializer;\n    let size;\n    const curlHeaders = headersSerializer(fetchRequest.headers, value => {\n        size = Number(value);\n    });\n    if (size != null) {\n        curlHandle.setOpt('INFILESIZE', size);\n    }\n    curlHandle.setOpt('HTTPHEADER', curlHeaders);\n    curlHandle.enable(CurlFeature.NoHeaderParsing);\n    const deferredPromise = (0, promise_helpers_1.createDeferredPromise)();\n    let streamResolved;\n    function onAbort() {\n        if (curlHandle.isOpen) {\n            try {\n                curlHandle.pause(CurlPause.Recv);\n            }\n            catch (e) {\n                deferredPromise.reject(e);\n            }\n        }\n    }\n    signal?.addEventListener('abort', onAbort, { once: true });\n    curlHandle.once('end', function endListener() {\n        try {\n            curlHandle.close();\n        }\n        catch (e) {\n            deferredPromise.reject(e);\n        }\n        signal?.removeEventListener('abort', onAbort);\n    });\n    curlHandle.once('error', function errorListener(error) {\n        if (streamResolved && !streamResolved.closed && !streamResolved.destroyed) {\n            streamResolved.destroy(error);\n        }\n        else {\n            if (error.message === 'Operation was aborted by an application callback') {\n                error.message = 'The operation was aborted.';\n            }\n            deferredPromise.reject(error);\n        }\n        try {\n            curlHandle.close();\n        }\n        catch (e) {\n            deferredPromise.reject(e);\n        }\n    });\n    curlHandle.once('stream', function streamListener(stream, status, headersBuf) {\n        const outputStream = stream.pipe(new node_stream_1.PassThrough(), {\n            end: true,\n        });\n        const headersFlat = headersBuf\n            .toString('utf8')\n            .split(/\\r?\\n|\\r/g)\n            .filter(headerFilter => {\n            if (headerFilter && !headerFilter.startsWith('HTTP/')) {\n                if (fetchRequest.redirect === 'error' &&\n                    headerFilter.toLowerCase().includes('location') &&\n                    (0, utils_js_1.shouldRedirect)(status)) {\n                    if (!stream.destroyed) {\n                        stream.resume();\n                    }\n                    outputStream.destroy();\n                    deferredPromise.reject(new Error('redirect is not allowed'));\n                }\n                return true;\n            }\n            return false;\n        });\n        const headersInit = headersFlat.map(headerFlat => headerFlat.split(/:\\s(.+)/).slice(0, 2));\n        const ponyfillResponse = new Response_js_1.PonyfillResponse(outputStream, {\n            status,\n            headers: headersInit,\n            url: curlHandle.getInfo(Curl.info.REDIRECT_URL)?.toString() || fetchRequest.url,\n            redirected: Number(curlHandle.getInfo(Curl.info.REDIRECT_COUNT)) > 0,\n        });\n        deferredPromise.resolve(ponyfillResponse);\n        streamResolved = outputStream;\n    });\n    setImmediate(() => {\n        curlHandle.perform();\n    });\n    return deferredPromise.promise;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2ZldGNoQ3VybC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxpQkFBaUI7QUFDakIsc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0MsbUJBQW1CLG1CQUFPLENBQUMsMEJBQVU7QUFDckMsMEJBQTBCLG1CQUFPLENBQUMsb0dBQThCO0FBQ2hFLHNCQUFzQixtQkFBTyxDQUFDLG1GQUFlO0FBQzdDLG1CQUFtQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3ZDO0FBQ0EsWUFBWSxpREFBaUQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsWUFBWTtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvZmV0Y2hDdXJsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5mZXRjaEN1cmwgPSBmZXRjaEN1cmw7XG5jb25zdCBub2RlX3N0cmVhbV8xID0gcmVxdWlyZShcIm5vZGU6c3RyZWFtXCIpO1xuY29uc3Qgbm9kZV90bHNfMSA9IHJlcXVpcmUoXCJub2RlOnRsc1wiKTtcbmNvbnN0IHByb21pc2VfaGVscGVyc18xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9wcm9taXNlLWhlbHBlcnNcIik7XG5jb25zdCBSZXNwb25zZV9qc18xID0gcmVxdWlyZShcIi4vUmVzcG9uc2UuanNcIik7XG5jb25zdCB1dGlsc19qc18xID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5mdW5jdGlvbiBmZXRjaEN1cmwoZmV0Y2hSZXF1ZXN0KSB7XG4gICAgY29uc3QgeyBDdXJsLCBDdXJsRmVhdHVyZSwgQ3VybFBhdXNlLCBDdXJsUHJvZ3Jlc3NGdW5jIH0gPSBnbG9iYWxUaGlzWydsaWJjdXJsJ107XG4gICAgY29uc3QgY3VybEhhbmRsZSA9IG5ldyBDdXJsKCk7XG4gICAgY3VybEhhbmRsZS5lbmFibGUoQ3VybEZlYXR1cmUuTm9EYXRhUGFyc2luZyk7XG4gICAgY3VybEhhbmRsZS5zZXRPcHQoJ1VSTCcsIGZldGNoUmVxdWVzdC51cmwpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX1RMU19SRUpFQ1RfVU5BVVRIT1JJWkVEID09PSAnMCcpIHtcbiAgICAgICAgY3VybEhhbmRsZS5zZXRPcHQoJ1NTTF9WRVJJRllQRUVSJywgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FWFRSQV9DQV9DRVJUUykge1xuICAgICAgICBjdXJsSGFuZGxlLnNldE9wdCgnQ0FJTkZPJywgcHJvY2Vzcy5lbnYuTk9ERV9FWFRSQV9DQV9DRVJUUyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjdXJsSGFuZGxlLnNldE9wdCgnQ0FJTkZPX0JMT0InLCBub2RlX3Rsc18xLnJvb3RDZXJ0aWZpY2F0ZXMuam9pbignXFxuJykpO1xuICAgIH1cbiAgICBjdXJsSGFuZGxlLmVuYWJsZShDdXJsRmVhdHVyZS5TdHJlYW1SZXNwb25zZSk7XG4gICAgbGV0IHNpZ25hbDtcbiAgICBpZiAoZmV0Y2hSZXF1ZXN0Ll9zaWduYWwgPT09IG51bGwpIHtcbiAgICAgICAgc2lnbmFsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHNlIGlmIChmZXRjaFJlcXVlc3QuX3NpZ25hbCkge1xuICAgICAgICBzaWduYWwgPSBmZXRjaFJlcXVlc3QuX3NpZ25hbDtcbiAgICB9XG4gICAgY3VybEhhbmRsZS5zZXRTdHJlYW1Qcm9ncmVzc0NhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNpZ25hbD8uYWJvcnRlZCA/IChwcm9jZXNzLmVudi5ERUJVRyA/IEN1cmxQcm9ncmVzc0Z1bmMuQ29udGludWUgOiAxKSA6IDA7XG4gICAgfSk7XG4gICAgaWYgKGZldGNoUmVxdWVzdFsnYm9keVR5cGUnXSA9PT0gJ1N0cmluZycpIHtcbiAgICAgICAgY3VybEhhbmRsZS5zZXRPcHQoJ1BPU1RGSUVMRFMnLCBmZXRjaFJlcXVlc3RbJ2JvZHlJbml0J10pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgbm9kZVJlYWRhYmxlID0gKGZldGNoUmVxdWVzdC5ib2R5ICE9IG51bGxcbiAgICAgICAgICAgID8gKDAsIHV0aWxzX2pzXzEuaXNOb2RlUmVhZGFibGUpKGZldGNoUmVxdWVzdC5ib2R5KVxuICAgICAgICAgICAgICAgID8gZmV0Y2hSZXF1ZXN0LmJvZHlcbiAgICAgICAgICAgICAgICA6IG5vZGVfc3RyZWFtXzEuUmVhZGFibGUuZnJvbShmZXRjaFJlcXVlc3QuYm9keSlcbiAgICAgICAgICAgIDogbnVsbCk7XG4gICAgICAgIGlmIChub2RlUmVhZGFibGUpIHtcbiAgICAgICAgICAgIGN1cmxIYW5kbGUuc2V0T3B0KCdVUExPQUQnLCB0cnVlKTtcbiAgICAgICAgICAgIGN1cmxIYW5kbGUuc2V0VXBsb2FkU3RyZWFtKG5vZGVSZWFkYWJsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52LkRFQlVHKSB7XG4gICAgICAgIGN1cmxIYW5kbGUuc2V0T3B0KCdWRVJCT1NFJywgdHJ1ZSk7XG4gICAgfVxuICAgIGN1cmxIYW5kbGUuc2V0T3B0KCdUUkFOU0ZFUl9FTkNPRElORycsIGZhbHNlKTtcbiAgICBjdXJsSGFuZGxlLnNldE9wdCgnSFRUUF9UUkFOU0ZFUl9ERUNPRElORycsIHRydWUpO1xuICAgIGN1cmxIYW5kbGUuc2V0T3B0KCdGT0xMT1dMT0NBVElPTicsIGZldGNoUmVxdWVzdC5yZWRpcmVjdCA9PT0gJ2ZvbGxvdycpO1xuICAgIGN1cmxIYW5kbGUuc2V0T3B0KCdNQVhSRURJUlMnLCAyMCk7XG4gICAgY3VybEhhbmRsZS5zZXRPcHQoJ0FDQ0VQVF9FTkNPRElORycsICcnKTtcbiAgICBjdXJsSGFuZGxlLnNldE9wdCgnQ1VTVE9NUkVRVUVTVCcsIGZldGNoUmVxdWVzdC5tZXRob2QpO1xuICAgIGNvbnN0IGhlYWRlcnNTZXJpYWxpemVyID0gZmV0Y2hSZXF1ZXN0LmhlYWRlcnNTZXJpYWxpemVyIHx8IHV0aWxzX2pzXzEuZGVmYXVsdEhlYWRlcnNTZXJpYWxpemVyO1xuICAgIGxldCBzaXplO1xuICAgIGNvbnN0IGN1cmxIZWFkZXJzID0gaGVhZGVyc1NlcmlhbGl6ZXIoZmV0Y2hSZXF1ZXN0LmhlYWRlcnMsIHZhbHVlID0+IHtcbiAgICAgICAgc2l6ZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgfSk7XG4gICAgaWYgKHNpemUgIT0gbnVsbCkge1xuICAgICAgICBjdXJsSGFuZGxlLnNldE9wdCgnSU5GSUxFU0laRScsIHNpemUpO1xuICAgIH1cbiAgICBjdXJsSGFuZGxlLnNldE9wdCgnSFRUUEhFQURFUicsIGN1cmxIZWFkZXJzKTtcbiAgICBjdXJsSGFuZGxlLmVuYWJsZShDdXJsRmVhdHVyZS5Ob0hlYWRlclBhcnNpbmcpO1xuICAgIGNvbnN0IGRlZmVycmVkUHJvbWlzZSA9ICgwLCBwcm9taXNlX2hlbHBlcnNfMS5jcmVhdGVEZWZlcnJlZFByb21pc2UpKCk7XG4gICAgbGV0IHN0cmVhbVJlc29sdmVkO1xuICAgIGZ1bmN0aW9uIG9uQWJvcnQoKSB7XG4gICAgICAgIGlmIChjdXJsSGFuZGxlLmlzT3Blbikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjdXJsSGFuZGxlLnBhdXNlKEN1cmxQYXVzZS5SZWN2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWRQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzaWduYWw/LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25BYm9ydCwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIGN1cmxIYW5kbGUub25jZSgnZW5kJywgZnVuY3Rpb24gZW5kTGlzdGVuZXIoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjdXJsSGFuZGxlLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGRlZmVycmVkUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2lnbmFsPy5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQWJvcnQpO1xuICAgIH0pO1xuICAgIGN1cmxIYW5kbGUub25jZSgnZXJyb3InLCBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycm9yKSB7XG4gICAgICAgIGlmIChzdHJlYW1SZXNvbHZlZCAmJiAhc3RyZWFtUmVzb2x2ZWQuY2xvc2VkICYmICFzdHJlYW1SZXNvbHZlZC5kZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIHN0cmVhbVJlc29sdmVkLmRlc3Ryb3koZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09ICdPcGVyYXRpb24gd2FzIGFib3J0ZWQgYnkgYW4gYXBwbGljYXRpb24gY2FsbGJhY2snKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSA9ICdUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZlcnJlZFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY3VybEhhbmRsZS5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBkZWZlcnJlZFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY3VybEhhbmRsZS5vbmNlKCdzdHJlYW0nLCBmdW5jdGlvbiBzdHJlYW1MaXN0ZW5lcihzdHJlYW0sIHN0YXR1cywgaGVhZGVyc0J1Zikge1xuICAgICAgICBjb25zdCBvdXRwdXRTdHJlYW0gPSBzdHJlYW0ucGlwZShuZXcgbm9kZV9zdHJlYW1fMS5QYXNzVGhyb3VnaCgpLCB7XG4gICAgICAgICAgICBlbmQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBoZWFkZXJzRmxhdCA9IGhlYWRlcnNCdWZcbiAgICAgICAgICAgIC50b1N0cmluZygndXRmOCcpXG4gICAgICAgICAgICAuc3BsaXQoL1xccj9cXG58XFxyL2cpXG4gICAgICAgICAgICAuZmlsdGVyKGhlYWRlckZpbHRlciA9PiB7XG4gICAgICAgICAgICBpZiAoaGVhZGVyRmlsdGVyICYmICFoZWFkZXJGaWx0ZXIuc3RhcnRzV2l0aCgnSFRUUC8nKSkge1xuICAgICAgICAgICAgICAgIGlmIChmZXRjaFJlcXVlc3QucmVkaXJlY3QgPT09ICdlcnJvcicgJiZcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyRmlsdGVyLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoJ2xvY2F0aW9uJykgJiZcbiAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzX2pzXzEuc2hvdWxkUmVkaXJlY3QpKHN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJlYW0uZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW0ucmVzdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0U3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWRQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ3JlZGlyZWN0IGlzIG5vdCBhbGxvd2VkJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGhlYWRlcnNJbml0ID0gaGVhZGVyc0ZsYXQubWFwKGhlYWRlckZsYXQgPT4gaGVhZGVyRmxhdC5zcGxpdCgvOlxccyguKykvKS5zbGljZSgwLCAyKSk7XG4gICAgICAgIGNvbnN0IHBvbnlmaWxsUmVzcG9uc2UgPSBuZXcgUmVzcG9uc2VfanNfMS5Qb255ZmlsbFJlc3BvbnNlKG91dHB1dFN0cmVhbSwge1xuICAgICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc0luaXQsXG4gICAgICAgICAgICB1cmw6IGN1cmxIYW5kbGUuZ2V0SW5mbyhDdXJsLmluZm8uUkVESVJFQ1RfVVJMKT8udG9TdHJpbmcoKSB8fCBmZXRjaFJlcXVlc3QudXJsLFxuICAgICAgICAgICAgcmVkaXJlY3RlZDogTnVtYmVyKGN1cmxIYW5kbGUuZ2V0SW5mbyhDdXJsLmluZm8uUkVESVJFQ1RfQ09VTlQpKSA+IDAsXG4gICAgICAgIH0pO1xuICAgICAgICBkZWZlcnJlZFByb21pc2UucmVzb2x2ZShwb255ZmlsbFJlc3BvbnNlKTtcbiAgICAgICAgc3RyZWFtUmVzb2x2ZWQgPSBvdXRwdXRTdHJlYW07XG4gICAgfSk7XG4gICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgICAgY3VybEhhbmRsZS5wZXJmb3JtKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGRlZmVycmVkUHJvbWlzZS5wcm9taXNlO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchCurl.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchNodeHttp.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/fetchNodeHttp.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fetchNodeHttp = fetchNodeHttp;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\nconst node_http_1 = __webpack_require__(/*! node:http */ \"node:http\");\nconst node_https_1 = __webpack_require__(/*! node:https */ \"node:https\");\nconst node_stream_1 = __webpack_require__(/*! node:stream */ \"node:stream\");\nconst node_zlib_1 = tslib_1.__importDefault(__webpack_require__(/*! node:zlib */ \"node:zlib\"));\nconst promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nconst Request_js_1 = __webpack_require__(/*! ./Request.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js\");\nconst Response_js_1 = __webpack_require__(/*! ./Response.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\");\nconst URL_js_1 = __webpack_require__(/*! ./URL.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\");\nconst utils_js_1 = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\");\nfunction getRequestFnForProtocol(url) {\n    if (url.startsWith('http:')) {\n        return node_http_1.request;\n    }\n    else if (url.startsWith('https:')) {\n        return node_https_1.request;\n    }\n    throw new Error(`Unsupported protocol: ${url.split(':')[0] || url}`);\n}\nfunction fetchNodeHttp(fetchRequest) {\n    return new Promise((resolve, reject) => {\n        try {\n            const requestFn = getRequestFnForProtocol(fetchRequest.parsedUrl?.protocol || fetchRequest.url);\n            const headersSerializer = fetchRequest.headersSerializer || utils_js_1.getHeadersObj;\n            const nodeHeaders = headersSerializer(fetchRequest.headers);\n            nodeHeaders['accept-encoding'] ||= utils_js_1.DEFAULT_ACCEPT_ENCODING;\n            if (nodeHeaders['user-agent'] == null && nodeHeaders['User-Agent'] == null) {\n                nodeHeaders['user-agent'] = 'node';\n            }\n            let signal;\n            if (fetchRequest._signal == null) {\n                signal = undefined;\n            }\n            else if (fetchRequest._signal) {\n                signal = fetchRequest._signal;\n            }\n            let nodeRequest;\n            // If it is our ponyfilled Request, it should have `parsedUrl` which is a `URL` object\n            if (fetchRequest.parsedUrl) {\n                nodeRequest = requestFn(fetchRequest.parsedUrl, {\n                    method: fetchRequest.method,\n                    headers: nodeHeaders,\n                    signal,\n                    agent: fetchRequest.agent,\n                });\n            }\n            else {\n                nodeRequest = requestFn(fetchRequest.url, {\n                    method: fetchRequest.method,\n                    headers: nodeHeaders,\n                    signal,\n                    agent: fetchRequest.agent,\n                });\n            }\n            nodeRequest.once('error', reject);\n            nodeRequest.once('response', nodeResponse => {\n                let outputStream;\n                const contentEncoding = nodeResponse.headers['content-encoding'];\n                switch (contentEncoding) {\n                    case 'x-gzip':\n                    case 'gzip':\n                        outputStream = node_zlib_1.default.createGunzip();\n                        break;\n                    case 'x-deflate':\n                    case 'deflate':\n                        outputStream = node_zlib_1.default.createInflate();\n                        break;\n                    case 'x-deflate-raw':\n                    case 'deflate-raw':\n                        outputStream = node_zlib_1.default.createInflateRaw();\n                        break;\n                    case 'br':\n                        outputStream = node_zlib_1.default.createBrotliDecompress();\n                        break;\n                    case 'zstd':\n                        if (node_zlib_1.default.createZstdDecompress != null) {\n                            outputStream = node_zlib_1.default.createZstdDecompress();\n                        }\n                        break;\n                }\n                if (nodeResponse.headers.location && (0, utils_js_1.shouldRedirect)(nodeResponse.statusCode)) {\n                    if (fetchRequest.redirect === 'error') {\n                        const redirectError = new Error('Redirects are not allowed');\n                        reject(redirectError);\n                        nodeResponse.resume();\n                        return;\n                    }\n                    if (fetchRequest.redirect === 'follow') {\n                        const redirectedUrl = new URL_js_1.PonyfillURL(nodeResponse.headers.location, fetchRequest.parsedUrl || fetchRequest.url);\n                        const redirectResponse$ = fetchNodeHttp(new Request_js_1.PonyfillRequest(redirectedUrl, fetchRequest));\n                        resolve(redirectResponse$.then(redirectResponse => {\n                            redirectResponse.redirected = true;\n                            return redirectResponse;\n                        }));\n                        nodeResponse.resume();\n                        return;\n                    }\n                }\n                outputStream ||= new node_stream_1.PassThrough();\n                (0, utils_js_1.pipeThrough)({\n                    src: nodeResponse,\n                    dest: outputStream,\n                    signal,\n                    onError: e => {\n                        if (!nodeResponse.destroyed) {\n                            nodeResponse.destroy(e);\n                        }\n                        if (!outputStream.destroyed) {\n                            outputStream.destroy(e);\n                        }\n                        reject(e);\n                    },\n                });\n                const statusCode = nodeResponse.statusCode || 200;\n                let statusText = nodeResponse.statusMessage || node_http_1.STATUS_CODES[statusCode];\n                if (statusText == null) {\n                    statusText = '';\n                }\n                const ponyfillResponse = new Response_js_1.PonyfillResponse(outputStream || nodeResponse, {\n                    status: statusCode,\n                    statusText,\n                    headers: nodeResponse.headers,\n                    url: fetchRequest.url,\n                    signal,\n                });\n                resolve(ponyfillResponse);\n            });\n            if (fetchRequest['_buffer'] != null) {\n                (0, promise_helpers_1.handleMaybePromise)(() => (0, utils_js_1.safeWrite)(fetchRequest['_buffer'], nodeRequest), () => (0, utils_js_1.endStream)(nodeRequest), reject);\n            }\n            else if (fetchRequest['bodyType'] === 'String') {\n                (0, promise_helpers_1.handleMaybePromise)(() => (0, utils_js_1.safeWrite)(fetchRequest['bodyInit'], nodeRequest), () => (0, utils_js_1.endStream)(nodeRequest), reject);\n            }\n            else {\n                const nodeReadable = (fetchRequest.body != null\n                    ? (0, utils_js_1.isNodeReadable)(fetchRequest.body)\n                        ? fetchRequest.body\n                        : node_stream_1.Readable.from(fetchRequest.body)\n                    : null);\n                if (nodeReadable) {\n                    nodeReadable.pipe(nodeRequest);\n                }\n                else {\n                    (0, utils_js_1.endStream)(nodeRequest);\n                }\n            }\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2ZldGNoTm9kZUh0dHAuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCLGdCQUFnQixtQkFBTyxDQUFDLHVEQUFPO0FBQy9CLG9CQUFvQixtQkFBTyxDQUFDLDRCQUFXO0FBQ3ZDLHFCQUFxQixtQkFBTyxDQUFDLDhCQUFZO0FBQ3pDLHNCQUFzQixtQkFBTyxDQUFDLGdDQUFhO0FBQzNDLDRDQUE0QyxtQkFBTyxDQUFDLDRCQUFXO0FBQy9ELDBCQUEwQixtQkFBTyxDQUFDLG9HQUE4QjtBQUNoRSxxQkFBcUIsbUJBQU8sQ0FBQyxpRkFBYztBQUMzQyxzQkFBc0IsbUJBQU8sQ0FBQyxtRkFBZTtBQUM3QyxpQkFBaUIsbUJBQU8sQ0FBQyx5RUFBVTtBQUNuQyxtQkFBbUIsbUJBQU8sQ0FBQyw2RUFBWTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyx5QkFBeUI7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2ZldGNoTm9kZUh0dHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZldGNoTm9kZUh0dHAgPSBmZXRjaE5vZGVIdHRwO1xuY29uc3QgdHNsaWJfMSA9IHJlcXVpcmUoXCJ0c2xpYlwiKTtcbmNvbnN0IG5vZGVfaHR0cF8xID0gcmVxdWlyZShcIm5vZGU6aHR0cFwiKTtcbmNvbnN0IG5vZGVfaHR0cHNfMSA9IHJlcXVpcmUoXCJub2RlOmh0dHBzXCIpO1xuY29uc3Qgbm9kZV9zdHJlYW1fMSA9IHJlcXVpcmUoXCJub2RlOnN0cmVhbVwiKTtcbmNvbnN0IG5vZGVfemxpYl8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIm5vZGU6emxpYlwiKSk7XG5jb25zdCBwcm9taXNlX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCJAd2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzXCIpO1xuY29uc3QgUmVxdWVzdF9qc18xID0gcmVxdWlyZShcIi4vUmVxdWVzdC5qc1wiKTtcbmNvbnN0IFJlc3BvbnNlX2pzXzEgPSByZXF1aXJlKFwiLi9SZXNwb25zZS5qc1wiKTtcbmNvbnN0IFVSTF9qc18xID0gcmVxdWlyZShcIi4vVVJMLmpzXCIpO1xuY29uc3QgdXRpbHNfanNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuZnVuY3Rpb24gZ2V0UmVxdWVzdEZuRm9yUHJvdG9jb2wodXJsKSB7XG4gICAgaWYgKHVybC5zdGFydHNXaXRoKCdodHRwOicpKSB7XG4gICAgICAgIHJldHVybiBub2RlX2h0dHBfMS5yZXF1ZXN0O1xuICAgIH1cbiAgICBlbHNlIGlmICh1cmwuc3RhcnRzV2l0aCgnaHR0cHM6JykpIHtcbiAgICAgICAgcmV0dXJuIG5vZGVfaHR0cHNfMS5yZXF1ZXN0O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHByb3RvY29sOiAke3VybC5zcGxpdCgnOicpWzBdIHx8IHVybH1gKTtcbn1cbmZ1bmN0aW9uIGZldGNoTm9kZUh0dHAoZmV0Y2hSZXF1ZXN0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RGbiA9IGdldFJlcXVlc3RGbkZvclByb3RvY29sKGZldGNoUmVxdWVzdC5wYXJzZWRVcmw/LnByb3RvY29sIHx8IGZldGNoUmVxdWVzdC51cmwpO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyc1NlcmlhbGl6ZXIgPSBmZXRjaFJlcXVlc3QuaGVhZGVyc1NlcmlhbGl6ZXIgfHwgdXRpbHNfanNfMS5nZXRIZWFkZXJzT2JqO1xuICAgICAgICAgICAgY29uc3Qgbm9kZUhlYWRlcnMgPSBoZWFkZXJzU2VyaWFsaXplcihmZXRjaFJlcXVlc3QuaGVhZGVycyk7XG4gICAgICAgICAgICBub2RlSGVhZGVyc1snYWNjZXB0LWVuY29kaW5nJ10gfHw9IHV0aWxzX2pzXzEuREVGQVVMVF9BQ0NFUFRfRU5DT0RJTkc7XG4gICAgICAgICAgICBpZiAobm9kZUhlYWRlcnNbJ3VzZXItYWdlbnQnXSA9PSBudWxsICYmIG5vZGVIZWFkZXJzWydVc2VyLUFnZW50J10gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG5vZGVIZWFkZXJzWyd1c2VyLWFnZW50J10gPSAnbm9kZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2lnbmFsO1xuICAgICAgICAgICAgaWYgKGZldGNoUmVxdWVzdC5fc2lnbmFsID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzaWduYWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmZXRjaFJlcXVlc3QuX3NpZ25hbCkge1xuICAgICAgICAgICAgICAgIHNpZ25hbCA9IGZldGNoUmVxdWVzdC5fc2lnbmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5vZGVSZXF1ZXN0O1xuICAgICAgICAgICAgLy8gSWYgaXQgaXMgb3VyIHBvbnlmaWxsZWQgUmVxdWVzdCwgaXQgc2hvdWxkIGhhdmUgYHBhcnNlZFVybGAgd2hpY2ggaXMgYSBgVVJMYCBvYmplY3RcbiAgICAgICAgICAgIGlmIChmZXRjaFJlcXVlc3QucGFyc2VkVXJsKSB7XG4gICAgICAgICAgICAgICAgbm9kZVJlcXVlc3QgPSByZXF1ZXN0Rm4oZmV0Y2hSZXF1ZXN0LnBhcnNlZFVybCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGZldGNoUmVxdWVzdC5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IG5vZGVIZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIGFnZW50OiBmZXRjaFJlcXVlc3QuYWdlbnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlUmVxdWVzdCA9IHJlcXVlc3RGbihmZXRjaFJlcXVlc3QudXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogZmV0Y2hSZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogbm9kZUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICAgICAgICAgICAgYWdlbnQ6IGZldGNoUmVxdWVzdC5hZ2VudCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGVSZXF1ZXN0Lm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgICAgICAgICAgIG5vZGVSZXF1ZXN0Lm9uY2UoJ3Jlc3BvbnNlJywgbm9kZVJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgb3V0cHV0U3RyZWFtO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbmNvZGluZyA9IG5vZGVSZXNwb25zZS5oZWFkZXJzWydjb250ZW50LWVuY29kaW5nJ107XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjb250ZW50RW5jb2RpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneC1nemlwJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZ3ppcCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0gPSBub2RlX3psaWJfMS5kZWZhdWx0LmNyZWF0ZUd1bnppcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3gtZGVmbGF0ZSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlZmxhdGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0U3RyZWFtID0gbm9kZV96bGliXzEuZGVmYXVsdC5jcmVhdGVJbmZsYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAneC1kZWZsYXRlLXJhdyc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RlZmxhdGUtcmF3JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFN0cmVhbSA9IG5vZGVfemxpYl8xLmRlZmF1bHQuY3JlYXRlSW5mbGF0ZVJhdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JyJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFN0cmVhbSA9IG5vZGVfemxpYl8xLmRlZmF1bHQuY3JlYXRlQnJvdGxpRGVjb21wcmVzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3pzdGQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGVfemxpYl8xLmRlZmF1bHQuY3JlYXRlWnN0ZERlY29tcHJlc3MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFN0cmVhbSA9IG5vZGVfemxpYl8xLmRlZmF1bHQuY3JlYXRlWnN0ZERlY29tcHJlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm9kZVJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb24gJiYgKDAsIHV0aWxzX2pzXzEuc2hvdWxkUmVkaXJlY3QpKG5vZGVSZXNwb25zZS5zdGF0dXNDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmV0Y2hSZXF1ZXN0LnJlZGlyZWN0ID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWRpcmVjdEVycm9yID0gbmV3IEVycm9yKCdSZWRpcmVjdHMgYXJlIG5vdCBhbGxvd2VkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVkaXJlY3RFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlUmVzcG9uc2UucmVzdW1lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZldGNoUmVxdWVzdC5yZWRpcmVjdCA9PT0gJ2ZvbGxvdycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0ZWRVcmwgPSBuZXcgVVJMX2pzXzEuUG9ueWZpbGxVUkwobm9kZVJlc3BvbnNlLmhlYWRlcnMubG9jYXRpb24sIGZldGNoUmVxdWVzdC5wYXJzZWRVcmwgfHwgZmV0Y2hSZXF1ZXN0LnVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWRpcmVjdFJlc3BvbnNlJCA9IGZldGNoTm9kZUh0dHAobmV3IFJlcXVlc3RfanNfMS5Qb255ZmlsbFJlcXVlc3QocmVkaXJlY3RlZFVybCwgZmV0Y2hSZXF1ZXN0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlZGlyZWN0UmVzcG9uc2UkLnRoZW4ocmVkaXJlY3RSZXNwb25zZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RSZXNwb25zZS5yZWRpcmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVkaXJlY3RSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVSZXNwb25zZS5yZXN1bWUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0gfHw9IG5ldyBub2RlX3N0cmVhbV8xLlBhc3NUaHJvdWdoKCk7XG4gICAgICAgICAgICAgICAgKDAsIHV0aWxzX2pzXzEucGlwZVRocm91Z2gpKHtcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBub2RlUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIGRlc3Q6IG91dHB1dFN0cmVhbSxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yOiBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbm9kZVJlc3BvbnNlLmRlc3Ryb3llZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVSZXNwb25zZS5kZXN0cm95KGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvdXRwdXRTdHJlYW0uZGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0U3RyZWFtLmRlc3Ryb3koZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzQ29kZSA9IG5vZGVSZXNwb25zZS5zdGF0dXNDb2RlIHx8IDIwMDtcbiAgICAgICAgICAgICAgICBsZXQgc3RhdHVzVGV4dCA9IG5vZGVSZXNwb25zZS5zdGF0dXNNZXNzYWdlIHx8IG5vZGVfaHR0cF8xLlNUQVRVU19DT0RFU1tzdGF0dXNDb2RlXTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzVGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ueWZpbGxSZXNwb25zZSA9IG5ldyBSZXNwb25zZV9qc18xLlBvbnlmaWxsUmVzcG9uc2Uob3V0cHV0U3RyZWFtIHx8IG5vZGVSZXNwb25zZSwge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IG5vZGVSZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGZldGNoUmVxdWVzdC51cmwsXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHBvbnlmaWxsUmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZmV0Y2hSZXF1ZXN0WydfYnVmZmVyJ10gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICgwLCBwcm9taXNlX2hlbHBlcnNfMS5oYW5kbGVNYXliZVByb21pc2UpKCgpID0+ICgwLCB1dGlsc19qc18xLnNhZmVXcml0ZSkoZmV0Y2hSZXF1ZXN0WydfYnVmZmVyJ10sIG5vZGVSZXF1ZXN0KSwgKCkgPT4gKDAsIHV0aWxzX2pzXzEuZW5kU3RyZWFtKShub2RlUmVxdWVzdCksIHJlamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmZXRjaFJlcXVlc3RbJ2JvZHlUeXBlJ10gPT09ICdTdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgKDAsIHByb21pc2VfaGVscGVyc18xLmhhbmRsZU1heWJlUHJvbWlzZSkoKCkgPT4gKDAsIHV0aWxzX2pzXzEuc2FmZVdyaXRlKShmZXRjaFJlcXVlc3RbJ2JvZHlJbml0J10sIG5vZGVSZXF1ZXN0KSwgKCkgPT4gKDAsIHV0aWxzX2pzXzEuZW5kU3RyZWFtKShub2RlUmVxdWVzdCksIHJlamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub2RlUmVhZGFibGUgPSAoZmV0Y2hSZXF1ZXN0LmJvZHkgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/ICgwLCB1dGlsc19qc18xLmlzTm9kZVJlYWRhYmxlKShmZXRjaFJlcXVlc3QuYm9keSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZmV0Y2hSZXF1ZXN0LmJvZHlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbm9kZV9zdHJlYW1fMS5SZWFkYWJsZS5mcm9tKGZldGNoUmVxdWVzdC5ib2R5KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwpO1xuICAgICAgICAgICAgICAgIGlmIChub2RlUmVhZGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZVJlYWRhYmxlLnBpcGUobm9kZVJlcXVlc3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxzX2pzXzEuZW5kU3RyZWFtKShub2RlUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetchNodeHttp.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.TextEncoderStream = exports.TextDecoderStream = exports.IteratorObject = exports.DecompressionStream = exports.CompressionStream = exports.TransformStream = exports.WritableStream = exports.URLSearchParams = exports.URL = exports.btoa = exports.TextDecoder = exports.TextEncoder = exports.Blob = exports.FormData = exports.File = exports.ReadableStream = exports.Response = exports.Request = exports.Body = exports.Headers = exports.fetch = void 0;\nvar fetch_js_1 = __webpack_require__(/*! ./fetch.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/fetch.js\");\nObject.defineProperty(exports, \"fetch\", ({ enumerable: true, get: function () { return fetch_js_1.fetchPonyfill; } }));\nvar Headers_js_1 = __webpack_require__(/*! ./Headers.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Headers.js\");\nObject.defineProperty(exports, \"Headers\", ({ enumerable: true, get: function () { return Headers_js_1.PonyfillHeaders; } }));\nvar Body_js_1 = __webpack_require__(/*! ./Body.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Body.js\");\nObject.defineProperty(exports, \"Body\", ({ enumerable: true, get: function () { return Body_js_1.PonyfillBody; } }));\nvar Request_js_1 = __webpack_require__(/*! ./Request.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Request.js\");\nObject.defineProperty(exports, \"Request\", ({ enumerable: true, get: function () { return Request_js_1.PonyfillRequest; } }));\nvar Response_js_1 = __webpack_require__(/*! ./Response.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Response.js\");\nObject.defineProperty(exports, \"Response\", ({ enumerable: true, get: function () { return Response_js_1.PonyfillResponse; } }));\nvar ReadableStream_js_1 = __webpack_require__(/*! ./ReadableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/ReadableStream.js\");\nObject.defineProperty(exports, \"ReadableStream\", ({ enumerable: true, get: function () { return ReadableStream_js_1.PonyfillReadableStream; } }));\nvar File_js_1 = __webpack_require__(/*! ./File.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/File.js\");\nObject.defineProperty(exports, \"File\", ({ enumerable: true, get: function () { return File_js_1.PonyfillFile; } }));\nvar FormData_js_1 = __webpack_require__(/*! ./FormData.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/FormData.js\");\nObject.defineProperty(exports, \"FormData\", ({ enumerable: true, get: function () { return FormData_js_1.PonyfillFormData; } }));\nvar Blob_js_1 = __webpack_require__(/*! ./Blob.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/Blob.js\");\nObject.defineProperty(exports, \"Blob\", ({ enumerable: true, get: function () { return Blob_js_1.PonyfillBlob; } }));\nvar TextEncoderDecoder_js_1 = __webpack_require__(/*! ./TextEncoderDecoder.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoder.js\");\nObject.defineProperty(exports, \"TextEncoder\", ({ enumerable: true, get: function () { return TextEncoderDecoder_js_1.PonyfillTextEncoder; } }));\nObject.defineProperty(exports, \"TextDecoder\", ({ enumerable: true, get: function () { return TextEncoderDecoder_js_1.PonyfillTextDecoder; } }));\nObject.defineProperty(exports, \"btoa\", ({ enumerable: true, get: function () { return TextEncoderDecoder_js_1.PonyfillBtoa; } }));\nvar URL_js_1 = __webpack_require__(/*! ./URL.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URL.js\");\nObject.defineProperty(exports, \"URL\", ({ enumerable: true, get: function () { return URL_js_1.PonyfillURL; } }));\nvar URLSearchParams_js_1 = __webpack_require__(/*! ./URLSearchParams.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/URLSearchParams.js\");\nObject.defineProperty(exports, \"URLSearchParams\", ({ enumerable: true, get: function () { return URLSearchParams_js_1.PonyfillURLSearchParams; } }));\nvar WritableStream_js_1 = __webpack_require__(/*! ./WritableStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/WritableStream.js\");\nObject.defineProperty(exports, \"WritableStream\", ({ enumerable: true, get: function () { return WritableStream_js_1.PonyfillWritableStream; } }));\nvar TransformStream_js_1 = __webpack_require__(/*! ./TransformStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TransformStream.js\");\nObject.defineProperty(exports, \"TransformStream\", ({ enumerable: true, get: function () { return TransformStream_js_1.PonyfillTransformStream; } }));\nvar CompressionStream_js_1 = __webpack_require__(/*! ./CompressionStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/CompressionStream.js\");\nObject.defineProperty(exports, \"CompressionStream\", ({ enumerable: true, get: function () { return CompressionStream_js_1.PonyfillCompressionStream; } }));\nvar DecompressionStream_js_1 = __webpack_require__(/*! ./DecompressionStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/DecompressionStream.js\");\nObject.defineProperty(exports, \"DecompressionStream\", ({ enumerable: true, get: function () { return DecompressionStream_js_1.PonyfillDecompressionStream; } }));\nvar IteratorObject_js_1 = __webpack_require__(/*! ./IteratorObject.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/IteratorObject.js\");\nObject.defineProperty(exports, \"IteratorObject\", ({ enumerable: true, get: function () { return IteratorObject_js_1.PonyfillIteratorObject; } }));\nvar TextEncoderDecoderStream_js_1 = __webpack_require__(/*! ./TextEncoderDecoderStream.js */ \"(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/TextEncoderDecoderStream.js\");\nObject.defineProperty(exports, \"TextDecoderStream\", ({ enumerable: true, get: function () { return TextEncoderDecoderStream_js_1.PonyfillTextDecoderStream; } }));\nObject.defineProperty(exports, \"TextEncoderStream\", ({ enumerable: true, get: function () { return TextEncoderDecoderStream_js_1.PonyfillTextEncoderStream; } }));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHlCQUF5QixHQUFHLHlCQUF5QixHQUFHLHNCQUFzQixHQUFHLDJCQUEyQixHQUFHLHlCQUF5QixHQUFHLHVCQUF1QixHQUFHLHNCQUFzQixHQUFHLHVCQUF1QixHQUFHLFdBQVcsR0FBRyxZQUFZLEdBQUcsbUJBQW1CLEdBQUcsbUJBQW1CLEdBQUcsWUFBWSxHQUFHLGdCQUFnQixHQUFHLFlBQVksR0FBRyxzQkFBc0IsR0FBRyxnQkFBZ0IsR0FBRyxlQUFlLEdBQUcsWUFBWSxHQUFHLGVBQWUsR0FBRyxhQUFhO0FBQzliLGlCQUFpQixtQkFBTyxDQUFDLDZFQUFZO0FBQ3JDLHlDQUF3QyxFQUFFLHFDQUFxQyxvQ0FBb0MsRUFBQztBQUNwSCxtQkFBbUIsbUJBQU8sQ0FBQyxpRkFBYztBQUN6QywyQ0FBMEMsRUFBRSxxQ0FBcUMsd0NBQXdDLEVBQUM7QUFDMUgsZ0JBQWdCLG1CQUFPLENBQUMsMkVBQVc7QUFDbkMsd0NBQXVDLEVBQUUscUNBQXFDLGtDQUFrQyxFQUFDO0FBQ2pILG1CQUFtQixtQkFBTyxDQUFDLGlGQUFjO0FBQ3pDLDJDQUEwQyxFQUFFLHFDQUFxQyx3Q0FBd0MsRUFBQztBQUMxSCxvQkFBb0IsbUJBQU8sQ0FBQyxtRkFBZTtBQUMzQyw0Q0FBMkMsRUFBRSxxQ0FBcUMsMENBQTBDLEVBQUM7QUFDN0gsMEJBQTBCLG1CQUFPLENBQUMsK0ZBQXFCO0FBQ3ZELGtEQUFpRCxFQUFFLHFDQUFxQyxzREFBc0QsRUFBQztBQUMvSSxnQkFBZ0IsbUJBQU8sQ0FBQywyRUFBVztBQUNuQyx3Q0FBdUMsRUFBRSxxQ0FBcUMsa0NBQWtDLEVBQUM7QUFDakgsb0JBQW9CLG1CQUFPLENBQUMsbUZBQWU7QUFDM0MsNENBQTJDLEVBQUUscUNBQXFDLDBDQUEwQyxFQUFDO0FBQzdILGdCQUFnQixtQkFBTyxDQUFDLDJFQUFXO0FBQ25DLHdDQUF1QyxFQUFFLHFDQUFxQyxrQ0FBa0MsRUFBQztBQUNqSCw4QkFBOEIsbUJBQU8sQ0FBQyx1R0FBeUI7QUFDL0QsK0NBQThDLEVBQUUscUNBQXFDLHVEQUF1RCxFQUFDO0FBQzdJLCtDQUE4QyxFQUFFLHFDQUFxQyx1REFBdUQsRUFBQztBQUM3SSx3Q0FBdUMsRUFBRSxxQ0FBcUMsZ0RBQWdELEVBQUM7QUFDL0gsZUFBZSxtQkFBTyxDQUFDLHlFQUFVO0FBQ2pDLHVDQUFzQyxFQUFFLHFDQUFxQyxnQ0FBZ0MsRUFBQztBQUM5RywyQkFBMkIsbUJBQU8sQ0FBQyxpR0FBc0I7QUFDekQsbURBQWtELEVBQUUscUNBQXFDLHdEQUF3RCxFQUFDO0FBQ2xKLDBCQUEwQixtQkFBTyxDQUFDLCtGQUFxQjtBQUN2RCxrREFBaUQsRUFBRSxxQ0FBcUMsc0RBQXNELEVBQUM7QUFDL0ksMkJBQTJCLG1CQUFPLENBQUMsaUdBQXNCO0FBQ3pELG1EQUFrRCxFQUFFLHFDQUFxQyx3REFBd0QsRUFBQztBQUNsSiw2QkFBNkIsbUJBQU8sQ0FBQyxxR0FBd0I7QUFDN0QscURBQW9ELEVBQUUscUNBQXFDLDREQUE0RCxFQUFDO0FBQ3hKLCtCQUErQixtQkFBTyxDQUFDLHlHQUEwQjtBQUNqRSx1REFBc0QsRUFBRSxxQ0FBcUMsZ0VBQWdFLEVBQUM7QUFDOUosMEJBQTBCLG1CQUFPLENBQUMsK0ZBQXFCO0FBQ3ZELGtEQUFpRCxFQUFFLHFDQUFxQyxzREFBc0QsRUFBQztBQUMvSSxvQ0FBb0MsbUJBQU8sQ0FBQyxtSEFBK0I7QUFDM0UscURBQW9ELEVBQUUscUNBQXFDLG1FQUFtRSxFQUFDO0FBQy9KLHFEQUFvRCxFQUFFLHFDQUFxQyxtRUFBbUUsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvbm9kZS1mZXRjaC9janMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlRleHRFbmNvZGVyU3RyZWFtID0gZXhwb3J0cy5UZXh0RGVjb2RlclN0cmVhbSA9IGV4cG9ydHMuSXRlcmF0b3JPYmplY3QgPSBleHBvcnRzLkRlY29tcHJlc3Npb25TdHJlYW0gPSBleHBvcnRzLkNvbXByZXNzaW9uU3RyZWFtID0gZXhwb3J0cy5UcmFuc2Zvcm1TdHJlYW0gPSBleHBvcnRzLldyaXRhYmxlU3RyZWFtID0gZXhwb3J0cy5VUkxTZWFyY2hQYXJhbXMgPSBleHBvcnRzLlVSTCA9IGV4cG9ydHMuYnRvYSA9IGV4cG9ydHMuVGV4dERlY29kZXIgPSBleHBvcnRzLlRleHRFbmNvZGVyID0gZXhwb3J0cy5CbG9iID0gZXhwb3J0cy5Gb3JtRGF0YSA9IGV4cG9ydHMuRmlsZSA9IGV4cG9ydHMuUmVhZGFibGVTdHJlYW0gPSBleHBvcnRzLlJlc3BvbnNlID0gZXhwb3J0cy5SZXF1ZXN0ID0gZXhwb3J0cy5Cb2R5ID0gZXhwb3J0cy5IZWFkZXJzID0gZXhwb3J0cy5mZXRjaCA9IHZvaWQgMDtcbnZhciBmZXRjaF9qc18xID0gcmVxdWlyZShcIi4vZmV0Y2guanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmZXRjaFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZmV0Y2hfanNfMS5mZXRjaFBvbnlmaWxsOyB9IH0pO1xudmFyIEhlYWRlcnNfanNfMSA9IHJlcXVpcmUoXCIuL0hlYWRlcnMuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJIZWFkZXJzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBIZWFkZXJzX2pzXzEuUG9ueWZpbGxIZWFkZXJzOyB9IH0pO1xudmFyIEJvZHlfanNfMSA9IHJlcXVpcmUoXCIuL0JvZHkuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJCb2R5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBCb2R5X2pzXzEuUG9ueWZpbGxCb2R5OyB9IH0pO1xudmFyIFJlcXVlc3RfanNfMSA9IHJlcXVpcmUoXCIuL1JlcXVlc3QuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJSZXF1ZXN0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBSZXF1ZXN0X2pzXzEuUG9ueWZpbGxSZXF1ZXN0OyB9IH0pO1xudmFyIFJlc3BvbnNlX2pzXzEgPSByZXF1aXJlKFwiLi9SZXNwb25zZS5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJlc3BvbnNlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBSZXNwb25zZV9qc18xLlBvbnlmaWxsUmVzcG9uc2U7IH0gfSk7XG52YXIgUmVhZGFibGVTdHJlYW1fanNfMSA9IHJlcXVpcmUoXCIuL1JlYWRhYmxlU3RyZWFtLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUmVhZGFibGVTdHJlYW1cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFJlYWRhYmxlU3RyZWFtX2pzXzEuUG9ueWZpbGxSZWFkYWJsZVN0cmVhbTsgfSB9KTtcbnZhciBGaWxlX2pzXzEgPSByZXF1aXJlKFwiLi9GaWxlLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRmlsZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gRmlsZV9qc18xLlBvbnlmaWxsRmlsZTsgfSB9KTtcbnZhciBGb3JtRGF0YV9qc18xID0gcmVxdWlyZShcIi4vRm9ybURhdGEuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJGb3JtRGF0YVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gRm9ybURhdGFfanNfMS5Qb255ZmlsbEZvcm1EYXRhOyB9IH0pO1xudmFyIEJsb2JfanNfMSA9IHJlcXVpcmUoXCIuL0Jsb2IuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJCbG9iXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBCbG9iX2pzXzEuUG9ueWZpbGxCbG9iOyB9IH0pO1xudmFyIFRleHRFbmNvZGVyRGVjb2Rlcl9qc18xID0gcmVxdWlyZShcIi4vVGV4dEVuY29kZXJEZWNvZGVyLmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVGV4dEVuY29kZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFRleHRFbmNvZGVyRGVjb2Rlcl9qc18xLlBvbnlmaWxsVGV4dEVuY29kZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUZXh0RGVjb2RlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gVGV4dEVuY29kZXJEZWNvZGVyX2pzXzEuUG9ueWZpbGxUZXh0RGVjb2RlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImJ0b2FcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFRleHRFbmNvZGVyRGVjb2Rlcl9qc18xLlBvbnlmaWxsQnRvYTsgfSB9KTtcbnZhciBVUkxfanNfMSA9IHJlcXVpcmUoXCIuL1VSTC5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlVSTFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gVVJMX2pzXzEuUG9ueWZpbGxVUkw7IH0gfSk7XG52YXIgVVJMU2VhcmNoUGFyYW1zX2pzXzEgPSByZXF1aXJlKFwiLi9VUkxTZWFyY2hQYXJhbXMuanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJVUkxTZWFyY2hQYXJhbXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFVSTFNlYXJjaFBhcmFtc19qc18xLlBvbnlmaWxsVVJMU2VhcmNoUGFyYW1zOyB9IH0pO1xudmFyIFdyaXRhYmxlU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9Xcml0YWJsZVN0cmVhbS5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIldyaXRhYmxlU3RyZWFtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBXcml0YWJsZVN0cmVhbV9qc18xLlBvbnlmaWxsV3JpdGFibGVTdHJlYW07IH0gfSk7XG52YXIgVHJhbnNmb3JtU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9UcmFuc2Zvcm1TdHJlYW0uanNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJUcmFuc2Zvcm1TdHJlYW1cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFRyYW5zZm9ybVN0cmVhbV9qc18xLlBvbnlmaWxsVHJhbnNmb3JtU3RyZWFtOyB9IH0pO1xudmFyIENvbXByZXNzaW9uU3RyZWFtX2pzXzEgPSByZXF1aXJlKFwiLi9Db21wcmVzc2lvblN0cmVhbS5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNvbXByZXNzaW9uU3RyZWFtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBDb21wcmVzc2lvblN0cmVhbV9qc18xLlBvbnlmaWxsQ29tcHJlc3Npb25TdHJlYW07IH0gfSk7XG52YXIgRGVjb21wcmVzc2lvblN0cmVhbV9qc18xID0gcmVxdWlyZShcIi4vRGVjb21wcmVzc2lvblN0cmVhbS5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkRlY29tcHJlc3Npb25TdHJlYW1cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIERlY29tcHJlc3Npb25TdHJlYW1fanNfMS5Qb255ZmlsbERlY29tcHJlc3Npb25TdHJlYW07IH0gfSk7XG52YXIgSXRlcmF0b3JPYmplY3RfanNfMSA9IHJlcXVpcmUoXCIuL0l0ZXJhdG9yT2JqZWN0LmpzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiSXRlcmF0b3JPYmplY3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIEl0ZXJhdG9yT2JqZWN0X2pzXzEuUG9ueWZpbGxJdGVyYXRvck9iamVjdDsgfSB9KTtcbnZhciBUZXh0RW5jb2RlckRlY29kZXJTdHJlYW1fanNfMSA9IHJlcXVpcmUoXCIuL1RleHRFbmNvZGVyRGVjb2RlclN0cmVhbS5qc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlRleHREZWNvZGVyU3RyZWFtXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBUZXh0RW5jb2RlckRlY29kZXJTdHJlYW1fanNfMS5Qb255ZmlsbFRleHREZWNvZGVyU3RyZWFtOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVGV4dEVuY29kZXJTdHJlYW1cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIFRleHRFbmNvZGVyRGVjb2RlclN0cmVhbV9qc18xLlBvbnlmaWxsVGV4dEVuY29kZXJTdHJlYW07IH0gfSk7XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js":
/*!***********************************************************!*\
  !*** ./node_modules/@whatwg-node/node-fetch/cjs/utils.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.DEFAULT_ACCEPT_ENCODING = exports.fakePromise = void 0;\nexports.getHeadersObj = getHeadersObj;\nexports.defaultHeadersSerializer = defaultHeadersSerializer;\nexports.isArrayBufferView = isArrayBufferView;\nexports.isNodeReadable = isNodeReadable;\nexports.isIterable = isIterable;\nexports.shouldRedirect = shouldRedirect;\nexports.pipeThrough = pipeThrough;\nexports.endStream = endStream;\nexports.safeWrite = safeWrite;\nexports.getSupportedFormats = getSupportedFormats;\nconst tslib_1 = __webpack_require__(/*! tslib */ \"(rsc)/./node_modules/tslib/tslib.es6.mjs\");\nconst node_events_1 = __webpack_require__(/*! node:events */ \"node:events\");\nconst node_zlib_1 = tslib_1.__importDefault(__webpack_require__(/*! node:zlib */ \"node:zlib\"));\nfunction isHeadersInstance(obj) {\n    return obj?.forEach != null;\n}\nfunction getHeadersObj(headers) {\n    if (headers == null || !isHeadersInstance(headers)) {\n        return headers;\n    }\n    // @ts-expect-error - `headersInit` is not a public property\n    if (headers.headersInit && !headers._map && !isHeadersInstance(headers.headersInit)) {\n        // @ts-expect-error - `headersInit` is not a public property\n        return headers.headersInit;\n    }\n    return Object.fromEntries(headers.entries());\n}\nfunction defaultHeadersSerializer(headers, onContentLength) {\n    const headerArray = [];\n    headers.forEach((value, key) => {\n        if (onContentLength && key === 'content-length') {\n            onContentLength(value);\n        }\n        headerArray.push(`${key}: ${value}`);\n    });\n    return headerArray;\n}\nvar promise_helpers_1 = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\");\nObject.defineProperty(exports, \"fakePromise\", ({ enumerable: true, get: function () { return promise_helpers_1.fakePromise; } }));\nfunction isArrayBufferView(obj) {\n    return obj != null && obj.buffer != null && obj.byteLength != null && obj.byteOffset != null;\n}\nfunction isNodeReadable(obj) {\n    return obj != null && obj.pipe != null;\n}\nfunction isIterable(value) {\n    return value?.[Symbol.iterator] != null;\n}\nfunction shouldRedirect(status) {\n    return status === 301 || status === 302 || status === 303 || status === 307 || status === 308;\n}\nfunction pipeThrough({ src, dest, signal, onError, }) {\n    if (onError) {\n        // listen for errors on the destination stream if necessary. if the readable\n        // stream (src) emits an error, the writable destination (dest) will be\n        // destroyed with that error (see below)\n        dest.once('error', onError);\n    }\n    src.once('error', (e) => {\n        // if the readable stream (src) emits an error during pipe, the writable\n        // destination (dest) is not closed automatically. that needs to be\n        // done manually. the readable stream is closed when error is emitted,\n        // so only the writable destination needs to be destroyed\n        dest.destroy(e);\n    });\n    dest.once('close', () => {\n        // if the writable destination (dest) is closed, the readable stream (src)\n        // is not closed automatically. that needs to be done manually\n        if (!src.destroyed) {\n            src.destroy();\n        }\n    });\n    if (signal) {\n        // this is faster than `import('node:signal').addAbortSignal(signal, src)`\n        const srcRef = new WeakRef(src);\n        const signalRef = new WeakRef(signal);\n        function cleanup() {\n            signalRef.deref()?.removeEventListener('abort', onAbort);\n            srcRef.deref()?.removeListener('end', cleanup);\n            srcRef.deref()?.removeListener('error', cleanup);\n            srcRef.deref()?.removeListener('close', cleanup);\n        }\n        function onAbort() {\n            srcRef.deref()?.destroy(new AbortError());\n            cleanup();\n        }\n        signal.addEventListener('abort', onAbort, { once: true });\n        // this is faster than `import('node:signal').finished(src, cleanup)`\n        src.once('end', cleanup);\n        src.once('error', cleanup);\n        src.once('close', cleanup);\n    }\n    src.pipe(dest, { end: true /* already default */ });\n}\nfunction endStream(stream) {\n    // Avoid arguments adaptor trampoline https://v8.dev/blog/adaptor-frame\n    return stream.end(null, null, null);\n}\nfunction safeWrite(chunk, stream) {\n    const result = stream.write(chunk);\n    if (!result) {\n        return (0, node_events_1.once)(stream, 'drain');\n    }\n}\n// https://github.com/nodejs/node/blob/f692878dec6354c0a82241f224906981861bc840/lib/internal/errors.js#L961-L973\nclass AbortError extends Error {\n    constructor(message = 'The operation was aborted', options = undefined) {\n        super(message, options);\n        this.name = 'AbortError';\n    }\n}\nexports.DEFAULT_ACCEPT_ENCODING = getSupportedFormats().join(', ');\nfunction getSupportedFormats() {\n    const baseFormats = ['gzip', 'deflate', 'br'];\n    if (!globalThis.process?.versions?.node?.startsWith('2')) {\n        baseFormats.push('deflate-raw');\n    }\n    if (node_zlib_1.default.createZstdCompress != null) {\n        baseFormats.push('zstd');\n    }\n    return baseFormats;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL3V0aWxzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQixHQUFHLG1CQUFtQjtBQUNyRCxxQkFBcUI7QUFDckIsZ0NBQWdDO0FBQ2hDLHlCQUF5QjtBQUN6QixzQkFBc0I7QUFDdEIsa0JBQWtCO0FBQ2xCLHNCQUFzQjtBQUN0QixtQkFBbUI7QUFDbkIsaUJBQWlCO0FBQ2pCLGlCQUFpQjtBQUNqQiwyQkFBMkI7QUFDM0IsZ0JBQWdCLG1CQUFPLENBQUMsdURBQU87QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsZ0NBQWE7QUFDM0MsNENBQTRDLG1CQUFPLENBQUMsNEJBQVc7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixJQUFJLElBQUksTUFBTTtBQUMxQyxLQUFLO0FBQ0w7QUFDQTtBQUNBLHdCQUF3QixtQkFBTyxDQUFDLG9HQUE4QjtBQUM5RCwrQ0FBOEMsRUFBRSxxQ0FBcUMseUNBQXlDLEVBQUM7QUFDL0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDZCQUE2QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsWUFBWTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlDQUFpQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL25vZGUtZmV0Y2gvY2pzL3V0aWxzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ERUZBVUxUX0FDQ0VQVF9FTkNPRElORyA9IGV4cG9ydHMuZmFrZVByb21pc2UgPSB2b2lkIDA7XG5leHBvcnRzLmdldEhlYWRlcnNPYmogPSBnZXRIZWFkZXJzT2JqO1xuZXhwb3J0cy5kZWZhdWx0SGVhZGVyc1NlcmlhbGl6ZXIgPSBkZWZhdWx0SGVhZGVyc1NlcmlhbGl6ZXI7XG5leHBvcnRzLmlzQXJyYXlCdWZmZXJWaWV3ID0gaXNBcnJheUJ1ZmZlclZpZXc7XG5leHBvcnRzLmlzTm9kZVJlYWRhYmxlID0gaXNOb2RlUmVhZGFibGU7XG5leHBvcnRzLmlzSXRlcmFibGUgPSBpc0l0ZXJhYmxlO1xuZXhwb3J0cy5zaG91bGRSZWRpcmVjdCA9IHNob3VsZFJlZGlyZWN0O1xuZXhwb3J0cy5waXBlVGhyb3VnaCA9IHBpcGVUaHJvdWdoO1xuZXhwb3J0cy5lbmRTdHJlYW0gPSBlbmRTdHJlYW07XG5leHBvcnRzLnNhZmVXcml0ZSA9IHNhZmVXcml0ZTtcbmV4cG9ydHMuZ2V0U3VwcG9ydGVkRm9ybWF0cyA9IGdldFN1cHBvcnRlZEZvcm1hdHM7XG5jb25zdCB0c2xpYl8xID0gcmVxdWlyZShcInRzbGliXCIpO1xuY29uc3Qgbm9kZV9ldmVudHNfMSA9IHJlcXVpcmUoXCJub2RlOmV2ZW50c1wiKTtcbmNvbnN0IG5vZGVfemxpYl8xID0gdHNsaWJfMS5fX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIm5vZGU6emxpYlwiKSk7XG5mdW5jdGlvbiBpc0hlYWRlcnNJbnN0YW5jZShvYmopIHtcbiAgICByZXR1cm4gb2JqPy5mb3JFYWNoICE9IG51bGw7XG59XG5mdW5jdGlvbiBnZXRIZWFkZXJzT2JqKGhlYWRlcnMpIHtcbiAgICBpZiAoaGVhZGVycyA9PSBudWxsIHx8ICFpc0hlYWRlcnNJbnN0YW5jZShoZWFkZXJzKSkge1xuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICB9XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIGBoZWFkZXJzSW5pdGAgaXMgbm90IGEgcHVibGljIHByb3BlcnR5XG4gICAgaWYgKGhlYWRlcnMuaGVhZGVyc0luaXQgJiYgIWhlYWRlcnMuX21hcCAmJiAhaXNIZWFkZXJzSW5zdGFuY2UoaGVhZGVycy5oZWFkZXJzSW5pdCkpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIGBoZWFkZXJzSW5pdGAgaXMgbm90IGEgcHVibGljIHByb3BlcnR5XG4gICAgICAgIHJldHVybiBoZWFkZXJzLmhlYWRlcnNJbml0O1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGhlYWRlcnMuZW50cmllcygpKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRIZWFkZXJzU2VyaWFsaXplcihoZWFkZXJzLCBvbkNvbnRlbnRMZW5ndGgpIHtcbiAgICBjb25zdCBoZWFkZXJBcnJheSA9IFtdO1xuICAgIGhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBpZiAob25Db250ZW50TGVuZ3RoICYmIGtleSA9PT0gJ2NvbnRlbnQtbGVuZ3RoJykge1xuICAgICAgICAgICAgb25Db250ZW50TGVuZ3RoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBoZWFkZXJBcnJheS5wdXNoKGAke2tleX06ICR7dmFsdWV9YCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGhlYWRlckFycmF5O1xufVxudmFyIHByb21pc2VfaGVscGVyc18xID0gcmVxdWlyZShcIkB3aGF0d2ctbm9kZS9wcm9taXNlLWhlbHBlcnNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJmYWtlUHJvbWlzZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcHJvbWlzZV9oZWxwZXJzXzEuZmFrZVByb21pc2U7IH0gfSk7XG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyhvYmopIHtcbiAgICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmJ1ZmZlciAhPSBudWxsICYmIG9iai5ieXRlTGVuZ3RoICE9IG51bGwgJiYgb2JqLmJ5dGVPZmZzZXQgIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzTm9kZVJlYWRhYmxlKG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBvYmoucGlwZSAhPSBudWxsO1xufVxuZnVuY3Rpb24gaXNJdGVyYWJsZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZT8uW1N5bWJvbC5pdGVyYXRvcl0gIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIHNob3VsZFJlZGlyZWN0KHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPT09IDMwMSB8fCBzdGF0dXMgPT09IDMwMiB8fCBzdGF0dXMgPT09IDMwMyB8fCBzdGF0dXMgPT09IDMwNyB8fCBzdGF0dXMgPT09IDMwODtcbn1cbmZ1bmN0aW9uIHBpcGVUaHJvdWdoKHsgc3JjLCBkZXN0LCBzaWduYWwsIG9uRXJyb3IsIH0pIHtcbiAgICBpZiAob25FcnJvcikge1xuICAgICAgICAvLyBsaXN0ZW4gZm9yIGVycm9ycyBvbiB0aGUgZGVzdGluYXRpb24gc3RyZWFtIGlmIG5lY2Vzc2FyeS4gaWYgdGhlIHJlYWRhYmxlXG4gICAgICAgIC8vIHN0cmVhbSAoc3JjKSBlbWl0cyBhbiBlcnJvciwgdGhlIHdyaXRhYmxlIGRlc3RpbmF0aW9uIChkZXN0KSB3aWxsIGJlXG4gICAgICAgIC8vIGRlc3Ryb3llZCB3aXRoIHRoYXQgZXJyb3IgKHNlZSBiZWxvdylcbiAgICAgICAgZGVzdC5vbmNlKCdlcnJvcicsIG9uRXJyb3IpO1xuICAgIH1cbiAgICBzcmMub25jZSgnZXJyb3InLCAoZSkgPT4ge1xuICAgICAgICAvLyBpZiB0aGUgcmVhZGFibGUgc3RyZWFtIChzcmMpIGVtaXRzIGFuIGVycm9yIGR1cmluZyBwaXBlLCB0aGUgd3JpdGFibGVcbiAgICAgICAgLy8gZGVzdGluYXRpb24gKGRlc3QpIGlzIG5vdCBjbG9zZWQgYXV0b21hdGljYWxseS4gdGhhdCBuZWVkcyB0byBiZVxuICAgICAgICAvLyBkb25lIG1hbnVhbGx5LiB0aGUgcmVhZGFibGUgc3RyZWFtIGlzIGNsb3NlZCB3aGVuIGVycm9yIGlzIGVtaXR0ZWQsXG4gICAgICAgIC8vIHNvIG9ubHkgdGhlIHdyaXRhYmxlIGRlc3RpbmF0aW9uIG5lZWRzIHRvIGJlIGRlc3Ryb3llZFxuICAgICAgICBkZXN0LmRlc3Ryb3koZSk7XG4gICAgfSk7XG4gICAgZGVzdC5vbmNlKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgLy8gaWYgdGhlIHdyaXRhYmxlIGRlc3RpbmF0aW9uIChkZXN0KSBpcyBjbG9zZWQsIHRoZSByZWFkYWJsZSBzdHJlYW0gKHNyYylcbiAgICAgICAgLy8gaXMgbm90IGNsb3NlZCBhdXRvbWF0aWNhbGx5LiB0aGF0IG5lZWRzIHRvIGJlIGRvbmUgbWFudWFsbHlcbiAgICAgICAgaWYgKCFzcmMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgICBzcmMuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAvLyB0aGlzIGlzIGZhc3RlciB0aGFuIGBpbXBvcnQoJ25vZGU6c2lnbmFsJykuYWRkQWJvcnRTaWduYWwoc2lnbmFsLCBzcmMpYFxuICAgICAgICBjb25zdCBzcmNSZWYgPSBuZXcgV2Vha1JlZihzcmMpO1xuICAgICAgICBjb25zdCBzaWduYWxSZWYgPSBuZXcgV2Vha1JlZihzaWduYWwpO1xuICAgICAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICAgICAgc2lnbmFsUmVmLmRlcmVmKCk/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25BYm9ydCk7XG4gICAgICAgICAgICBzcmNSZWYuZGVyZWYoKT8ucmVtb3ZlTGlzdGVuZXIoJ2VuZCcsIGNsZWFudXApO1xuICAgICAgICAgICAgc3JjUmVmLmRlcmVmKCk/LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGNsZWFudXApO1xuICAgICAgICAgICAgc3JjUmVmLmRlcmVmKCk/LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsZWFudXApO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG9uQWJvcnQoKSB7XG4gICAgICAgICAgICBzcmNSZWYuZGVyZWYoKT8uZGVzdHJveShuZXcgQWJvcnRFcnJvcigpKTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgfVxuICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbkFib3J0LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIC8vIHRoaXMgaXMgZmFzdGVyIHRoYW4gYGltcG9ydCgnbm9kZTpzaWduYWwnKS5maW5pc2hlZChzcmMsIGNsZWFudXApYFxuICAgICAgICBzcmMub25jZSgnZW5kJywgY2xlYW51cCk7XG4gICAgICAgIHNyYy5vbmNlKCdlcnJvcicsIGNsZWFudXApO1xuICAgICAgICBzcmMub25jZSgnY2xvc2UnLCBjbGVhbnVwKTtcbiAgICB9XG4gICAgc3JjLnBpcGUoZGVzdCwgeyBlbmQ6IHRydWUgLyogYWxyZWFkeSBkZWZhdWx0ICovIH0pO1xufVxuZnVuY3Rpb24gZW5kU3RyZWFtKHN0cmVhbSkge1xuICAgIC8vIEF2b2lkIGFyZ3VtZW50cyBhZGFwdG9yIHRyYW1wb2xpbmUgaHR0cHM6Ly92OC5kZXYvYmxvZy9hZGFwdG9yLWZyYW1lXG4gICAgcmV0dXJuIHN0cmVhbS5lbmQobnVsbCwgbnVsbCwgbnVsbCk7XG59XG5mdW5jdGlvbiBzYWZlV3JpdGUoY2h1bmssIHN0cmVhbSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHN0cmVhbS53cml0ZShjaHVuayk7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuICgwLCBub2RlX2V2ZW50c18xLm9uY2UpKHN0cmVhbSwgJ2RyYWluJyk7XG4gICAgfVxufVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvZjY5Mjg3OGRlYzYzNTRjMGE4MjI0MWYyMjQ5MDY5ODE4NjFiYzg0MC9saWIvaW50ZXJuYWwvZXJyb3JzLmpzI0w5NjEtTDk3M1xuY2xhc3MgQWJvcnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlID0gJ1RoZSBvcGVyYXRpb24gd2FzIGFib3J0ZWQnLCBvcHRpb25zID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQWJvcnRFcnJvcic7XG4gICAgfVxufVxuZXhwb3J0cy5ERUZBVUxUX0FDQ0VQVF9FTkNPRElORyA9IGdldFN1cHBvcnRlZEZvcm1hdHMoKS5qb2luKCcsICcpO1xuZnVuY3Rpb24gZ2V0U3VwcG9ydGVkRm9ybWF0cygpIHtcbiAgICBjb25zdCBiYXNlRm9ybWF0cyA9IFsnZ3ppcCcsICdkZWZsYXRlJywgJ2JyJ107XG4gICAgaWYgKCFnbG9iYWxUaGlzLnByb2Nlc3M/LnZlcnNpb25zPy5ub2RlPy5zdGFydHNXaXRoKCcyJykpIHtcbiAgICAgICAgYmFzZUZvcm1hdHMucHVzaCgnZGVmbGF0ZS1yYXcnKTtcbiAgICB9XG4gICAgaWYgKG5vZGVfemxpYl8xLmRlZmF1bHQuY3JlYXRlWnN0ZENvbXByZXNzICE9IG51bGwpIHtcbiAgICAgICAgYmFzZUZvcm1hdHMucHVzaCgnenN0ZCcpO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZUZvcm1hdHM7XG59XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/node-fetch/cjs/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@whatwg-node/promise-helpers/cjs/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isPromise = isPromise;\nexports.isActualPromise = isActualPromise;\nexports.handleMaybePromise = handleMaybePromise;\nexports.fakePromise = fakePromise;\nexports.createDeferredPromise = createDeferredPromise;\nexports.iterateAsync = iterateAsync;\nexports.iterateAsyncVoid = iterateAsync;\nexports.fakeRejectPromise = fakeRejectPromise;\nexports.mapMaybePromise = mapMaybePromise;\nexports.mapAsyncIterator = mapAsyncIterator;\nexports.promiseLikeFinally = promiseLikeFinally;\nexports.unfakePromise = unfakePromise;\nconst kFakePromise = Symbol.for('@whatwg-node/promise-helpers/FakePromise');\nfunction isPromise(value) {\n    return value?.then != null;\n}\nfunction isActualPromise(value) {\n    const maybePromise = value;\n    return maybePromise && maybePromise.then && maybePromise.catch && maybePromise.finally;\n}\nfunction handleMaybePromise(inputFactory, outputSuccessFactory, outputErrorFactory, finallyFactory) {\n    let result$ = fakePromise().then(inputFactory).then(outputSuccessFactory, outputErrorFactory);\n    if (finallyFactory) {\n        result$ = result$.finally(finallyFactory);\n    }\n    return unfakePromise(result$);\n}\nfunction fakePromise(value) {\n    if (value && isActualPromise(value)) {\n        return value;\n    }\n    if (isPromise(value)) {\n        return {\n            then: (resolve, reject) => fakePromise(value.then(resolve, reject)),\n            catch: reject => fakePromise(value.then(res => res, reject)),\n            finally: cb => fakePromise(cb ? promiseLikeFinally(value, cb) : value),\n            [Symbol.toStringTag]: 'Promise',\n        };\n    }\n    // Write a fake promise to avoid the promise constructor\n    // being called with `new Promise` in the browser.\n    return {\n        then(resolve) {\n            if (resolve) {\n                try {\n                    return fakePromise(resolve(value));\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        catch() {\n            return this;\n        },\n        finally(cb) {\n            if (cb) {\n                try {\n                    return fakePromise(cb()).then(() => value, () => value);\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        [Symbol.toStringTag]: 'Promise',\n        __fakePromiseValue: value,\n        [kFakePromise]: 'resolved',\n    };\n}\nfunction createDeferredPromise() {\n    if (Promise.withResolvers) {\n        return Promise.withResolvers();\n    }\n    let resolveFn;\n    let rejectFn;\n    const promise = new Promise(function deferredPromiseExecutor(resolve, reject) {\n        resolveFn = resolve;\n        rejectFn = reject;\n    });\n    return {\n        promise,\n        get resolve() {\n            return resolveFn;\n        },\n        get reject() {\n            return rejectFn;\n        },\n    };\n}\nfunction iterateAsync(iterable, callback, results) {\n    if (iterable?.length === 0) {\n        return;\n    }\n    const iterator = iterable[Symbol.iterator]();\n    let index = 0;\n    function iterate() {\n        const { done: endOfIterator, value } = iterator.next();\n        if (endOfIterator) {\n            return;\n        }\n        let endedEarly = false;\n        function endEarly() {\n            endedEarly = true;\n        }\n        return handleMaybePromise(function handleCallback() {\n            return callback(value, endEarly, index++);\n        }, function handleCallbackResult(result) {\n            if (result) {\n                results?.push(result);\n            }\n            if (endedEarly) {\n                return;\n            }\n            return iterate();\n        });\n    }\n    return iterate();\n}\nfunction fakeRejectPromise(error) {\n    return {\n        then(_resolve, reject) {\n            if (reject) {\n                try {\n                    return fakePromise(reject(error));\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        catch(reject) {\n            if (reject) {\n                try {\n                    return fakePromise(reject(error));\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        finally(cb) {\n            if (cb) {\n                try {\n                    cb();\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        __fakeRejectError: error,\n        [Symbol.toStringTag]: 'Promise',\n        [kFakePromise]: 'rejected',\n    };\n}\nfunction mapMaybePromise(input, onSuccess, onError) {\n    return handleMaybePromise(() => input, onSuccess, onError);\n}\n/**\n * Given an AsyncIterable and a callback function, return an AsyncIterator\n * which produces values mapped via calling the callback function.\n */\nfunction mapAsyncIterator(iterator, onNext, onError, onEnd) {\n    if (Symbol.asyncIterator in iterator) {\n        iterator = iterator[Symbol.asyncIterator]();\n    }\n    let $return;\n    let abruptClose;\n    let onEndWithValue;\n    if (onEnd) {\n        let onEndWithValueResult /** R in onEndWithValue */;\n        onEndWithValue = value => {\n            onEndWithValueResult ||= handleMaybePromise(onEnd, () => value, () => value);\n            return onEndWithValueResult;\n        };\n    }\n    if (typeof iterator.return === 'function') {\n        $return = iterator.return;\n        abruptClose = (error) => {\n            const rethrow = () => {\n                throw error;\n            };\n            return $return.call(iterator).then(rethrow, rethrow);\n        };\n    }\n    function mapResult(result) {\n        if (result.done) {\n            return onEndWithValue ? onEndWithValue(result) : result;\n        }\n        return handleMaybePromise(() => result.value, value => handleMaybePromise(() => onNext(value), iteratorResult, abruptClose));\n    }\n    let mapReject;\n    if (onError) {\n        let onErrorResult;\n        // Capture rejectCallback to ensure it cannot be null.\n        const reject = onError;\n        mapReject = (error) => {\n            onErrorResult ||= handleMaybePromise(() => error, error => handleMaybePromise(() => reject(error), iteratorResult, abruptClose));\n            return onErrorResult;\n        };\n    }\n    return {\n        next() {\n            return iterator.next().then(mapResult, mapReject);\n        },\n        return() {\n            const res$ = $return\n                ? $return.call(iterator).then(mapResult, mapReject)\n                : fakePromise({ value: undefined, done: true });\n            return onEndWithValue ? res$.then(onEndWithValue) : res$;\n        },\n        throw(error) {\n            if (typeof iterator.throw === 'function') {\n                return iterator.throw(error).then(mapResult, mapReject);\n            }\n            if (abruptClose) {\n                return abruptClose(error);\n            }\n            return fakeRejectPromise(error);\n        },\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n    };\n}\nfunction iteratorResult(value) {\n    return { value, done: false };\n}\nfunction isFakePromise(value) {\n    return value?.[kFakePromise] === 'resolved';\n}\nfunction isFakeRejectPromise(value) {\n    return value?.[kFakePromise] === 'rejected';\n}\nfunction promiseLikeFinally(value, onFinally) {\n    if ('finally' in value) {\n        return value.finally(onFinally);\n    }\n    return value.then(res => {\n        const finallyRes = onFinally();\n        return isPromise(finallyRes) ? finallyRes.then(() => res) : res;\n    }, err => {\n        const finallyRes = onFinally();\n        if (isPromise(finallyRes)) {\n            return finallyRes.then(() => {\n                throw err;\n            });\n        }\n        else {\n            throw err;\n        }\n    });\n}\nfunction unfakePromise(promise) {\n    if (isFakePromise(promise)) {\n        return promise.__fakePromiseValue;\n    }\n    if (isFakeRejectPromise(promise)) {\n        throw promise.__fakeRejectError;\n    }\n    return promise;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycy9janMvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCO0FBQ2pCLHVCQUF1QjtBQUN2QiwwQkFBMEI7QUFDMUIsbUJBQW1CO0FBQ25CLDZCQUE2QjtBQUM3QixvQkFBb0I7QUFDcEIsd0JBQXdCO0FBQ3hCLHlCQUF5QjtBQUN6Qix1QkFBdUI7QUFDdkIsd0JBQXdCO0FBQ3hCLDBCQUEwQjtBQUMxQixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsOEJBQThCO0FBQzlEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzL2Nqcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaXNQcm9taXNlID0gaXNQcm9taXNlO1xuZXhwb3J0cy5pc0FjdHVhbFByb21pc2UgPSBpc0FjdHVhbFByb21pc2U7XG5leHBvcnRzLmhhbmRsZU1heWJlUHJvbWlzZSA9IGhhbmRsZU1heWJlUHJvbWlzZTtcbmV4cG9ydHMuZmFrZVByb21pc2UgPSBmYWtlUHJvbWlzZTtcbmV4cG9ydHMuY3JlYXRlRGVmZXJyZWRQcm9taXNlID0gY3JlYXRlRGVmZXJyZWRQcm9taXNlO1xuZXhwb3J0cy5pdGVyYXRlQXN5bmMgPSBpdGVyYXRlQXN5bmM7XG5leHBvcnRzLml0ZXJhdGVBc3luY1ZvaWQgPSBpdGVyYXRlQXN5bmM7XG5leHBvcnRzLmZha2VSZWplY3RQcm9taXNlID0gZmFrZVJlamVjdFByb21pc2U7XG5leHBvcnRzLm1hcE1heWJlUHJvbWlzZSA9IG1hcE1heWJlUHJvbWlzZTtcbmV4cG9ydHMubWFwQXN5bmNJdGVyYXRvciA9IG1hcEFzeW5jSXRlcmF0b3I7XG5leHBvcnRzLnByb21pc2VMaWtlRmluYWxseSA9IHByb21pc2VMaWtlRmluYWxseTtcbmV4cG9ydHMudW5mYWtlUHJvbWlzZSA9IHVuZmFrZVByb21pc2U7XG5jb25zdCBrRmFrZVByb21pc2UgPSBTeW1ib2wuZm9yKCdAd2hhdHdnLW5vZGUvcHJvbWlzZS1oZWxwZXJzL0Zha2VQcm9taXNlJyk7XG5mdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU/LnRoZW4gIT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzQWN0dWFsUHJvbWlzZSh2YWx1ZSkge1xuICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IHZhbHVlO1xuICAgIHJldHVybiBtYXliZVByb21pc2UgJiYgbWF5YmVQcm9taXNlLnRoZW4gJiYgbWF5YmVQcm9taXNlLmNhdGNoICYmIG1heWJlUHJvbWlzZS5maW5hbGx5O1xufVxuZnVuY3Rpb24gaGFuZGxlTWF5YmVQcm9taXNlKGlucHV0RmFjdG9yeSwgb3V0cHV0U3VjY2Vzc0ZhY3RvcnksIG91dHB1dEVycm9yRmFjdG9yeSwgZmluYWxseUZhY3RvcnkpIHtcbiAgICBsZXQgcmVzdWx0JCA9IGZha2VQcm9taXNlKCkudGhlbihpbnB1dEZhY3RvcnkpLnRoZW4ob3V0cHV0U3VjY2Vzc0ZhY3RvcnksIG91dHB1dEVycm9yRmFjdG9yeSk7XG4gICAgaWYgKGZpbmFsbHlGYWN0b3J5KSB7XG4gICAgICAgIHJlc3VsdCQgPSByZXN1bHQkLmZpbmFsbHkoZmluYWxseUZhY3RvcnkpO1xuICAgIH1cbiAgICByZXR1cm4gdW5mYWtlUHJvbWlzZShyZXN1bHQkKTtcbn1cbmZ1bmN0aW9uIGZha2VQcm9taXNlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlICYmIGlzQWN0dWFsUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNQcm9taXNlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGhlbjogKHJlc29sdmUsIHJlamVjdCkgPT4gZmFrZVByb21pc2UodmFsdWUudGhlbihyZXNvbHZlLCByZWplY3QpKSxcbiAgICAgICAgICAgIGNhdGNoOiByZWplY3QgPT4gZmFrZVByb21pc2UodmFsdWUudGhlbihyZXMgPT4gcmVzLCByZWplY3QpKSxcbiAgICAgICAgICAgIGZpbmFsbHk6IGNiID0+IGZha2VQcm9taXNlKGNiID8gcHJvbWlzZUxpa2VGaW5hbGx5KHZhbHVlLCBjYikgOiB2YWx1ZSksXG4gICAgICAgICAgICBbU3ltYm9sLnRvU3RyaW5nVGFnXTogJ1Byb21pc2UnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBXcml0ZSBhIGZha2UgcHJvbWlzZSB0byBhdm9pZCB0aGUgcHJvbWlzZSBjb25zdHJ1Y3RvclxuICAgIC8vIGJlaW5nIGNhbGxlZCB3aXRoIGBuZXcgUHJvbWlzZWAgaW4gdGhlIGJyb3dzZXIuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbihyZXNvbHZlKSB7XG4gICAgICAgICAgICBpZiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWtlUHJvbWlzZShyZXNvbHZlKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VSZWplY3RQcm9taXNlKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGNhdGNoKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbmFsbHkoY2IpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWtlUHJvbWlzZShjYigpKS50aGVuKCgpID0+IHZhbHVlLCAoKSA9PiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VSZWplY3RQcm9taXNlKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnUHJvbWlzZScsXG4gICAgICAgIF9fZmFrZVByb21pc2VWYWx1ZTogdmFsdWUsXG4gICAgICAgIFtrRmFrZVByb21pc2VdOiAncmVzb2x2ZWQnLFxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVEZWZlcnJlZFByb21pc2UoKSB7XG4gICAgaWYgKFByb21pc2Uud2l0aFJlc29sdmVycykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS53aXRoUmVzb2x2ZXJzKCk7XG4gICAgfVxuICAgIGxldCByZXNvbHZlRm47XG4gICAgbGV0IHJlamVjdEZuO1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBkZWZlcnJlZFByb21pc2VFeGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcmVzb2x2ZUZuID0gcmVzb2x2ZTtcbiAgICAgICAgcmVqZWN0Rm4gPSByZWplY3Q7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgZ2V0IHJlc29sdmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZUZuO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgcmVqZWN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdEZuO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBpdGVyYXRlQXN5bmMoaXRlcmFibGUsIGNhbGxiYWNrLCByZXN1bHRzKSB7XG4gICAgaWYgKGl0ZXJhYmxlPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpdGVyYXRvciA9IGl0ZXJhYmxlW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGZ1bmN0aW9uIGl0ZXJhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZTogZW5kT2ZJdGVyYXRvciwgdmFsdWUgfSA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGVuZE9mSXRlcmF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZW5kZWRFYXJseSA9IGZhbHNlO1xuICAgICAgICBmdW5jdGlvbiBlbmRFYXJseSgpIHtcbiAgICAgICAgICAgIGVuZGVkRWFybHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVNYXliZVByb21pc2UoZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sodmFsdWUsIGVuZEVhcmx5LCBpbmRleCsrKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gaGFuZGxlQ2FsbGJhY2tSZXN1bHQocmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cz8ucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVuZGVkRWFybHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGUoKTtcbn1cbmZ1bmN0aW9uIGZha2VSZWplY3RQcm9taXNlKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbihfcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAocmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VQcm9taXNlKHJlamVjdChlcnJvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWtlUmVqZWN0UHJvbWlzZShlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBjYXRjaChyZWplY3QpIHtcbiAgICAgICAgICAgIGlmIChyZWplY3QpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFrZVByb21pc2UocmVqZWN0KGVycm9yKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VSZWplY3RQcm9taXNlKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbmFsbHkoY2IpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VSZWplY3RQcm9taXNlKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIF9fZmFrZVJlamVjdEVycm9yOiBlcnJvcixcbiAgICAgICAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdQcm9taXNlJyxcbiAgICAgICAgW2tGYWtlUHJvbWlzZV06ICdyZWplY3RlZCcsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIG1hcE1heWJlUHJvbWlzZShpbnB1dCwgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgcmV0dXJuIGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiBpbnB1dCwgb25TdWNjZXNzLCBvbkVycm9yKTtcbn1cbi8qKlxuICogR2l2ZW4gYW4gQXN5bmNJdGVyYWJsZSBhbmQgYSBjYWxsYmFjayBmdW5jdGlvbiwgcmV0dXJuIGFuIEFzeW5jSXRlcmF0b3JcbiAqIHdoaWNoIHByb2R1Y2VzIHZhbHVlcyBtYXBwZWQgdmlhIGNhbGxpbmcgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBtYXBBc3luY0l0ZXJhdG9yKGl0ZXJhdG9yLCBvbk5leHQsIG9uRXJyb3IsIG9uRW5kKSB7XG4gICAgaWYgKFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIGl0ZXJhdG9yKSB7XG4gICAgICAgIGl0ZXJhdG9yID0gaXRlcmF0b3JbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCk7XG4gICAgfVxuICAgIGxldCAkcmV0dXJuO1xuICAgIGxldCBhYnJ1cHRDbG9zZTtcbiAgICBsZXQgb25FbmRXaXRoVmFsdWU7XG4gICAgaWYgKG9uRW5kKSB7XG4gICAgICAgIGxldCBvbkVuZFdpdGhWYWx1ZVJlc3VsdCAvKiogUiBpbiBvbkVuZFdpdGhWYWx1ZSAqLztcbiAgICAgICAgb25FbmRXaXRoVmFsdWUgPSB2YWx1ZSA9PiB7XG4gICAgICAgICAgICBvbkVuZFdpdGhWYWx1ZVJlc3VsdCB8fD0gaGFuZGxlTWF5YmVQcm9taXNlKG9uRW5kLCAoKSA9PiB2YWx1ZSwgKCkgPT4gdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG9uRW5kV2l0aFZhbHVlUmVzdWx0O1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAkcmV0dXJuID0gaXRlcmF0b3IucmV0dXJuO1xuICAgICAgICBhYnJ1cHRDbG9zZSA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmV0aHJvdyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gJHJldHVybi5jYWxsKGl0ZXJhdG9yKS50aGVuKHJldGhyb3csIHJldGhyb3cpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBSZXN1bHQocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9uRW5kV2l0aFZhbHVlID8gb25FbmRXaXRoVmFsdWUocmVzdWx0KSA6IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlTWF5YmVQcm9taXNlKCgpID0+IHJlc3VsdC52YWx1ZSwgdmFsdWUgPT4gaGFuZGxlTWF5YmVQcm9taXNlKCgpID0+IG9uTmV4dCh2YWx1ZSksIGl0ZXJhdG9yUmVzdWx0LCBhYnJ1cHRDbG9zZSkpO1xuICAgIH1cbiAgICBsZXQgbWFwUmVqZWN0O1xuICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgIGxldCBvbkVycm9yUmVzdWx0O1xuICAgICAgICAvLyBDYXB0dXJlIHJlamVjdENhbGxiYWNrIHRvIGVuc3VyZSBpdCBjYW5ub3QgYmUgbnVsbC5cbiAgICAgICAgY29uc3QgcmVqZWN0ID0gb25FcnJvcjtcbiAgICAgICAgbWFwUmVqZWN0ID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBvbkVycm9yUmVzdWx0IHx8PSBoYW5kbGVNYXliZVByb21pc2UoKCkgPT4gZXJyb3IsIGVycm9yID0+IGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiByZWplY3QoZXJyb3IpLCBpdGVyYXRvclJlc3VsdCwgYWJydXB0Q2xvc2UpKTtcbiAgICAgICAgICAgIHJldHVybiBvbkVycm9yUmVzdWx0O1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBuZXh0KCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yLm5leHQoKS50aGVuKG1hcFJlc3VsdCwgbWFwUmVqZWN0KTtcbiAgICAgICAgfSxcbiAgICAgICAgcmV0dXJuKCkge1xuICAgICAgICAgICAgY29uc3QgcmVzJCA9ICRyZXR1cm5cbiAgICAgICAgICAgICAgICA/ICRyZXR1cm4uY2FsbChpdGVyYXRvcikudGhlbihtYXBSZXN1bHQsIG1hcFJlamVjdClcbiAgICAgICAgICAgICAgICA6IGZha2VQcm9taXNlKHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHJldHVybiBvbkVuZFdpdGhWYWx1ZSA/IHJlcyQudGhlbihvbkVuZFdpdGhWYWx1ZSkgOiByZXMkO1xuICAgICAgICB9LFxuICAgICAgICB0aHJvdyhlcnJvcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvci50aHJvdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVyYXRvci50aHJvdyhlcnJvcikudGhlbihtYXBSZXN1bHQsIG1hcFJlamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYWJydXB0Q2xvc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWJydXB0Q2xvc2UoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZha2VSZWplY3RQcm9taXNlKGVycm9yKTtcbiAgICAgICAgfSxcbiAgICAgICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgIH07XG59XG5mdW5jdGlvbiBpdGVyYXRvclJlc3VsdCh2YWx1ZSkge1xuICAgIHJldHVybiB7IHZhbHVlLCBkb25lOiBmYWxzZSB9O1xufVxuZnVuY3Rpb24gaXNGYWtlUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZT8uW2tGYWtlUHJvbWlzZV0gPT09ICdyZXNvbHZlZCc7XG59XG5mdW5jdGlvbiBpc0Zha2VSZWplY3RQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlPy5ba0Zha2VQcm9taXNlXSA9PT0gJ3JlamVjdGVkJztcbn1cbmZ1bmN0aW9uIHByb21pc2VMaWtlRmluYWxseSh2YWx1ZSwgb25GaW5hbGx5KSB7XG4gICAgaWYgKCdmaW5hbGx5JyBpbiB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUuZmluYWxseShvbkZpbmFsbHkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUudGhlbihyZXMgPT4ge1xuICAgICAgICBjb25zdCBmaW5hbGx5UmVzID0gb25GaW5hbGx5KCk7XG4gICAgICAgIHJldHVybiBpc1Byb21pc2UoZmluYWxseVJlcykgPyBmaW5hbGx5UmVzLnRoZW4oKCkgPT4gcmVzKSA6IHJlcztcbiAgICB9LCBlcnIgPT4ge1xuICAgICAgICBjb25zdCBmaW5hbGx5UmVzID0gb25GaW5hbGx5KCk7XG4gICAgICAgIGlmIChpc1Byb21pc2UoZmluYWxseVJlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGx5UmVzLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5mdW5jdGlvbiB1bmZha2VQcm9taXNlKHByb21pc2UpIHtcbiAgICBpZiAoaXNGYWtlUHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICByZXR1cm4gcHJvbWlzZS5fX2Zha2VQcm9taXNlVmFsdWU7XG4gICAgfVxuICAgIGlmIChpc0Zha2VSZWplY3RQcm9taXNlKHByb21pc2UpKSB7XG4gICAgICAgIHRocm93IHByb21pc2UuX19mYWtlUmVqZWN0RXJyb3I7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/promise-helpers/cjs/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/promise-helpers/esm/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@whatwg-node/promise-helpers/esm/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDeferredPromise: () => (/* binding */ createDeferredPromise),\n/* harmony export */   fakePromise: () => (/* binding */ fakePromise),\n/* harmony export */   fakeRejectPromise: () => (/* binding */ fakeRejectPromise),\n/* harmony export */   handleMaybePromise: () => (/* binding */ handleMaybePromise),\n/* harmony export */   isActualPromise: () => (/* binding */ isActualPromise),\n/* harmony export */   isPromise: () => (/* binding */ isPromise),\n/* harmony export */   iterateAsync: () => (/* binding */ iterateAsync),\n/* harmony export */   iterateAsyncVoid: () => (/* binding */ iterateAsync),\n/* harmony export */   mapAsyncIterator: () => (/* binding */ mapAsyncIterator),\n/* harmony export */   mapMaybePromise: () => (/* binding */ mapMaybePromise),\n/* harmony export */   promiseLikeFinally: () => (/* binding */ promiseLikeFinally),\n/* harmony export */   unfakePromise: () => (/* binding */ unfakePromise)\n/* harmony export */ });\nconst kFakePromise = Symbol.for('@whatwg-node/promise-helpers/FakePromise');\nfunction isPromise(value) {\n    return value?.then != null;\n}\nfunction isActualPromise(value) {\n    const maybePromise = value;\n    return maybePromise && maybePromise.then && maybePromise.catch && maybePromise.finally;\n}\nfunction handleMaybePromise(inputFactory, outputSuccessFactory, outputErrorFactory, finallyFactory) {\n    let result$ = fakePromise().then(inputFactory).then(outputSuccessFactory, outputErrorFactory);\n    if (finallyFactory) {\n        result$ = result$.finally(finallyFactory);\n    }\n    return unfakePromise(result$);\n}\nfunction fakePromise(value) {\n    if (value && isActualPromise(value)) {\n        return value;\n    }\n    if (isPromise(value)) {\n        return {\n            then: (resolve, reject) => fakePromise(value.then(resolve, reject)),\n            catch: reject => fakePromise(value.then(res => res, reject)),\n            finally: cb => fakePromise(cb ? promiseLikeFinally(value, cb) : value),\n            [Symbol.toStringTag]: 'Promise',\n        };\n    }\n    // Write a fake promise to avoid the promise constructor\n    // being called with `new Promise` in the browser.\n    return {\n        then(resolve) {\n            if (resolve) {\n                try {\n                    return fakePromise(resolve(value));\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        catch() {\n            return this;\n        },\n        finally(cb) {\n            if (cb) {\n                try {\n                    return fakePromise(cb()).then(() => value, () => value);\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        [Symbol.toStringTag]: 'Promise',\n        __fakePromiseValue: value,\n        [kFakePromise]: 'resolved',\n    };\n}\nfunction createDeferredPromise() {\n    if (Promise.withResolvers) {\n        return Promise.withResolvers();\n    }\n    let resolveFn;\n    let rejectFn;\n    const promise = new Promise(function deferredPromiseExecutor(resolve, reject) {\n        resolveFn = resolve;\n        rejectFn = reject;\n    });\n    return {\n        promise,\n        get resolve() {\n            return resolveFn;\n        },\n        get reject() {\n            return rejectFn;\n        },\n    };\n}\n\nfunction iterateAsync(iterable, callback, results) {\n    if (iterable?.length === 0) {\n        return;\n    }\n    const iterator = iterable[Symbol.iterator]();\n    let index = 0;\n    function iterate() {\n        const { done: endOfIterator, value } = iterator.next();\n        if (endOfIterator) {\n            return;\n        }\n        let endedEarly = false;\n        function endEarly() {\n            endedEarly = true;\n        }\n        return handleMaybePromise(function handleCallback() {\n            return callback(value, endEarly, index++);\n        }, function handleCallbackResult(result) {\n            if (result) {\n                results?.push(result);\n            }\n            if (endedEarly) {\n                return;\n            }\n            return iterate();\n        });\n    }\n    return iterate();\n}\nfunction fakeRejectPromise(error) {\n    return {\n        then(_resolve, reject) {\n            if (reject) {\n                try {\n                    return fakePromise(reject(error));\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        catch(reject) {\n            if (reject) {\n                try {\n                    return fakePromise(reject(error));\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        finally(cb) {\n            if (cb) {\n                try {\n                    cb();\n                }\n                catch (err) {\n                    return fakeRejectPromise(err);\n                }\n            }\n            return this;\n        },\n        __fakeRejectError: error,\n        [Symbol.toStringTag]: 'Promise',\n        [kFakePromise]: 'rejected',\n    };\n}\nfunction mapMaybePromise(input, onSuccess, onError) {\n    return handleMaybePromise(() => input, onSuccess, onError);\n}\n/**\n * Given an AsyncIterable and a callback function, return an AsyncIterator\n * which produces values mapped via calling the callback function.\n */\nfunction mapAsyncIterator(iterator, onNext, onError, onEnd) {\n    if (Symbol.asyncIterator in iterator) {\n        iterator = iterator[Symbol.asyncIterator]();\n    }\n    let $return;\n    let abruptClose;\n    let onEndWithValue;\n    if (onEnd) {\n        let onEndWithValueResult /** R in onEndWithValue */;\n        onEndWithValue = value => {\n            onEndWithValueResult ||= handleMaybePromise(onEnd, () => value, () => value);\n            return onEndWithValueResult;\n        };\n    }\n    if (typeof iterator.return === 'function') {\n        $return = iterator.return;\n        abruptClose = (error) => {\n            const rethrow = () => {\n                throw error;\n            };\n            return $return.call(iterator).then(rethrow, rethrow);\n        };\n    }\n    function mapResult(result) {\n        if (result.done) {\n            return onEndWithValue ? onEndWithValue(result) : result;\n        }\n        return handleMaybePromise(() => result.value, value => handleMaybePromise(() => onNext(value), iteratorResult, abruptClose));\n    }\n    let mapReject;\n    if (onError) {\n        let onErrorResult;\n        // Capture rejectCallback to ensure it cannot be null.\n        const reject = onError;\n        mapReject = (error) => {\n            onErrorResult ||= handleMaybePromise(() => error, error => handleMaybePromise(() => reject(error), iteratorResult, abruptClose));\n            return onErrorResult;\n        };\n    }\n    return {\n        next() {\n            return iterator.next().then(mapResult, mapReject);\n        },\n        return() {\n            const res$ = $return\n                ? $return.call(iterator).then(mapResult, mapReject)\n                : fakePromise({ value: undefined, done: true });\n            return onEndWithValue ? res$.then(onEndWithValue) : res$;\n        },\n        throw(error) {\n            if (typeof iterator.throw === 'function') {\n                return iterator.throw(error).then(mapResult, mapReject);\n            }\n            if (abruptClose) {\n                return abruptClose(error);\n            }\n            return fakeRejectPromise(error);\n        },\n        [Symbol.asyncIterator]() {\n            return this;\n        },\n    };\n}\nfunction iteratorResult(value) {\n    return { value, done: false };\n}\nfunction isFakePromise(value) {\n    return value?.[kFakePromise] === 'resolved';\n}\nfunction isFakeRejectPromise(value) {\n    return value?.[kFakePromise] === 'rejected';\n}\nfunction promiseLikeFinally(value, onFinally) {\n    if ('finally' in value) {\n        return value.finally(onFinally);\n    }\n    return value.then(res => {\n        const finallyRes = onFinally();\n        return isPromise(finallyRes) ? finallyRes.then(() => res) : res;\n    }, err => {\n        const finallyRes = onFinally();\n        if (isPromise(finallyRes)) {\n            return finallyRes.then(() => {\n                throw err;\n            });\n        }\n        else {\n            throw err;\n        }\n    });\n}\nfunction unfakePromise(promise) {\n    if (isFakePromise(promise)) {\n        return promise.__fakePromiseValue;\n    }\n    if (isFakeRejectPromise(promise)) {\n        throw promise.__fakeRejectError;\n    }\n    return promise;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycy9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUM0QztBQUNyQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhCQUE4QjtBQUM5RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycy9lc20vaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qga0Zha2VQcm9taXNlID0gU3ltYm9sLmZvcignQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycy9GYWtlUHJvbWlzZScpO1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZT8udGhlbiAhPSBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzQWN0dWFsUHJvbWlzZSh2YWx1ZSkge1xuICAgIGNvbnN0IG1heWJlUHJvbWlzZSA9IHZhbHVlO1xuICAgIHJldHVybiBtYXliZVByb21pc2UgJiYgbWF5YmVQcm9taXNlLnRoZW4gJiYgbWF5YmVQcm9taXNlLmNhdGNoICYmIG1heWJlUHJvbWlzZS5maW5hbGx5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU1heWJlUHJvbWlzZShpbnB1dEZhY3RvcnksIG91dHB1dFN1Y2Nlc3NGYWN0b3J5LCBvdXRwdXRFcnJvckZhY3RvcnksIGZpbmFsbHlGYWN0b3J5KSB7XG4gICAgbGV0IHJlc3VsdCQgPSBmYWtlUHJvbWlzZSgpLnRoZW4oaW5wdXRGYWN0b3J5KS50aGVuKG91dHB1dFN1Y2Nlc3NGYWN0b3J5LCBvdXRwdXRFcnJvckZhY3RvcnkpO1xuICAgIGlmIChmaW5hbGx5RmFjdG9yeSkge1xuICAgICAgICByZXN1bHQkID0gcmVzdWx0JC5maW5hbGx5KGZpbmFsbHlGYWN0b3J5KTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZmFrZVByb21pc2UocmVzdWx0JCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmFrZVByb21pc2UodmFsdWUpIHtcbiAgICBpZiAodmFsdWUgJiYgaXNBY3R1YWxQcm9taXNlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc1Byb21pc2UodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0aGVuOiAocmVzb2x2ZSwgcmVqZWN0KSA9PiBmYWtlUHJvbWlzZSh2YWx1ZS50aGVuKHJlc29sdmUsIHJlamVjdCkpLFxuICAgICAgICAgICAgY2F0Y2g6IHJlamVjdCA9PiBmYWtlUHJvbWlzZSh2YWx1ZS50aGVuKHJlcyA9PiByZXMsIHJlamVjdCkpLFxuICAgICAgICAgICAgZmluYWxseTogY2IgPT4gZmFrZVByb21pc2UoY2IgPyBwcm9taXNlTGlrZUZpbmFsbHkodmFsdWUsIGNiKSA6IHZhbHVlKSxcbiAgICAgICAgICAgIFtTeW1ib2wudG9TdHJpbmdUYWddOiAnUHJvbWlzZScsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFdyaXRlIGEgZmFrZSBwcm9taXNlIHRvIGF2b2lkIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yXG4gICAgLy8gYmVpbmcgY2FsbGVkIHdpdGggYG5ldyBQcm9taXNlYCBpbiB0aGUgYnJvd3Nlci5cbiAgICByZXR1cm4ge1xuICAgICAgICB0aGVuKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VQcm9taXNlKHJlc29sdmUodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFrZVJlamVjdFByb21pc2UoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgY2F0Y2goKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgZmluYWxseShjYikge1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VQcm9taXNlKGNiKCkpLnRoZW4oKCkgPT4gdmFsdWUsICgpID0+IHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFrZVJlamVjdFByb21pc2UoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdQcm9taXNlJyxcbiAgICAgICAgX19mYWtlUHJvbWlzZVZhbHVlOiB2YWx1ZSxcbiAgICAgICAgW2tGYWtlUHJvbWlzZV06ICdyZXNvbHZlZCcsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZlcnJlZFByb21pc2UoKSB7XG4gICAgaWYgKFByb21pc2Uud2l0aFJlc29sdmVycykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS53aXRoUmVzb2x2ZXJzKCk7XG4gICAgfVxuICAgIGxldCByZXNvbHZlRm47XG4gICAgbGV0IHJlamVjdEZuO1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiBkZWZlcnJlZFByb21pc2VFeGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgcmVzb2x2ZUZuID0gcmVzb2x2ZTtcbiAgICAgICAgcmVqZWN0Rm4gPSByZWplY3Q7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZSxcbiAgICAgICAgZ2V0IHJlc29sdmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZUZuO1xuICAgICAgICB9LFxuICAgICAgICBnZXQgcmVqZWN0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdEZuO1xuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgeyBpdGVyYXRlQXN5bmMgYXMgaXRlcmF0ZUFzeW5jVm9pZCB9O1xuZXhwb3J0IGZ1bmN0aW9uIGl0ZXJhdGVBc3luYyhpdGVyYWJsZSwgY2FsbGJhY2ssIHJlc3VsdHMpIHtcbiAgICBpZiAoaXRlcmFibGU/Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGl0ZXJhdG9yID0gaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgZnVuY3Rpb24gaXRlcmF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyBkb25lOiBlbmRPZkl0ZXJhdG9yLCB2YWx1ZSB9ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoZW5kT2ZJdGVyYXRvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbmRlZEVhcmx5ID0gZmFsc2U7XG4gICAgICAgIGZ1bmN0aW9uIGVuZEVhcmx5KCkge1xuICAgICAgICAgICAgZW5kZWRFYXJseSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZU1heWJlUHJvbWlzZShmdW5jdGlvbiBoYW5kbGVDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh2YWx1ZSwgZW5kRWFybHksIGluZGV4KyspO1xuICAgICAgICB9LCBmdW5jdGlvbiBoYW5kbGVDYWxsYmFja1Jlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzPy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kZWRFYXJseSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0ZSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZha2VSZWplY3RQcm9taXNlKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbihfcmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAocmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VQcm9taXNlKHJlamVjdChlcnJvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWtlUmVqZWN0UHJvbWlzZShlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICBjYXRjaChyZWplY3QpIHtcbiAgICAgICAgICAgIGlmIChyZWplY3QpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFrZVByb21pc2UocmVqZWN0KGVycm9yKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VSZWplY3RQcm9taXNlKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGZpbmFsbHkoY2IpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZha2VSZWplY3RQcm9taXNlKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIF9fZmFrZVJlamVjdEVycm9yOiBlcnJvcixcbiAgICAgICAgW1N5bWJvbC50b1N0cmluZ1RhZ106ICdQcm9taXNlJyxcbiAgICAgICAgW2tGYWtlUHJvbWlzZV06ICdyZWplY3RlZCcsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXBNYXliZVByb21pc2UoaW5wdXQsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIHJldHVybiBoYW5kbGVNYXliZVByb21pc2UoKCkgPT4gaW5wdXQsIG9uU3VjY2Vzcywgb25FcnJvcik7XG59XG4vKipcbiAqIEdpdmVuIGFuIEFzeW5jSXRlcmFibGUgYW5kIGEgY2FsbGJhY2sgZnVuY3Rpb24sIHJldHVybiBhbiBBc3luY0l0ZXJhdG9yXG4gKiB3aGljaCBwcm9kdWNlcyB2YWx1ZXMgbWFwcGVkIHZpYSBjYWxsaW5nIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hcEFzeW5jSXRlcmF0b3IoaXRlcmF0b3IsIG9uTmV4dCwgb25FcnJvciwgb25FbmQpIHtcbiAgICBpZiAoU3ltYm9sLmFzeW5jSXRlcmF0b3IgaW4gaXRlcmF0b3IpIHtcbiAgICAgICAgaXRlcmF0b3IgPSBpdGVyYXRvcltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICB9XG4gICAgbGV0ICRyZXR1cm47XG4gICAgbGV0IGFicnVwdENsb3NlO1xuICAgIGxldCBvbkVuZFdpdGhWYWx1ZTtcbiAgICBpZiAob25FbmQpIHtcbiAgICAgICAgbGV0IG9uRW5kV2l0aFZhbHVlUmVzdWx0IC8qKiBSIGluIG9uRW5kV2l0aFZhbHVlICovO1xuICAgICAgICBvbkVuZFdpdGhWYWx1ZSA9IHZhbHVlID0+IHtcbiAgICAgICAgICAgIG9uRW5kV2l0aFZhbHVlUmVzdWx0IHx8PSBoYW5kbGVNYXliZVByb21pc2Uob25FbmQsICgpID0+IHZhbHVlLCAoKSA9PiB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gb25FbmRXaXRoVmFsdWVSZXN1bHQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgaXRlcmF0b3IucmV0dXJuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICRyZXR1cm4gPSBpdGVyYXRvci5yZXR1cm47XG4gICAgICAgIGFicnVwdENsb3NlID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXRocm93ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiAkcmV0dXJuLmNhbGwoaXRlcmF0b3IpLnRoZW4ocmV0aHJvdywgcmV0aHJvdyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcFJlc3VsdChyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gb25FbmRXaXRoVmFsdWUgPyBvbkVuZFdpdGhWYWx1ZShyZXN1bHQpIDogcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVNYXliZVByb21pc2UoKCkgPT4gcmVzdWx0LnZhbHVlLCB2YWx1ZSA9PiBoYW5kbGVNYXliZVByb21pc2UoKCkgPT4gb25OZXh0KHZhbHVlKSwgaXRlcmF0b3JSZXN1bHQsIGFicnVwdENsb3NlKSk7XG4gICAgfVxuICAgIGxldCBtYXBSZWplY3Q7XG4gICAgaWYgKG9uRXJyb3IpIHtcbiAgICAgICAgbGV0IG9uRXJyb3JSZXN1bHQ7XG4gICAgICAgIC8vIENhcHR1cmUgcmVqZWN0Q2FsbGJhY2sgdG8gZW5zdXJlIGl0IGNhbm5vdCBiZSBudWxsLlxuICAgICAgICBjb25zdCByZWplY3QgPSBvbkVycm9yO1xuICAgICAgICBtYXBSZWplY3QgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIG9uRXJyb3JSZXN1bHQgfHw9IGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiBlcnJvciwgZXJyb3IgPT4gaGFuZGxlTWF5YmVQcm9taXNlKCgpID0+IHJlamVjdChlcnJvciksIGl0ZXJhdG9yUmVzdWx0LCBhYnJ1cHRDbG9zZSkpO1xuICAgICAgICAgICAgcmV0dXJuIG9uRXJyb3JSZXN1bHQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3IubmV4dCgpLnRoZW4obWFwUmVzdWx0LCBtYXBSZWplY3QpO1xuICAgICAgICB9LFxuICAgICAgICByZXR1cm4oKSB7XG4gICAgICAgICAgICBjb25zdCByZXMkID0gJHJldHVyblxuICAgICAgICAgICAgICAgID8gJHJldHVybi5jYWxsKGl0ZXJhdG9yKS50aGVuKG1hcFJlc3VsdCwgbWFwUmVqZWN0KVxuICAgICAgICAgICAgICAgIDogZmFrZVByb21pc2UoeyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9uRW5kV2l0aFZhbHVlID8gcmVzJC50aGVuKG9uRW5kV2l0aFZhbHVlKSA6IHJlcyQ7XG4gICAgICAgIH0sXG4gICAgICAgIHRocm93KGVycm9yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yLnRocm93ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yLnRocm93KGVycm9yKS50aGVuKG1hcFJlc3VsdCwgbWFwUmVqZWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhYnJ1cHRDbG9zZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhYnJ1cHRDbG9zZShlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFrZVJlamVjdFByb21pc2UoZXJyb3IpO1xuICAgICAgICB9LFxuICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGl0ZXJhdG9yUmVzdWx0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHsgdmFsdWUsIGRvbmU6IGZhbHNlIH07XG59XG5mdW5jdGlvbiBpc0Zha2VQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlPy5ba0Zha2VQcm9taXNlXSA9PT0gJ3Jlc29sdmVkJztcbn1cbmZ1bmN0aW9uIGlzRmFrZVJlamVjdFByb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU/LltrRmFrZVByb21pc2VdID09PSAncmVqZWN0ZWQnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHByb21pc2VMaWtlRmluYWxseSh2YWx1ZSwgb25GaW5hbGx5KSB7XG4gICAgaWYgKCdmaW5hbGx5JyBpbiB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUuZmluYWxseShvbkZpbmFsbHkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUudGhlbihyZXMgPT4ge1xuICAgICAgICBjb25zdCBmaW5hbGx5UmVzID0gb25GaW5hbGx5KCk7XG4gICAgICAgIHJldHVybiBpc1Byb21pc2UoZmluYWxseVJlcykgPyBmaW5hbGx5UmVzLnRoZW4oKCkgPT4gcmVzKSA6IHJlcztcbiAgICB9LCBlcnIgPT4ge1xuICAgICAgICBjb25zdCBmaW5hbGx5UmVzID0gb25GaW5hbGx5KCk7XG4gICAgICAgIGlmIChpc1Byb21pc2UoZmluYWxseVJlcykpIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbGx5UmVzLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdW5mYWtlUHJvbWlzZShwcm9taXNlKSB7XG4gICAgaWYgKGlzRmFrZVByb21pc2UocHJvbWlzZSkpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UuX19mYWtlUHJvbWlzZVZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNGYWtlUmVqZWN0UHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICB0aHJvdyBwcm9taXNlLl9fZmFrZVJlamVjdEVycm9yO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/promise-helpers/esm/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/esm/createServerAdapter.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@whatwg-node/server/esm/createServerAdapter.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("var _whatwg_node_fetch__WEBPACK_IMPORTED_MODULE_0___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createServerAdapter: () => (/* binding */ createServerAdapter)\n/* harmony export */ });\n/* harmony import */ var _envelop_instrumentation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @envelop/instrumentation */ \"(rsc)/./node_modules/@envelop/instrumentation/esm/instrumentation.js\");\n/* harmony import */ var _whatwg_node_disposablestack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @whatwg-node/disposablestack */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/index.js\");\n/* harmony import */ var _whatwg_node_disposablestack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @whatwg-node/disposablestack */ \"(rsc)/./node_modules/@whatwg-node/disposablestack/esm/symbols.js\");\n/* harmony import */ var _whatwg_node_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @whatwg-node/fetch */ \"(rsc)/./node_modules/@whatwg-node/fetch/dist/node-ponyfill.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./uwebsockets.js */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/esm/index.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(rsc)/./node_modules/@whatwg-node/server/esm/utils.js\");\n/* harmony import */ var _uwebsockets_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./uwebsockets.js */ \"(rsc)/./node_modules/@whatwg-node/server/esm/uwebsockets.js\");\n\n\n\n\n\n\n// Required for envs like nextjs edge runtime\nfunction isRequestAccessible(serverContext) {\n    try {\n        return !!serverContext?.request;\n    }\n    catch {\n        return false;\n    }\n}\nconst EMPTY_OBJECT = {};\nfunction createServerAdapter(serverAdapterBaseObject, options) {\n    const useSingleWriteHead = options?.__useSingleWriteHead == null ? true : options.__useSingleWriteHead;\n    const fetchAPI = {\n        .../*#__PURE__*/ (_whatwg_node_fetch__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (_whatwg_node_fetch__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(_whatwg_node_fetch__WEBPACK_IMPORTED_MODULE_0__, 2))),\n        ...options?.fetchAPI,\n    };\n    const useCustomAbortCtrl = options?.__useCustomAbortCtrl == null\n        ? fetchAPI.Request !== globalThis.Request\n        : options.__useCustomAbortCtrl;\n    const givenHandleRequest = typeof serverAdapterBaseObject === 'function'\n        ? serverAdapterBaseObject\n        : serverAdapterBaseObject.handle;\n    const onRequestHooks = [];\n    const onResponseHooks = [];\n    let instrumentation;\n    const waitUntilPromises = new Set();\n    let _disposableStack;\n    function ensureDisposableStack() {\n        if (!_disposableStack) {\n            _disposableStack = new _whatwg_node_disposablestack__WEBPACK_IMPORTED_MODULE_1__.AsyncDisposableStack();\n            if (options?.disposeOnProcessTerminate) {\n                (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.ensureDisposableStackRegisteredForTerminateEvents)(_disposableStack);\n            }\n            _disposableStack.defer(() => {\n                if (waitUntilPromises.size > 0) {\n                    return Promise.allSettled(waitUntilPromises).then(() => {\n                        waitUntilPromises.clear();\n                    }, () => {\n                        waitUntilPromises.clear();\n                    });\n                }\n            });\n        }\n        return _disposableStack;\n    }\n    function waitUntil(maybePromise) {\n        // Ensure that the disposable stack is created\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.isPromise)(maybePromise)) {\n            ensureDisposableStack();\n            waitUntilPromises.add(maybePromise);\n            maybePromise.then(() => {\n                waitUntilPromises.delete(maybePromise);\n            }, err => {\n                console.error(`Unexpected error while waiting: ${err.message || err}`);\n                waitUntilPromises.delete(maybePromise);\n            });\n        }\n    }\n    if (options?.plugins != null) {\n        for (const plugin of options.plugins) {\n            if (plugin.instrumentation) {\n                instrumentation = instrumentation\n                    ? (0,_envelop_instrumentation__WEBPACK_IMPORTED_MODULE_4__.chain)(instrumentation, plugin.instrumentation)\n                    : plugin.instrumentation;\n            }\n            if (plugin.onRequest) {\n                onRequestHooks.push(plugin.onRequest);\n            }\n            if (plugin.onResponse) {\n                onResponseHooks.push(plugin.onResponse);\n            }\n            const disposeFn = plugin[_whatwg_node_disposablestack__WEBPACK_IMPORTED_MODULE_5__.DisposableSymbols.dispose];\n            if (disposeFn) {\n                ensureDisposableStack().defer(disposeFn);\n            }\n            const asyncDisposeFn = plugin[_whatwg_node_disposablestack__WEBPACK_IMPORTED_MODULE_5__.DisposableSymbols.asyncDispose];\n            if (asyncDisposeFn) {\n                ensureDisposableStack().defer(asyncDisposeFn);\n            }\n            if (plugin.onDispose) {\n                ensureDisposableStack().defer(plugin.onDispose);\n            }\n        }\n    }\n    let handleRequest = onRequestHooks.length > 0 || onResponseHooks.length > 0\n        ? function handleRequest(request, serverContext) {\n            let requestHandler = givenHandleRequest;\n            let response;\n            if (onRequestHooks.length === 0) {\n                return handleEarlyResponse();\n            }\n            let url = request['parsedUrl'] ||\n                new Proxy(EMPTY_OBJECT, {\n                    get(_target, prop, _receiver) {\n                        url = new fetchAPI.URL(request.url, 'http://localhost');\n                        return Reflect.get(url, prop, url);\n                    },\n                });\n            function handleResponse(response) {\n                if (onResponseHooks.length === 0) {\n                    return response;\n                }\n                return (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.handleMaybePromise)(() => (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.iterateAsyncVoid)(onResponseHooks, onResponseHook => onResponseHook({\n                    request,\n                    response,\n                    serverContext,\n                    setResponse(newResponse) {\n                        response = newResponse;\n                    },\n                    fetchAPI,\n                })), () => response);\n            }\n            function handleEarlyResponse() {\n                if (!response) {\n                    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.handleMaybePromise)(() => requestHandler(request, serverContext), handleResponse);\n                }\n                return handleResponse(response);\n            }\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.handleMaybePromise)(() => (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.iterateAsyncVoid)(onRequestHooks, (onRequestHook, stopEarly) => onRequestHook({\n                request,\n                setRequest(newRequest) {\n                    request = newRequest;\n                },\n                serverContext,\n                fetchAPI,\n                url,\n                requestHandler,\n                setRequestHandler(newRequestHandler) {\n                    requestHandler = newRequestHandler;\n                },\n                endResponse(newResponse) {\n                    response = newResponse;\n                    if (newResponse) {\n                        stopEarly();\n                    }\n                },\n            })), handleEarlyResponse);\n        }\n        : givenHandleRequest;\n    if (instrumentation?.request) {\n        const originalRequestHandler = handleRequest;\n        handleRequest = (request, initialContext) => {\n            return (0,_envelop_instrumentation__WEBPACK_IMPORTED_MODULE_4__.getInstrumented)({ request }).asyncFn(instrumentation.request, originalRequestHandler)(request, initialContext);\n        };\n    }\n    // TODO: Remove this on the next major version\n    function handleNodeRequest(nodeRequest, ...ctx) {\n        const serverContext = ctx.length > 1 ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.completeAssign)(...ctx) : ctx[0] || {};\n        // Ensure `waitUntil` is available in the server context\n        if (!serverContext.waitUntil) {\n            serverContext.waitUntil = waitUntil;\n        }\n        const request = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.normalizeNodeRequest)(nodeRequest, fetchAPI, undefined, useCustomAbortCtrl);\n        return handleRequest(request, serverContext);\n    }\n    function handleNodeRequestAndResponse(nodeRequest, nodeResponseOrContainer, ...ctx) {\n        const nodeResponse = nodeResponseOrContainer.raw || nodeResponseOrContainer;\n        const serverContext = ctx.length > 1 ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.completeAssign)(...ctx) : ctx[0] || {};\n        // Ensure `waitUntil` is available in the server context\n        if (!serverContext.waitUntil) {\n            serverContext.waitUntil = waitUntil;\n        }\n        const request = (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.normalizeNodeRequest)(nodeRequest, fetchAPI, nodeResponse, useCustomAbortCtrl);\n        return handleRequest(request, serverContext);\n    }\n    function requestListener(nodeRequest, nodeResponse, ...ctx) {\n        const defaultServerContext = {\n            req: nodeRequest,\n            res: nodeResponse,\n            waitUntil,\n        };\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.unfakePromise)((0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.fakePromise)()\n            .then(() => handleNodeRequestAndResponse(nodeRequest, nodeResponse, defaultServerContext, ...ctx))\n            .catch(err => (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.handleErrorFromRequestHandler)(err, fetchAPI.Response))\n            .then(response => (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.sendNodeResponse)(response, nodeResponse, nodeRequest, useSingleWriteHead))\n            .catch(err => console.error(`Unexpected error while handling request: ${err.message || err}`)));\n    }\n    function handleUWS(res, req, ...ctx) {\n        const defaultServerContext = {\n            res,\n            req,\n            waitUntil,\n        };\n        const filteredCtxParts = ctx.filter(partCtx => partCtx != null);\n        const serverContext = filteredCtxParts.length > 0\n            ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.completeAssign)(defaultServerContext, ...ctx)\n            : defaultServerContext;\n        const controller = useCustomAbortCtrl\n            ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.createCustomAbortControllerSignal)()\n            : new AbortController();\n        const originalResEnd = res.end.bind(res);\n        let resEnded = false;\n        res.end = function (data) {\n            resEnded = true;\n            return originalResEnd(data);\n        };\n        const originalOnAborted = res.onAborted.bind(res);\n        originalOnAborted(function () {\n            controller.abort();\n        });\n        res.onAborted = function (cb) {\n            controller.signal.addEventListener('abort', cb, { once: true });\n        };\n        const request = (0,_uwebsockets_js__WEBPACK_IMPORTED_MODULE_6__.getRequestFromUWSRequest)({\n            req,\n            res,\n            fetchAPI,\n            controller,\n        });\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.handleMaybePromise)(() => (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.handleMaybePromise)(() => handleRequest(request, serverContext), response => response, err => (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.handleErrorFromRequestHandler)(err, fetchAPI.Response)), response => {\n            if (!controller.signal.aborted && !resEnded) {\n                return (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.handleMaybePromise)(() => (0,_uwebsockets_js__WEBPACK_IMPORTED_MODULE_6__.sendResponseToUwsOpts)(res, response, controller, fetchAPI), r => r, err => {\n                    console.error(`Unexpected error while handling request: ${err.message || err}`);\n                });\n            }\n        });\n    }\n    function handleEvent(event, ...ctx) {\n        if (!event.respondWith || !event.request) {\n            throw new TypeError(`Expected FetchEvent, got ${event}`);\n        }\n        const filteredCtxParts = ctx.filter(partCtx => partCtx != null);\n        const serverContext = filteredCtxParts.length > 0\n            ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.completeAssign)({}, event, ...filteredCtxParts)\n            : (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isolateObject)(event);\n        const response$ = handleRequest(event.request, serverContext);\n        event.respondWith(response$);\n    }\n    function handleRequestWithWaitUntil(request, ...ctx) {\n        const filteredCtxParts = ctx.filter(partCtx => partCtx != null);\n        const serverContext = filteredCtxParts.length > 1\n            ? (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.completeAssign)({}, ...filteredCtxParts)\n            : (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isolateObject)(filteredCtxParts[0], filteredCtxParts[0] == null || filteredCtxParts[0].waitUntil == null\n                ? waitUntil\n                : undefined);\n        return handleRequest(request, serverContext);\n    }\n    const fetchFn = (input, ...maybeCtx) => {\n        if (typeof input === 'string' || 'href' in input) {\n            const [initOrCtx, ...restOfCtx] = maybeCtx;\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isRequestInit)(initOrCtx)) {\n                const request = new fetchAPI.Request(input, initOrCtx);\n                const res$ = handleRequestWithWaitUntil(request, ...restOfCtx);\n                const signal = initOrCtx.signal;\n                if (signal) {\n                    return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.handleAbortSignalAndPromiseResponse)(res$, signal);\n                }\n                return res$;\n            }\n            const request = new fetchAPI.Request(input);\n            return handleRequestWithWaitUntil(request, ...maybeCtx);\n        }\n        const res$ = handleRequestWithWaitUntil(input, ...maybeCtx);\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.handleAbortSignalAndPromiseResponse)(res$, input.signal);\n    };\n    const genericRequestHandler = (input, ...maybeCtx) => {\n        // If it is a Node request\n        const [initOrCtxOrRes, ...restOfCtx] = maybeCtx;\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isNodeRequest)(input)) {\n            if (!(0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isServerResponse)(initOrCtxOrRes)) {\n                throw new TypeError(`Expected ServerResponse, got ${initOrCtxOrRes}`);\n            }\n            return requestListener(input, initOrCtxOrRes, ...restOfCtx);\n        }\n        if ((0,_uwebsockets_js__WEBPACK_IMPORTED_MODULE_6__.isUWSResponse)(input)) {\n            return handleUWS(input, initOrCtxOrRes, ...restOfCtx);\n        }\n        if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isServerResponse)(initOrCtxOrRes)) {\n            throw new TypeError('Got Node response without Node request');\n        }\n        // Is input a container object over Request?\n        if (isRequestAccessible(input)) {\n            // Is it FetchEvent?\n            if ((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.isFetchEvent)(input)) {\n                return handleEvent(input, ...maybeCtx);\n            }\n            // In this input is also the context\n            return handleRequestWithWaitUntil(input.request, input, ...maybeCtx);\n        }\n        // Or is it Request itself?\n        // Then ctx is present and it is the context\n        return fetchFn(input, ...maybeCtx);\n    };\n    const adapterObj = {\n        handleRequest: handleRequestWithWaitUntil,\n        fetch: fetchFn,\n        handleNodeRequest,\n        handleNodeRequestAndResponse,\n        requestListener,\n        handleEvent,\n        handleUWS,\n        handle: genericRequestHandler,\n        get disposableStack() {\n            return ensureDisposableStack();\n        },\n        [_whatwg_node_disposablestack__WEBPACK_IMPORTED_MODULE_5__.DisposableSymbols.asyncDispose]() {\n            if (_disposableStack && !_disposableStack.disposed) {\n                return _disposableStack.disposeAsync();\n            }\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.fakePromise)();\n        },\n        dispose() {\n            if (_disposableStack && !_disposableStack.disposed) {\n                return _disposableStack.disposeAsync();\n            }\n            return (0,_utils_js__WEBPACK_IMPORTED_MODULE_3__.fakePromise)();\n        },\n        waitUntil,\n    };\n    const serverAdapter = new Proxy(genericRequestHandler, {\n        // It should have all the attributes of the handler function and the server instance\n        has: (_, prop) => {\n            return (prop in adapterObj ||\n                prop in genericRequestHandler ||\n                (serverAdapterBaseObject && prop in serverAdapterBaseObject));\n        },\n        get: (_, prop) => {\n            // Somehow Deno and Node 24 don't like bound dispose functions\n            if (globalThis.Deno || prop === Symbol.asyncDispose || prop === Symbol.dispose) {\n                const adapterProp = Reflect.get(adapterObj, prop, adapterObj);\n                if (adapterProp) {\n                    return adapterProp;\n                }\n            }\n            const adapterProp = adapterObj[prop];\n            if (adapterProp) {\n                if (adapterProp.bind) {\n                    return adapterProp.bind(adapterObj);\n                }\n                return adapterProp;\n            }\n            const handleProp = genericRequestHandler[prop];\n            if (handleProp) {\n                if (handleProp.bind) {\n                    return handleProp.bind(genericRequestHandler);\n                }\n                return handleProp;\n            }\n            if (serverAdapterBaseObject) {\n                const serverAdapterBaseObjectProp = serverAdapterBaseObject[prop];\n                if (serverAdapterBaseObjectProp) {\n                    if (serverAdapterBaseObjectProp.bind) {\n                        return function (...args) {\n                            const returnedVal = serverAdapterBaseObject[prop](...args);\n                            if (returnedVal === serverAdapterBaseObject) {\n                                return serverAdapter;\n                            }\n                            return returnedVal;\n                        };\n                    }\n                    return serverAdapterBaseObjectProp;\n                }\n            }\n        },\n        apply(_, __, args) {\n            return genericRequestHandler(...args);\n        },\n    });\n    return serverAdapter;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9lc20vY3JlYXRlU2VydmVyQWRhcHRlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBa0U7QUFDcUI7QUFDakM7QUFDMkI7QUFDd1E7QUFDek87QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdPQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw4RUFBb0I7QUFDdkQ7QUFDQSxnQkFBZ0IsNEZBQWlEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksb0RBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsaUVBQWlFLG1CQUFtQjtBQUNwRjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsK0RBQUs7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQywyRUFBaUI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDJFQUFpQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2REFBa0IsT0FBTywyREFBZ0I7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsNkRBQWtCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBa0IsT0FBTywyREFBZ0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlFQUFlLEdBQUcsU0FBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyx5REFBYztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwrREFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MseURBQWM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsK0RBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdEQUFhLENBQUMsc0RBQVc7QUFDeEM7QUFDQSwwQkFBMEIsd0VBQTZCO0FBQ3ZELDhCQUE4QiwyREFBZ0I7QUFDOUMsb0ZBQW9GLG1CQUFtQjtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlEQUFjO0FBQzVCO0FBQ0E7QUFDQSxjQUFjLDRFQUFpQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDhEQUE4RCxZQUFZO0FBQzFFO0FBQ0Esd0JBQXdCLHlFQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxlQUFlLDZEQUFrQixPQUFPLDZEQUFrQiwyRUFBMkUsd0VBQTZCO0FBQ2xLO0FBQ0EsdUJBQXVCLDZEQUFrQixPQUFPLHNFQUFxQjtBQUNyRSw4RUFBOEUsbUJBQW1CO0FBQ2pHLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsTUFBTTtBQUNsRTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlEQUFjLEdBQUc7QUFDL0IsY0FBYyx3REFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlEQUFjLEdBQUc7QUFDL0IsY0FBYyx3REFBYTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix3REFBYTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4RUFBbUM7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhFQUFtQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQWE7QUFDekIsaUJBQWlCLDJEQUFnQjtBQUNqQyxvRUFBb0UsZUFBZTtBQUNuRjtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhEQUFhO0FBQ3pCO0FBQ0E7QUFDQSxZQUFZLDJEQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVEQUFZO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsU0FBUywyRUFBaUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHNEQUFXO0FBQzlCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzREFBVztBQUM5QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQytCIiwic291cmNlcyI6WyIvVXNlcnMvdGF5bG9yd29mZm9yZC9EZXNrdG9wL2N5YmVyZGFsbGFzXzIwNjkvbm9kZV9tb2R1bGVzL0B3aGF0d2ctbm9kZS9zZXJ2ZXIvZXNtL2NyZWF0ZVNlcnZlckFkYXB0ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY2hhaW4sIGdldEluc3RydW1lbnRlZCB9IGZyb20gJ0BlbnZlbG9wL2luc3RydW1lbnRhdGlvbic7XG5pbXBvcnQgeyBBc3luY0Rpc3Bvc2FibGVTdGFjaywgRGlzcG9zYWJsZVN5bWJvbHMgfSBmcm9tICdAd2hhdHdnLW5vZGUvZGlzcG9zYWJsZXN0YWNrJztcbmltcG9ydCAqIGFzIERlZmF1bHRGZXRjaEFQSSBmcm9tICdAd2hhdHdnLW5vZGUvZmV0Y2gnO1xuaW1wb3J0IHsgaGFuZGxlTWF5YmVQcm9taXNlLCB1bmZha2VQcm9taXNlIH0gZnJvbSAnQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycyc7XG5pbXBvcnQgeyBjb21wbGV0ZUFzc2lnbiwgY3JlYXRlQ3VzdG9tQWJvcnRDb250cm9sbGVyU2lnbmFsLCBlbnN1cmVEaXNwb3NhYmxlU3RhY2tSZWdpc3RlcmVkRm9yVGVybWluYXRlRXZlbnRzLCBoYW5kbGVBYm9ydFNpZ25hbEFuZFByb21pc2VSZXNwb25zZSwgaGFuZGxlRXJyb3JGcm9tUmVxdWVzdEhhbmRsZXIsIGlzRmV0Y2hFdmVudCwgaXNOb2RlUmVxdWVzdCwgaXNvbGF0ZU9iamVjdCwgaXNQcm9taXNlLCBpc1JlcXVlc3RJbml0LCBpc1NlcnZlclJlc3BvbnNlLCBpdGVyYXRlQXN5bmNWb2lkLCBub3JtYWxpemVOb2RlUmVxdWVzdCwgc2VuZE5vZGVSZXNwb25zZSwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGZha2VQcm9taXNlLCBnZXRSZXF1ZXN0RnJvbVVXU1JlcXVlc3QsIGlzVVdTUmVzcG9uc2UsIHNlbmRSZXNwb25zZVRvVXdzT3B0cywgfSBmcm9tICcuL3V3ZWJzb2NrZXRzLmpzJztcbi8vIFJlcXVpcmVkIGZvciBlbnZzIGxpa2UgbmV4dGpzIGVkZ2UgcnVudGltZVxuZnVuY3Rpb24gaXNSZXF1ZXN0QWNjZXNzaWJsZShzZXJ2ZXJDb250ZXh0KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuICEhc2VydmVyQ29udGV4dD8ucmVxdWVzdDtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuY29uc3QgRU1QVFlfT0JKRUNUID0ge307XG5mdW5jdGlvbiBjcmVhdGVTZXJ2ZXJBZGFwdGVyKHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgdXNlU2luZ2xlV3JpdGVIZWFkID0gb3B0aW9ucz8uX191c2VTaW5nbGVXcml0ZUhlYWQgPT0gbnVsbCA/IHRydWUgOiBvcHRpb25zLl9fdXNlU2luZ2xlV3JpdGVIZWFkO1xuICAgIGNvbnN0IGZldGNoQVBJID0ge1xuICAgICAgICAuLi5EZWZhdWx0RmV0Y2hBUEksXG4gICAgICAgIC4uLm9wdGlvbnM/LmZldGNoQVBJLFxuICAgIH07XG4gICAgY29uc3QgdXNlQ3VzdG9tQWJvcnRDdHJsID0gb3B0aW9ucz8uX191c2VDdXN0b21BYm9ydEN0cmwgPT0gbnVsbFxuICAgICAgICA/IGZldGNoQVBJLlJlcXVlc3QgIT09IGdsb2JhbFRoaXMuUmVxdWVzdFxuICAgICAgICA6IG9wdGlvbnMuX191c2VDdXN0b21BYm9ydEN0cmw7XG4gICAgY29uc3QgZ2l2ZW5IYW5kbGVSZXF1ZXN0ID0gdHlwZW9mIHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0ID09PSAnZnVuY3Rpb24nXG4gICAgICAgID8gc2VydmVyQWRhcHRlckJhc2VPYmplY3RcbiAgICAgICAgOiBzZXJ2ZXJBZGFwdGVyQmFzZU9iamVjdC5oYW5kbGU7XG4gICAgY29uc3Qgb25SZXF1ZXN0SG9va3MgPSBbXTtcbiAgICBjb25zdCBvblJlc3BvbnNlSG9va3MgPSBbXTtcbiAgICBsZXQgaW5zdHJ1bWVudGF0aW9uO1xuICAgIGNvbnN0IHdhaXRVbnRpbFByb21pc2VzID0gbmV3IFNldCgpO1xuICAgIGxldCBfZGlzcG9zYWJsZVN0YWNrO1xuICAgIGZ1bmN0aW9uIGVuc3VyZURpc3Bvc2FibGVTdGFjaygpIHtcbiAgICAgICAgaWYgKCFfZGlzcG9zYWJsZVN0YWNrKSB7XG4gICAgICAgICAgICBfZGlzcG9zYWJsZVN0YWNrID0gbmV3IEFzeW5jRGlzcG9zYWJsZVN0YWNrKCk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucz8uZGlzcG9zZU9uUHJvY2Vzc1Rlcm1pbmF0ZSkge1xuICAgICAgICAgICAgICAgIGVuc3VyZURpc3Bvc2FibGVTdGFja1JlZ2lzdGVyZWRGb3JUZXJtaW5hdGVFdmVudHMoX2Rpc3Bvc2FibGVTdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfZGlzcG9zYWJsZVN0YWNrLmRlZmVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAod2FpdFVudGlsUHJvbWlzZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsU2V0dGxlZCh3YWl0VW50aWxQcm9taXNlcykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0VW50aWxQcm9taXNlcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3YWl0VW50aWxQcm9taXNlcy5jbGVhcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2Rpc3Bvc2FibGVTdGFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FpdFVudGlsKG1heWJlUHJvbWlzZSkge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgZGlzcG9zYWJsZSBzdGFjayBpcyBjcmVhdGVkXG4gICAgICAgIGlmIChpc1Byb21pc2UobWF5YmVQcm9taXNlKSkge1xuICAgICAgICAgICAgZW5zdXJlRGlzcG9zYWJsZVN0YWNrKCk7XG4gICAgICAgICAgICB3YWl0VW50aWxQcm9taXNlcy5hZGQobWF5YmVQcm9taXNlKTtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB3YWl0VW50aWxQcm9taXNlcy5kZWxldGUobWF5YmVQcm9taXNlKTtcbiAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5leHBlY3RlZCBlcnJvciB3aGlsZSB3YWl0aW5nOiAke2Vyci5tZXNzYWdlIHx8IGVycn1gKTtcbiAgICAgICAgICAgICAgICB3YWl0VW50aWxQcm9taXNlcy5kZWxldGUobWF5YmVQcm9taXNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChvcHRpb25zPy5wbHVnaW5zICE9IG51bGwpIHtcbiAgICAgICAgZm9yIChjb25zdCBwbHVnaW4gb2Ygb3B0aW9ucy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBpZiAocGx1Z2luLmluc3RydW1lbnRhdGlvbikge1xuICAgICAgICAgICAgICAgIGluc3RydW1lbnRhdGlvbiA9IGluc3RydW1lbnRhdGlvblxuICAgICAgICAgICAgICAgICAgICA/IGNoYWluKGluc3RydW1lbnRhdGlvbiwgcGx1Z2luLmluc3RydW1lbnRhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgOiBwbHVnaW4uaW5zdHJ1bWVudGF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBsdWdpbi5vblJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICBvblJlcXVlc3RIb29rcy5wdXNoKHBsdWdpbi5vblJlcXVlc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBsdWdpbi5vblJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgb25SZXNwb25zZUhvb2tzLnB1c2gocGx1Z2luLm9uUmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGlzcG9zZUZuID0gcGx1Z2luW0Rpc3Bvc2FibGVTeW1ib2xzLmRpc3Bvc2VdO1xuICAgICAgICAgICAgaWYgKGRpc3Bvc2VGbikge1xuICAgICAgICAgICAgICAgIGVuc3VyZURpc3Bvc2FibGVTdGFjaygpLmRlZmVyKGRpc3Bvc2VGbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhc3luY0Rpc3Bvc2VGbiA9IHBsdWdpbltEaXNwb3NhYmxlU3ltYm9scy5hc3luY0Rpc3Bvc2VdO1xuICAgICAgICAgICAgaWYgKGFzeW5jRGlzcG9zZUZuKSB7XG4gICAgICAgICAgICAgICAgZW5zdXJlRGlzcG9zYWJsZVN0YWNrKCkuZGVmZXIoYXN5bmNEaXNwb3NlRm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBsdWdpbi5vbkRpc3Bvc2UpIHtcbiAgICAgICAgICAgICAgICBlbnN1cmVEaXNwb3NhYmxlU3RhY2soKS5kZWZlcihwbHVnaW4ub25EaXNwb3NlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgaGFuZGxlUmVxdWVzdCA9IG9uUmVxdWVzdEhvb2tzLmxlbmd0aCA+IDAgfHwgb25SZXNwb25zZUhvb2tzLmxlbmd0aCA+IDBcbiAgICAgICAgPyBmdW5jdGlvbiBoYW5kbGVSZXF1ZXN0KHJlcXVlc3QsIHNlcnZlckNvbnRleHQpIHtcbiAgICAgICAgICAgIGxldCByZXF1ZXN0SGFuZGxlciA9IGdpdmVuSGFuZGxlUmVxdWVzdDtcbiAgICAgICAgICAgIGxldCByZXNwb25zZTtcbiAgICAgICAgICAgIGlmIChvblJlcXVlc3RIb29rcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlRWFybHlSZXNwb25zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHVybCA9IHJlcXVlc3RbJ3BhcnNlZFVybCddIHx8XG4gICAgICAgICAgICAgICAgbmV3IFByb3h5KEVNUFRZX09CSkVDVCwge1xuICAgICAgICAgICAgICAgICAgICBnZXQoX3RhcmdldCwgcHJvcCwgX3JlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBuZXcgZmV0Y2hBUEkuVVJMKHJlcXVlc3QudXJsLCAnaHR0cDovL2xvY2FsaG9zdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KHVybCwgcHJvcCwgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uUmVzcG9uc2VIb29rcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlTWF5YmVQcm9taXNlKCgpID0+IGl0ZXJhdGVBc3luY1ZvaWQob25SZXNwb25zZUhvb2tzLCBvblJlc3BvbnNlSG9vayA9PiBvblJlc3BvbnNlSG9vayh7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZShuZXdSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBuZXdSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hBUEksXG4gICAgICAgICAgICAgICAgfSkpLCAoKSA9PiByZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVFYXJseVJlc3BvbnNlKCkge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiByZXF1ZXN0SGFuZGxlcihyZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KSwgaGFuZGxlUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiBpdGVyYXRlQXN5bmNWb2lkKG9uUmVxdWVzdEhvb2tzLCAob25SZXF1ZXN0SG9vaywgc3RvcEVhcmx5KSA9PiBvblJlcXVlc3RIb29rKHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICAgIHNldFJlcXVlc3QobmV3UmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0ID0gbmV3UmVxdWVzdDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNlcnZlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgZmV0Y2hBUEksXG4gICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIHJlcXVlc3RIYW5kbGVyLFxuICAgICAgICAgICAgICAgIHNldFJlcXVlc3RIYW5kbGVyKG5ld1JlcXVlc3RIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RIYW5kbGVyID0gbmV3UmVxdWVzdEhhbmRsZXI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbmRSZXNwb25zZShuZXdSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IG5ld1Jlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3UmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BFYXJseSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pKSwgaGFuZGxlRWFybHlSZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgOiBnaXZlbkhhbmRsZVJlcXVlc3Q7XG4gICAgaWYgKGluc3RydW1lbnRhdGlvbj8ucmVxdWVzdCkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3RIYW5kbGVyID0gaGFuZGxlUmVxdWVzdDtcbiAgICAgICAgaGFuZGxlUmVxdWVzdCA9IChyZXF1ZXN0LCBpbml0aWFsQ29udGV4dCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGdldEluc3RydW1lbnRlZCh7IHJlcXVlc3QgfSkuYXN5bmNGbihpbnN0cnVtZW50YXRpb24ucmVxdWVzdCwgb3JpZ2luYWxSZXF1ZXN0SGFuZGxlcikocmVxdWVzdCwgaW5pdGlhbENvbnRleHQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBUT0RPOiBSZW1vdmUgdGhpcyBvbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uXG4gICAgZnVuY3Rpb24gaGFuZGxlTm9kZVJlcXVlc3Qobm9kZVJlcXVlc3QsIC4uLmN0eCkge1xuICAgICAgICBjb25zdCBzZXJ2ZXJDb250ZXh0ID0gY3R4Lmxlbmd0aCA+IDEgPyBjb21wbGV0ZUFzc2lnbiguLi5jdHgpIDogY3R4WzBdIHx8IHt9O1xuICAgICAgICAvLyBFbnN1cmUgYHdhaXRVbnRpbGAgaXMgYXZhaWxhYmxlIGluIHRoZSBzZXJ2ZXIgY29udGV4dFxuICAgICAgICBpZiAoIXNlcnZlckNvbnRleHQud2FpdFVudGlsKSB7XG4gICAgICAgICAgICBzZXJ2ZXJDb250ZXh0LndhaXRVbnRpbCA9IHdhaXRVbnRpbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbm9ybWFsaXplTm9kZVJlcXVlc3Qobm9kZVJlcXVlc3QsIGZldGNoQVBJLCB1bmRlZmluZWQsIHVzZUN1c3RvbUFib3J0Q3RybCk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0KHJlcXVlc3QsIHNlcnZlckNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVOb2RlUmVxdWVzdEFuZFJlc3BvbnNlKG5vZGVSZXF1ZXN0LCBub2RlUmVzcG9uc2VPckNvbnRhaW5lciwgLi4uY3R4KSB7XG4gICAgICAgIGNvbnN0IG5vZGVSZXNwb25zZSA9IG5vZGVSZXNwb25zZU9yQ29udGFpbmVyLnJhdyB8fCBub2RlUmVzcG9uc2VPckNvbnRhaW5lcjtcbiAgICAgICAgY29uc3Qgc2VydmVyQ29udGV4dCA9IGN0eC5sZW5ndGggPiAxID8gY29tcGxldGVBc3NpZ24oLi4uY3R4KSA6IGN0eFswXSB8fCB7fTtcbiAgICAgICAgLy8gRW5zdXJlIGB3YWl0VW50aWxgIGlzIGF2YWlsYWJsZSBpbiB0aGUgc2VydmVyIGNvbnRleHRcbiAgICAgICAgaWYgKCFzZXJ2ZXJDb250ZXh0LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgc2VydmVyQ29udGV4dC53YWl0VW50aWwgPSB3YWl0VW50aWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5vcm1hbGl6ZU5vZGVSZXF1ZXN0KG5vZGVSZXF1ZXN0LCBmZXRjaEFQSSwgbm9kZVJlc3BvbnNlLCB1c2VDdXN0b21BYm9ydEN0cmwpO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChyZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdExpc3RlbmVyKG5vZGVSZXF1ZXN0LCBub2RlUmVzcG9uc2UsIC4uLmN0eCkge1xuICAgICAgICBjb25zdCBkZWZhdWx0U2VydmVyQ29udGV4dCA9IHtcbiAgICAgICAgICAgIHJlcTogbm9kZVJlcXVlc3QsXG4gICAgICAgICAgICByZXM6IG5vZGVSZXNwb25zZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbCxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHVuZmFrZVByb21pc2UoZmFrZVByb21pc2UoKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gaGFuZGxlTm9kZVJlcXVlc3RBbmRSZXNwb25zZShub2RlUmVxdWVzdCwgbm9kZVJlc3BvbnNlLCBkZWZhdWx0U2VydmVyQ29udGV4dCwgLi4uY3R4KSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gaGFuZGxlRXJyb3JGcm9tUmVxdWVzdEhhbmRsZXIoZXJyLCBmZXRjaEFQSS5SZXNwb25zZSkpXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiBzZW5kTm9kZVJlc3BvbnNlKHJlc3BvbnNlLCBub2RlUmVzcG9uc2UsIG5vZGVSZXF1ZXN0LCB1c2VTaW5nbGVXcml0ZUhlYWQpKVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKGBVbmV4cGVjdGVkIGVycm9yIHdoaWxlIGhhbmRsaW5nIHJlcXVlc3Q6ICR7ZXJyLm1lc3NhZ2UgfHwgZXJyfWApKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVVXUyhyZXMsIHJlcSwgLi4uY3R4KSB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRTZXJ2ZXJDb250ZXh0ID0ge1xuICAgICAgICAgICAgcmVzLFxuICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgd2FpdFVudGlsLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmaWx0ZXJlZEN0eFBhcnRzID0gY3R4LmZpbHRlcihwYXJ0Q3R4ID0+IHBhcnRDdHggIT0gbnVsbCk7XG4gICAgICAgIGNvbnN0IHNlcnZlckNvbnRleHQgPSBmaWx0ZXJlZEN0eFBhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gY29tcGxldGVBc3NpZ24oZGVmYXVsdFNlcnZlckNvbnRleHQsIC4uLmN0eClcbiAgICAgICAgICAgIDogZGVmYXVsdFNlcnZlckNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSB1c2VDdXN0b21BYm9ydEN0cmxcbiAgICAgICAgICAgID8gY3JlYXRlQ3VzdG9tQWJvcnRDb250cm9sbGVyU2lnbmFsKClcbiAgICAgICAgICAgIDogbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICBjb25zdCBvcmlnaW5hbFJlc0VuZCA9IHJlcy5lbmQuYmluZChyZXMpO1xuICAgICAgICBsZXQgcmVzRW5kZWQgPSBmYWxzZTtcbiAgICAgICAgcmVzLmVuZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXNFbmRlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxSZXNFbmQoZGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsT25BYm9ydGVkID0gcmVzLm9uQWJvcnRlZC5iaW5kKHJlcyk7XG4gICAgICAgIG9yaWdpbmFsT25BYm9ydGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy5vbkFib3J0ZWQgPSBmdW5jdGlvbiAoY2IpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgY2IsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IGdldFJlcXVlc3RGcm9tVVdTUmVxdWVzdCh7XG4gICAgICAgICAgICByZXEsXG4gICAgICAgICAgICByZXMsXG4gICAgICAgICAgICBmZXRjaEFQSSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXIsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaGFuZGxlTWF5YmVQcm9taXNlKCgpID0+IGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiBoYW5kbGVSZXF1ZXN0KHJlcXVlc3QsIHNlcnZlckNvbnRleHQpLCByZXNwb25zZSA9PiByZXNwb25zZSwgZXJyID0+IGhhbmRsZUVycm9yRnJvbVJlcXVlc3RIYW5kbGVyKGVyciwgZmV0Y2hBUEkuUmVzcG9uc2UpKSwgcmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkICYmICFyZXNFbmRlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVNYXliZVByb21pc2UoKCkgPT4gc2VuZFJlc3BvbnNlVG9Vd3NPcHRzKHJlcywgcmVzcG9uc2UsIGNvbnRyb2xsZXIsIGZldGNoQVBJKSwgciA9PiByLCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBVbmV4cGVjdGVkIGVycm9yIHdoaWxlIGhhbmRsaW5nIHJlcXVlc3Q6ICR7ZXJyLm1lc3NhZ2UgfHwgZXJyfWApO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnQsIC4uLmN0eCkge1xuICAgICAgICBpZiAoIWV2ZW50LnJlc3BvbmRXaXRoIHx8ICFldmVudC5yZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBGZXRjaEV2ZW50LCBnb3QgJHtldmVudH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmaWx0ZXJlZEN0eFBhcnRzID0gY3R4LmZpbHRlcihwYXJ0Q3R4ID0+IHBhcnRDdHggIT0gbnVsbCk7XG4gICAgICAgIGNvbnN0IHNlcnZlckNvbnRleHQgPSBmaWx0ZXJlZEN0eFBhcnRzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgID8gY29tcGxldGVBc3NpZ24oe30sIGV2ZW50LCAuLi5maWx0ZXJlZEN0eFBhcnRzKVxuICAgICAgICAgICAgOiBpc29sYXRlT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UkID0gaGFuZGxlUmVxdWVzdChldmVudC5yZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgZXZlbnQucmVzcG9uZFdpdGgocmVzcG9uc2UkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdFdpdGhXYWl0VW50aWwocmVxdWVzdCwgLi4uY3R4KSB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkQ3R4UGFydHMgPSBjdHguZmlsdGVyKHBhcnRDdHggPT4gcGFydEN0eCAhPSBudWxsKTtcbiAgICAgICAgY29uc3Qgc2VydmVyQ29udGV4dCA9IGZpbHRlcmVkQ3R4UGFydHMubGVuZ3RoID4gMVxuICAgICAgICAgICAgPyBjb21wbGV0ZUFzc2lnbih7fSwgLi4uZmlsdGVyZWRDdHhQYXJ0cylcbiAgICAgICAgICAgIDogaXNvbGF0ZU9iamVjdChmaWx0ZXJlZEN0eFBhcnRzWzBdLCBmaWx0ZXJlZEN0eFBhcnRzWzBdID09IG51bGwgfHwgZmlsdGVyZWRDdHhQYXJ0c1swXS53YWl0VW50aWwgPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gd2FpdFVudGlsXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpO1xuICAgICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdChyZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KTtcbiAgICB9XG4gICAgY29uc3QgZmV0Y2hGbiA9IChpbnB1dCwgLi4ubWF5YmVDdHgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycgfHwgJ2hyZWYnIGluIGlucHV0KSB7XG4gICAgICAgICAgICBjb25zdCBbaW5pdE9yQ3R4LCAuLi5yZXN0T2ZDdHhdID0gbWF5YmVDdHg7XG4gICAgICAgICAgICBpZiAoaXNSZXF1ZXN0SW5pdChpbml0T3JDdHgpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBmZXRjaEFQSS5SZXF1ZXN0KGlucHV0LCBpbml0T3JDdHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyQgPSBoYW5kbGVSZXF1ZXN0V2l0aFdhaXRVbnRpbChyZXF1ZXN0LCAuLi5yZXN0T2ZDdHgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25hbCA9IGluaXRPckN0eC5zaWduYWw7XG4gICAgICAgICAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlQWJvcnRTaWduYWxBbmRQcm9taXNlUmVzcG9uc2UocmVzJCwgc2lnbmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcyQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IGZldGNoQVBJLlJlcXVlc3QoaW5wdXQpO1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJlcXVlc3RXaXRoV2FpdFVudGlsKHJlcXVlc3QsIC4uLm1heWJlQ3R4KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXMkID0gaGFuZGxlUmVxdWVzdFdpdGhXYWl0VW50aWwoaW5wdXQsIC4uLm1heWJlQ3R4KTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZUFib3J0U2lnbmFsQW5kUHJvbWlzZVJlc3BvbnNlKHJlcyQsIGlucHV0LnNpZ25hbCk7XG4gICAgfTtcbiAgICBjb25zdCBnZW5lcmljUmVxdWVzdEhhbmRsZXIgPSAoaW5wdXQsIC4uLm1heWJlQ3R4KSA9PiB7XG4gICAgICAgIC8vIElmIGl0IGlzIGEgTm9kZSByZXF1ZXN0XG4gICAgICAgIGNvbnN0IFtpbml0T3JDdHhPclJlcywgLi4ucmVzdE9mQ3R4XSA9IG1heWJlQ3R4O1xuICAgICAgICBpZiAoaXNOb2RlUmVxdWVzdChpbnB1dCkpIHtcbiAgICAgICAgICAgIGlmICghaXNTZXJ2ZXJSZXNwb25zZShpbml0T3JDdHhPclJlcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBFeHBlY3RlZCBTZXJ2ZXJSZXNwb25zZSwgZ290ICR7aW5pdE9yQ3R4T3JSZXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdExpc3RlbmVyKGlucHV0LCBpbml0T3JDdHhPclJlcywgLi4ucmVzdE9mQ3R4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVV1NSZXNwb25zZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVVV1MoaW5wdXQsIGluaXRPckN0eE9yUmVzLCAuLi5yZXN0T2ZDdHgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1NlcnZlclJlc3BvbnNlKGluaXRPckN0eE9yUmVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignR290IE5vZGUgcmVzcG9uc2Ugd2l0aG91dCBOb2RlIHJlcXVlc3QnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJcyBpbnB1dCBhIGNvbnRhaW5lciBvYmplY3Qgb3ZlciBSZXF1ZXN0P1xuICAgICAgICBpZiAoaXNSZXF1ZXN0QWNjZXNzaWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIC8vIElzIGl0IEZldGNoRXZlbnQ/XG4gICAgICAgICAgICBpZiAoaXNGZXRjaEV2ZW50KGlucHV0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVFdmVudChpbnB1dCwgLi4ubWF5YmVDdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSW4gdGhpcyBpbnB1dCBpcyBhbHNvIHRoZSBjb250ZXh0XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdFdpdGhXYWl0VW50aWwoaW5wdXQucmVxdWVzdCwgaW5wdXQsIC4uLm1heWJlQ3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPciBpcyBpdCBSZXF1ZXN0IGl0c2VsZj9cbiAgICAgICAgLy8gVGhlbiBjdHggaXMgcHJlc2VudCBhbmQgaXQgaXMgdGhlIGNvbnRleHRcbiAgICAgICAgcmV0dXJuIGZldGNoRm4oaW5wdXQsIC4uLm1heWJlQ3R4KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkYXB0ZXJPYmogPSB7XG4gICAgICAgIGhhbmRsZVJlcXVlc3Q6IGhhbmRsZVJlcXVlc3RXaXRoV2FpdFVudGlsLFxuICAgICAgICBmZXRjaDogZmV0Y2hGbixcbiAgICAgICAgaGFuZGxlTm9kZVJlcXVlc3QsXG4gICAgICAgIGhhbmRsZU5vZGVSZXF1ZXN0QW5kUmVzcG9uc2UsXG4gICAgICAgIHJlcXVlc3RMaXN0ZW5lcixcbiAgICAgICAgaGFuZGxlRXZlbnQsXG4gICAgICAgIGhhbmRsZVVXUyxcbiAgICAgICAgaGFuZGxlOiBnZW5lcmljUmVxdWVzdEhhbmRsZXIsXG4gICAgICAgIGdldCBkaXNwb3NhYmxlU3RhY2soKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5zdXJlRGlzcG9zYWJsZVN0YWNrKCk7XG4gICAgICAgIH0sXG4gICAgICAgIFtEaXNwb3NhYmxlU3ltYm9scy5hc3luY0Rpc3Bvc2VdKCkge1xuICAgICAgICAgICAgaWYgKF9kaXNwb3NhYmxlU3RhY2sgJiYgIV9kaXNwb3NhYmxlU3RhY2suZGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2Rpc3Bvc2FibGVTdGFjay5kaXNwb3NlQXN5bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWtlUHJvbWlzZSgpO1xuICAgICAgICB9LFxuICAgICAgICBkaXNwb3NlKCkge1xuICAgICAgICAgICAgaWYgKF9kaXNwb3NhYmxlU3RhY2sgJiYgIV9kaXNwb3NhYmxlU3RhY2suZGlzcG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2Rpc3Bvc2FibGVTdGFjay5kaXNwb3NlQXN5bmMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWtlUHJvbWlzZSgpO1xuICAgICAgICB9LFxuICAgICAgICB3YWl0VW50aWwsXG4gICAgfTtcbiAgICBjb25zdCBzZXJ2ZXJBZGFwdGVyID0gbmV3IFByb3h5KGdlbmVyaWNSZXF1ZXN0SGFuZGxlciwge1xuICAgICAgICAvLyBJdCBzaG91bGQgaGF2ZSBhbGwgdGhlIGF0dHJpYnV0ZXMgb2YgdGhlIGhhbmRsZXIgZnVuY3Rpb24gYW5kIHRoZSBzZXJ2ZXIgaW5zdGFuY2VcbiAgICAgICAgaGFzOiAoXywgcHJvcCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIChwcm9wIGluIGFkYXB0ZXJPYmogfHxcbiAgICAgICAgICAgICAgICBwcm9wIGluIGdlbmVyaWNSZXF1ZXN0SGFuZGxlciB8fFxuICAgICAgICAgICAgICAgIChzZXJ2ZXJBZGFwdGVyQmFzZU9iamVjdCAmJiBwcm9wIGluIHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0KSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldDogKF8sIHByb3ApID0+IHtcbiAgICAgICAgICAgIC8vIFNvbWVob3cgRGVubyBhbmQgTm9kZSAyNCBkb24ndCBsaWtlIGJvdW5kIGRpc3Bvc2UgZnVuY3Rpb25zXG4gICAgICAgICAgICBpZiAoZ2xvYmFsVGhpcy5EZW5vIHx8IHByb3AgPT09IFN5bWJvbC5hc3luY0Rpc3Bvc2UgfHwgcHJvcCA9PT0gU3ltYm9sLmRpc3Bvc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGFwdGVyUHJvcCA9IFJlZmxlY3QuZ2V0KGFkYXB0ZXJPYmosIHByb3AsIGFkYXB0ZXJPYmopO1xuICAgICAgICAgICAgICAgIGlmIChhZGFwdGVyUHJvcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRhcHRlclByb3A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYWRhcHRlclByb3AgPSBhZGFwdGVyT2JqW3Byb3BdO1xuICAgICAgICAgICAgaWYgKGFkYXB0ZXJQcm9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFkYXB0ZXJQcm9wLmJpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkYXB0ZXJQcm9wLmJpbmQoYWRhcHRlck9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhZGFwdGVyUHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVByb3AgPSBnZW5lcmljUmVxdWVzdEhhbmRsZXJbcHJvcF07XG4gICAgICAgICAgICBpZiAoaGFuZGxlUHJvcCkge1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVQcm9wLmJpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVByb3AuYmluZChnZW5lcmljUmVxdWVzdEhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlUHJvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzZXJ2ZXJBZGFwdGVyQmFzZU9iamVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0UHJvcCA9IHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0W3Byb3BdO1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJBZGFwdGVyQmFzZU9iamVjdFByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0UHJvcC5iaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXR1cm5lZFZhbCA9IHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0W3Byb3BdKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5lZFZhbCA9PT0gc2VydmVyQWRhcHRlckJhc2VPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZlckFkYXB0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5lZFZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlcnZlckFkYXB0ZXJCYXNlT2JqZWN0UHJvcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFwcGx5KF8sIF9fLCBhcmdzKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJpY1JlcXVlc3RIYW5kbGVyKC4uLmFyZ3MpO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBzZXJ2ZXJBZGFwdGVyO1xufVxuZXhwb3J0IHsgY3JlYXRlU2VydmVyQWRhcHRlciB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/esm/createServerAdapter.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/esm/plugins/useCors.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@whatwg-node/server/esm/plugins/useCors.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCORSHeadersByRequestAndOptions: () => (/* binding */ getCORSHeadersByRequestAndOptions),\n/* harmony export */   useCORS: () => (/* binding */ useCORS)\n/* harmony export */ });\n/* harmony import */ var _whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/esm/index.js\");\n\nfunction getCORSHeadersByRequestAndOptions(request, corsOptions) {\n    const currentOrigin = request.headers.get('origin');\n    if (corsOptions === false || currentOrigin == null) {\n        return null;\n    }\n    const headers = {};\n    // If defined origins have '*' or undefined by any means, we should allow all origins\n    if (corsOptions.origin == null ||\n        corsOptions.origin.length === 0 ||\n        corsOptions.origin.includes('*')) {\n        headers['Access-Control-Allow-Origin'] = currentOrigin;\n        // Vary by origin because there are multiple origins\n        headers['Vary'] = 'Origin';\n    }\n    else if (typeof corsOptions.origin === 'string') {\n        // If there is one specific origin is specified, use it directly\n        headers['Access-Control-Allow-Origin'] = corsOptions.origin;\n    }\n    else if (Array.isArray(corsOptions.origin)) {\n        // If there is only one origin defined in the array, consider it as a single one\n        if (corsOptions.origin.length === 1) {\n            headers['Access-Control-Allow-Origin'] = corsOptions.origin[0];\n        }\n        else if (corsOptions.origin.includes(currentOrigin)) {\n            // If origin is available in the headers, use it\n            headers['Access-Control-Allow-Origin'] = currentOrigin;\n            // Vary by origin because there are multiple origins\n            headers['Vary'] = 'Origin';\n        }\n        else {\n            // There is no origin found in the headers, so we should return null\n            headers['Access-Control-Allow-Origin'] = 'null';\n        }\n    }\n    if (corsOptions.methods?.length) {\n        headers['Access-Control-Allow-Methods'] = corsOptions.methods.join(', ');\n    }\n    else {\n        const requestMethod = request.headers.get('access-control-request-method');\n        if (requestMethod) {\n            headers['Access-Control-Allow-Methods'] = requestMethod;\n        }\n    }\n    if (corsOptions.allowedHeaders?.length) {\n        headers['Access-Control-Allow-Headers'] = corsOptions.allowedHeaders.join(', ');\n    }\n    else {\n        const requestHeaders = request.headers.get('access-control-request-headers');\n        if (requestHeaders) {\n            headers['Access-Control-Allow-Headers'] = requestHeaders;\n            if (headers['Vary']) {\n                headers['Vary'] += ', Access-Control-Request-Headers';\n            }\n            else {\n                headers['Vary'] = 'Access-Control-Request-Headers';\n            }\n        }\n    }\n    if (corsOptions.credentials != null) {\n        if (corsOptions.credentials === true) {\n            headers['Access-Control-Allow-Credentials'] = 'true';\n        }\n    }\n    else if (headers['Access-Control-Allow-Origin'] !== '*') {\n        headers['Access-Control-Allow-Credentials'] = 'true';\n    }\n    if (corsOptions.exposedHeaders) {\n        headers['Access-Control-Expose-Headers'] = corsOptions.exposedHeaders.join(', ');\n    }\n    if (corsOptions.maxAge) {\n        headers['Access-Control-Max-Age'] = corsOptions.maxAge.toString();\n    }\n    return headers;\n}\nfunction getCORSResponseHeaders(request, corsOptionsFactory, serverContext) {\n    return (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.handleMaybePromise)(() => corsOptionsFactory(request, serverContext), corsOptions => getCORSHeadersByRequestAndOptions(request, corsOptions));\n}\nfunction useCORS(options) {\n    let corsOptionsFactory = () => ({});\n    if (options != null) {\n        if (typeof options === 'function') {\n            corsOptionsFactory = options;\n        }\n        else if (typeof options === 'object') {\n            const corsOptions = {\n                ...options,\n            };\n            corsOptionsFactory = () => corsOptions;\n        }\n        else if (options === false) {\n            corsOptionsFactory = () => false;\n        }\n    }\n    return {\n        onRequest({ request, fetchAPI, endResponse }) {\n            if (request.method.toUpperCase() === 'OPTIONS') {\n                const response = new fetchAPI.Response(null, {\n                    status: 204,\n                    // Safari (and potentially other browsers) need content-length 0,\n                    // for 204 or they just hang waiting for a body\n                    // see: https://github.com/expressjs/cors/blob/master/lib/index.js#L176\n                    headers: {\n                        'Content-Length': '0',\n                    },\n                });\n                endResponse(response);\n            }\n        },\n        onResponse({ request, serverContext, response }) {\n            return (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.handleMaybePromise)(() => getCORSResponseHeaders(request, corsOptionsFactory, serverContext), headers => {\n                if (headers != null) {\n                    for (const headerName in headers) {\n                        response.headers.set(headerName, headers[headerName]);\n                    }\n                }\n            });\n        },\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9lc20vcGx1Z2lucy91c2VDb3JzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrRTtBQUMzRDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdGQUFrQjtBQUM3QjtBQUNPO0FBQ1Asc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQ0FBZ0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLFNBQVM7QUFDVCxxQkFBcUIsa0NBQWtDO0FBQ3ZELG1CQUFtQixnRkFBa0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvc2VydmVyL2VzbS9wbHVnaW5zL3VzZUNvcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaGFuZGxlTWF5YmVQcm9taXNlIH0gZnJvbSAnQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Q09SU0hlYWRlcnNCeVJlcXVlc3RBbmRPcHRpb25zKHJlcXVlc3QsIGNvcnNPcHRpb25zKSB7XG4gICAgY29uc3QgY3VycmVudE9yaWdpbiA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ29yaWdpbicpO1xuICAgIGlmIChjb3JzT3B0aW9ucyA9PT0gZmFsc2UgfHwgY3VycmVudE9yaWdpbiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzID0ge307XG4gICAgLy8gSWYgZGVmaW5lZCBvcmlnaW5zIGhhdmUgJyonIG9yIHVuZGVmaW5lZCBieSBhbnkgbWVhbnMsIHdlIHNob3VsZCBhbGxvdyBhbGwgb3JpZ2luc1xuICAgIGlmIChjb3JzT3B0aW9ucy5vcmlnaW4gPT0gbnVsbCB8fFxuICAgICAgICBjb3JzT3B0aW9ucy5vcmlnaW4ubGVuZ3RoID09PSAwIHx8XG4gICAgICAgIGNvcnNPcHRpb25zLm9yaWdpbi5pbmNsdWRlcygnKicpKSB7XG4gICAgICAgIGhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbiddID0gY3VycmVudE9yaWdpbjtcbiAgICAgICAgLy8gVmFyeSBieSBvcmlnaW4gYmVjYXVzZSB0aGVyZSBhcmUgbXVsdGlwbGUgb3JpZ2luc1xuICAgICAgICBoZWFkZXJzWydWYXJ5J10gPSAnT3JpZ2luJztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGNvcnNPcHRpb25zLm9yaWdpbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgb25lIHNwZWNpZmljIG9yaWdpbiBpcyBzcGVjaWZpZWQsIHVzZSBpdCBkaXJlY3RseVxuICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nXSA9IGNvcnNPcHRpb25zLm9yaWdpbjtcbiAgICB9XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb3JzT3B0aW9ucy5vcmlnaW4pKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG9ubHkgb25lIG9yaWdpbiBkZWZpbmVkIGluIHRoZSBhcnJheSwgY29uc2lkZXIgaXQgYXMgYSBzaW5nbGUgb25lXG4gICAgICAgIGlmIChjb3JzT3B0aW9ucy5vcmlnaW4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nXSA9IGNvcnNPcHRpb25zLm9yaWdpblswXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb3JzT3B0aW9ucy5vcmlnaW4uaW5jbHVkZXMoY3VycmVudE9yaWdpbikpIHtcbiAgICAgICAgICAgIC8vIElmIG9yaWdpbiBpcyBhdmFpbGFibGUgaW4gdGhlIGhlYWRlcnMsIHVzZSBpdFxuICAgICAgICAgICAgaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJ10gPSBjdXJyZW50T3JpZ2luO1xuICAgICAgICAgICAgLy8gVmFyeSBieSBvcmlnaW4gYmVjYXVzZSB0aGVyZSBhcmUgbXVsdGlwbGUgb3JpZ2luc1xuICAgICAgICAgICAgaGVhZGVyc1snVmFyeSddID0gJ09yaWdpbic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGVyZSBpcyBubyBvcmlnaW4gZm91bmQgaW4gdGhlIGhlYWRlcnMsIHNvIHdlIHNob3VsZCByZXR1cm4gbnVsbFxuICAgICAgICAgICAgaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJ10gPSAnbnVsbCc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvcnNPcHRpb25zLm1ldGhvZHM/Lmxlbmd0aCkge1xuICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJ10gPSBjb3JzT3B0aW9ucy5tZXRob2RzLmpvaW4oJywgJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByZXF1ZXN0TWV0aG9kID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1tZXRob2QnKTtcbiAgICAgICAgaWYgKHJlcXVlc3RNZXRob2QpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnXSA9IHJlcXVlc3RNZXRob2Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvcnNPcHRpb25zLmFsbG93ZWRIZWFkZXJzPy5sZW5ndGgpIHtcbiAgICAgICAgaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyddID0gY29yc09wdGlvbnMuYWxsb3dlZEhlYWRlcnMuam9pbignLCAnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnYWNjZXNzLWNvbnRyb2wtcmVxdWVzdC1oZWFkZXJzJyk7XG4gICAgICAgIGlmIChyZXF1ZXN0SGVhZGVycykge1xuICAgICAgICAgICAgaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycyddID0gcmVxdWVzdEhlYWRlcnM7XG4gICAgICAgICAgICBpZiAoaGVhZGVyc1snVmFyeSddKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyc1snVmFyeSddICs9ICcsIEFjY2Vzcy1Db250cm9sLVJlcXVlc3QtSGVhZGVycyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzWydWYXJ5J10gPSAnQWNjZXNzLUNvbnRyb2wtUmVxdWVzdC1IZWFkZXJzJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29yc09wdGlvbnMuY3JlZGVudGlhbHMgIT0gbnVsbCkge1xuICAgICAgICBpZiAoY29yc09wdGlvbnMuY3JlZGVudGlhbHMgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJ10gPSAndHJ1ZSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJ10gIT09ICcqJykge1xuICAgICAgICBoZWFkZXJzWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscyddID0gJ3RydWUnO1xuICAgIH1cbiAgICBpZiAoY29yc09wdGlvbnMuZXhwb3NlZEhlYWRlcnMpIHtcbiAgICAgICAgaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtRXhwb3NlLUhlYWRlcnMnXSA9IGNvcnNPcHRpb25zLmV4cG9zZWRIZWFkZXJzLmpvaW4oJywgJyk7XG4gICAgfVxuICAgIGlmIChjb3JzT3B0aW9ucy5tYXhBZ2UpIHtcbiAgICAgICAgaGVhZGVyc1snQWNjZXNzLUNvbnRyb2wtTWF4LUFnZSddID0gY29yc09wdGlvbnMubWF4QWdlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiBoZWFkZXJzO1xufVxuZnVuY3Rpb24gZ2V0Q09SU1Jlc3BvbnNlSGVhZGVycyhyZXF1ZXN0LCBjb3JzT3B0aW9uc0ZhY3RvcnksIHNlcnZlckNvbnRleHQpIHtcbiAgICByZXR1cm4gaGFuZGxlTWF5YmVQcm9taXNlKCgpID0+IGNvcnNPcHRpb25zRmFjdG9yeShyZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0KSwgY29yc09wdGlvbnMgPT4gZ2V0Q09SU0hlYWRlcnNCeVJlcXVlc3RBbmRPcHRpb25zKHJlcXVlc3QsIGNvcnNPcHRpb25zKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdXNlQ09SUyhvcHRpb25zKSB7XG4gICAgbGV0IGNvcnNPcHRpb25zRmFjdG9yeSA9ICgpID0+ICh7fSk7XG4gICAgaWYgKG9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvcnNPcHRpb25zRmFjdG9yeSA9IG9wdGlvbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBjb3JzT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvcnNPcHRpb25zRmFjdG9yeSA9ICgpID0+IGNvcnNPcHRpb25zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb3JzT3B0aW9uc0ZhY3RvcnkgPSAoKSA9PiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBvblJlcXVlc3QoeyByZXF1ZXN0LCBmZXRjaEFQSSwgZW5kUmVzcG9uc2UgfSkge1xuICAgICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kLnRvVXBwZXJDYXNlKCkgPT09ICdPUFRJT05TJykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gbmV3IGZldGNoQVBJLlJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAyMDQsXG4gICAgICAgICAgICAgICAgICAgIC8vIFNhZmFyaSAoYW5kIHBvdGVudGlhbGx5IG90aGVyIGJyb3dzZXJzKSBuZWVkIGNvbnRlbnQtbGVuZ3RoIDAsXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciAyMDQgb3IgdGhleSBqdXN0IGhhbmcgd2FpdGluZyBmb3IgYSBib2R5XG4gICAgICAgICAgICAgICAgICAgIC8vIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2V4cHJlc3Nqcy9jb3JzL2Jsb2IvbWFzdGVyL2xpYi9pbmRleC5qcyNMMTc2XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdDb250ZW50LUxlbmd0aCc6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlbmRSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVzcG9uc2UoeyByZXF1ZXN0LCBzZXJ2ZXJDb250ZXh0LCByZXNwb25zZSB9KSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlTWF5YmVQcm9taXNlKCgpID0+IGdldENPUlNSZXNwb25zZUhlYWRlcnMocmVxdWVzdCwgY29yc09wdGlvbnNGYWN0b3J5LCBzZXJ2ZXJDb250ZXh0KSwgaGVhZGVycyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGhlYWRlck5hbWUgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoaGVhZGVyTmFtZSwgaGVhZGVyc1toZWFkZXJOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/esm/plugins/useCors.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/esm/utils.js":
/*!*******************************************************!*\
  !*** ./node_modules/@whatwg-node/server/esm/utils.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   completeAssign: () => (/* binding */ completeAssign),\n/* harmony export */   createCustomAbortControllerSignal: () => (/* binding */ createCustomAbortControllerSignal),\n/* harmony export */   createDeferredPromise: () => (/* reexport safe */ _whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.createDeferredPromise),\n/* harmony export */   decompressedResponseMap: () => (/* binding */ decompressedResponseMap),\n/* harmony export */   ensureDisposableStackRegisteredForTerminateEvents: () => (/* binding */ ensureDisposableStackRegisteredForTerminateEvents),\n/* harmony export */   getSupportedEncodings: () => (/* binding */ getSupportedEncodings),\n/* harmony export */   handleAbortSignalAndPromiseResponse: () => (/* binding */ handleAbortSignalAndPromiseResponse),\n/* harmony export */   handleErrorFromRequestHandler: () => (/* binding */ handleErrorFromRequestHandler),\n/* harmony export */   handleResponseDecompression: () => (/* binding */ handleResponseDecompression),\n/* harmony export */   isAsyncIterable: () => (/* binding */ isAsyncIterable),\n/* harmony export */   isFetchEvent: () => (/* binding */ isFetchEvent),\n/* harmony export */   isNodeRequest: () => (/* binding */ isNodeRequest),\n/* harmony export */   isPromise: () => (/* reexport safe */ _whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.isPromise),\n/* harmony export */   isReadable: () => (/* binding */ isReadable),\n/* harmony export */   isReadableStream: () => (/* binding */ isReadableStream),\n/* harmony export */   isRequestInit: () => (/* binding */ isRequestInit),\n/* harmony export */   isServerResponse: () => (/* binding */ isServerResponse),\n/* harmony export */   isolateObject: () => (/* binding */ isolateObject),\n/* harmony export */   iterateAsyncVoid: () => (/* reexport safe */ _whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.iterateAsyncVoid),\n/* harmony export */   normalizeNodeRequest: () => (/* binding */ normalizeNodeRequest),\n/* harmony export */   sendNodeResponse: () => (/* binding */ sendNodeResponse)\n/* harmony export */ });\n/* harmony import */ var _whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/esm/index.js\");\n\n\nfunction isAsyncIterable(body) {\n    return (body != null && typeof body === 'object' && typeof body[Symbol.asyncIterator] === 'function');\n}\nfunction getPort(nodeRequest) {\n    if (nodeRequest.socket?.localPort) {\n        return nodeRequest.socket?.localPort;\n    }\n    const hostInHeader = nodeRequest.headers?.[':authority'] || nodeRequest.headers?.host;\n    const portInHeader = hostInHeader?.split(':')?.[1];\n    if (portInHeader) {\n        return portInHeader;\n    }\n    return 80;\n}\nfunction getHostnameWithPort(nodeRequest) {\n    if (nodeRequest.headers?.[':authority']) {\n        return nodeRequest.headers?.[':authority'];\n    }\n    if (nodeRequest.headers?.host) {\n        return nodeRequest.headers?.host;\n    }\n    const port = getPort(nodeRequest);\n    if (nodeRequest.hostname) {\n        return nodeRequest.hostname + ':' + port;\n    }\n    const localIp = nodeRequest.socket?.localAddress;\n    if (localIp && !localIp?.includes('::') && !localIp?.includes('ffff')) {\n        return `${localIp}:${port}`;\n    }\n    return 'localhost';\n}\nfunction buildFullUrl(nodeRequest) {\n    const hostnameWithPort = getHostnameWithPort(nodeRequest);\n    const protocol = nodeRequest.protocol || (nodeRequest.socket?.encrypted ? 'https' : 'http');\n    const endpoint = nodeRequest.originalUrl || nodeRequest.url || '/graphql';\n    return `${protocol}://${hostnameWithPort}${endpoint}`;\n}\nfunction isRequestBody(body) {\n    const stringTag = body[Symbol.toStringTag];\n    if (typeof body === 'string' ||\n        stringTag === 'Uint8Array' ||\n        stringTag === 'Blob' ||\n        stringTag === 'FormData' ||\n        stringTag === 'URLSearchParams' ||\n        isAsyncIterable(body)) {\n        return true;\n    }\n    return false;\n}\nfunction normalizeNodeRequest(nodeRequest, fetchAPI, nodeResponse, __useCustomAbortCtrl) {\n    const rawRequest = nodeRequest.raw || nodeRequest.req || nodeRequest;\n    let fullUrl = buildFullUrl(rawRequest);\n    if (nodeRequest.query) {\n        const url = new fetchAPI.URL(fullUrl);\n        for (const key in nodeRequest.query) {\n            url.searchParams.set(key, nodeRequest.query[key]);\n        }\n        fullUrl = url.toString();\n    }\n    let normalizedHeaders = nodeRequest.headers;\n    if (nodeRequest.headers?.[':method']) {\n        normalizedHeaders = {};\n        for (const key in nodeRequest.headers) {\n            if (!key.startsWith(':')) {\n                normalizedHeaders[key] = nodeRequest.headers[key];\n            }\n        }\n    }\n    const controller = __useCustomAbortCtrl\n        ? createCustomAbortControllerSignal()\n        : new AbortController();\n    if (nodeResponse?.once) {\n        const closeEventListener = () => {\n            if (!controller.signal.aborted) {\n                Object.defineProperty(rawRequest, 'aborted', { value: true });\n                controller.abort(nodeResponse.errored ?? undefined);\n            }\n        };\n        nodeResponse.once('error', closeEventListener);\n        nodeResponse.once('close', closeEventListener);\n        nodeResponse.once('finish', () => {\n            nodeResponse.removeListener('close', closeEventListener);\n        });\n    }\n    if (nodeRequest.method === 'GET' || nodeRequest.method === 'HEAD') {\n        return new fetchAPI.Request(fullUrl, {\n            method: nodeRequest.method,\n            headers: normalizedHeaders,\n            signal: controller.signal,\n        });\n    }\n    /**\n     * Some Node server frameworks like Serverless Express sends a dummy object with body but as a Buffer not string\n     * so we do those checks to see is there something we can use directly as BodyInit\n     * because the presence of body means the request stream is already consumed and,\n     * rawRequest cannot be used as BodyInit/ReadableStream by Fetch API in this case.\n     */\n    const maybeParsedBody = nodeRequest.body;\n    if (maybeParsedBody != null && Object.keys(maybeParsedBody).length > 0) {\n        if (isRequestBody(maybeParsedBody)) {\n            return new fetchAPI.Request(fullUrl, {\n                method: nodeRequest.method || 'GET',\n                headers: normalizedHeaders,\n                body: maybeParsedBody,\n                signal: controller.signal,\n            });\n        }\n        const request = new fetchAPI.Request(fullUrl, {\n            method: nodeRequest.method || 'GET',\n            headers: normalizedHeaders,\n            signal: controller.signal,\n        });\n        if (!request.headers.get('content-type')?.includes('json')) {\n            request.headers.set('content-type', 'application/json; charset=utf-8');\n        }\n        return new Proxy(request, {\n            get(_target, prop, receiver) {\n                switch (prop) {\n                    case 'json':\n                        return () => (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.fakePromise)(maybeParsedBody);\n                    case 'text':\n                        return () => (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.fakePromise)(JSON.stringify(maybeParsedBody));\n                    default: {\n                        const val = Reflect.get(request, prop, request);\n                        if (typeof val === 'function') {\n                            return function requestMethodWrapper(...args) {\n                                return val.apply(this === receiver ? request : this, args);\n                            };\n                        }\n                        return val;\n                    }\n                }\n            },\n        });\n    }\n    // perf: instead of spreading the object, we can just pass it as is and it performs better\n    return new fetchAPI.Request(fullUrl, {\n        method: nodeRequest.method,\n        headers: normalizedHeaders,\n        signal: controller.signal,\n        // @ts-expect-error - AsyncIterable is supported as body\n        body: rawRequest,\n        duplex: 'half',\n    });\n}\nfunction isReadable(stream) {\n    return stream.read != null;\n}\nfunction isNodeRequest(request) {\n    return isReadable(request);\n}\nfunction isServerResponse(stream) {\n    // Check all used functions are defined\n    return (stream != null &&\n        stream.setHeader != null &&\n        stream.end != null &&\n        stream.once != null &&\n        stream.write != null);\n}\nfunction isReadableStream(stream) {\n    return stream != null && stream.getReader != null;\n}\nfunction isFetchEvent(event) {\n    return event != null && event.request != null && event.respondWith != null;\n}\nfunction configureSocket(rawRequest) {\n    rawRequest?.socket?.setTimeout?.(0);\n    rawRequest?.socket?.setNoDelay?.(true);\n    rawRequest?.socket?.setKeepAlive?.(true);\n}\nfunction endResponse(serverResponse) {\n    // @ts-expect-error Avoid arguments adaptor trampoline https://v8.dev/blog/adaptor-frame\n    serverResponse.end(null, null, null);\n}\nfunction sendAsyncIterable(serverResponse, asyncIterable) {\n    let closed = false;\n    const closeEventListener = () => {\n        closed = true;\n    };\n    serverResponse.once('error', closeEventListener);\n    serverResponse.once('close', closeEventListener);\n    serverResponse.once('finish', () => {\n        serverResponse.removeListener('close', closeEventListener);\n        serverResponse.removeListener('error', closeEventListener);\n    });\n    const iterator = asyncIterable[Symbol.asyncIterator]();\n    return pumpToWritable(() => iterator.next(), serverResponse, () => closed);\n}\nfunction endDest(dest) {\n    // @ts-expect-error Avoid arguments adaptor trampoline https://v8.dev/blog/adaptor-frame\n    dest.end(null, null, null);\n}\nfunction pumpToWritable(source, dest, isClosed) {\n    const pump = () => (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.handleMaybePromise)(source, sourceResult => {\n        if (isClosed?.() || sourceResult.done) {\n            return endDest(dest);\n        }\n        return (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.handleMaybePromise)(() => safeWrite(sourceResult.value, dest), () => (isClosed?.() ? endDest(dest) : pump()));\n    });\n    return pump();\n}\nfunction safeWrite(chunk, destination) {\n    const result = destination.write(chunk);\n    if (!result) {\n        return new Promise(resolve => destination.once('drain', resolve));\n    }\n}\nconst isNode1x = globalThis.process?.versions?.node?.startsWith('1');\nfunction sendNodeResponse(fetchResponse, serverResponse, nodeRequest, __useSingleWriteHead) {\n    if (serverResponse.closed || serverResponse.destroyed || serverResponse.writableEnded) {\n        return;\n    }\n    if (!fetchResponse) {\n        serverResponse.statusCode = 404;\n        endResponse(serverResponse);\n        return;\n    }\n    if (__useSingleWriteHead &&\n        // @ts-expect-error - headersInit is a private property\n        fetchResponse.headers?.headersInit &&\n        // @ts-expect-error - headersInit is a private property\n        !Array.isArray(fetchResponse.headers.headersInit) &&\n        // @ts-expect-error - headersInit is a private property\n        !fetchResponse.headers.headersInit.get &&\n        // @ts-expect-error - map is a private property\n        !fetchResponse.headers._map &&\n        // @ts-expect-error - _setCookies is a private property\n        !fetchResponse.headers._setCookies?.length) {\n        // @ts-expect-error - writeHead accepts headers object\n        serverResponse.writeHead(fetchResponse.status, fetchResponse.statusText, \n        // @ts-expect-error - headersInit is a private property\n        fetchResponse.headers.headersInit);\n    }\n    else {\n        // Avoid using `setHeaders` on Node.js 18 as it is broken with multiple headers with the same name\n        // @ts-expect-error - setHeaders exist\n        if (serverResponse.setHeaders && !isNode1x) {\n            // @ts-expect-error - writeHead bad typings\n            serverResponse.setHeaders(fetchResponse.headers);\n        }\n        else {\n            let setCookiesSet = false;\n            fetchResponse.headers.forEach((value, key) => {\n                if (key === 'set-cookie') {\n                    if (setCookiesSet) {\n                        return;\n                    }\n                    setCookiesSet = true;\n                    const setCookies = fetchResponse.headers.getSetCookie?.();\n                    if (setCookies) {\n                        serverResponse.setHeader('set-cookie', setCookies);\n                        return;\n                    }\n                }\n                serverResponse.setHeader(key, value);\n            });\n        }\n        // @ts-expect-error - writeHead bad typings\n        serverResponse.writeHead(fetchResponse.status, fetchResponse.statusText);\n    }\n    // @ts-expect-error - Handle the case where the response is a string\n    if (fetchResponse['bodyType'] === 'String') {\n        const bodyString = \n        // @ts-expect-error - bodyInit is a private property\n        fetchResponse['bodyInit'];\n        return (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.handleMaybePromise)(() => safeWrite(bodyString, serverResponse), () => endResponse(serverResponse));\n    }\n    // Optimizations for node-fetch\n    const bufOfRes = \n    // @ts-expect-error - _buffer is a private property\n    fetchResponse._buffer;\n    if (bufOfRes) {\n        return (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.handleMaybePromise)(() => safeWrite(bufOfRes, serverResponse), () => endResponse(serverResponse));\n    }\n    // Other fetch implementations\n    const fetchBody = fetchResponse.body;\n    if (fetchBody == null) {\n        endResponse(serverResponse);\n        return;\n    }\n    if (\n    // @ts-expect-error - Uint8Array is a valid body type\n    fetchBody[Symbol.toStringTag] === 'Uint8Array') {\n        return (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.handleMaybePromise)(() => safeWrite(fetchBody, serverResponse), () => endResponse(serverResponse));\n    }\n    configureSocket(nodeRequest);\n    if (isReadable(fetchBody)) {\n        serverResponse.once('close', () => {\n            fetchBody.destroy();\n        });\n        fetchBody.pipe(serverResponse, {\n            end: true,\n        });\n        return;\n    }\n    if (isReadableStream(fetchBody)) {\n        return sendReadableStream(nodeRequest, serverResponse, fetchBody);\n    }\n    if (isAsyncIterable(fetchBody)) {\n        return sendAsyncIterable(serverResponse, fetchBody);\n    }\n}\nfunction sendReadableStream(nodeRequest, serverResponse, readableStream) {\n    const reader = readableStream.getReader();\n    nodeRequest?.once?.('error', err => {\n        reader.cancel(err);\n    });\n    return pumpToWritable(() => reader.read(), serverResponse);\n}\nfunction isRequestInit(val) {\n    return (val != null &&\n        typeof val === 'object' &&\n        ('body' in val ||\n            'cache' in val ||\n            'credentials' in val ||\n            'headers' in val ||\n            'integrity' in val ||\n            'keepalive' in val ||\n            'method' in val ||\n            'mode' in val ||\n            'redirect' in val ||\n            'referrer' in val ||\n            'referrerPolicy' in val ||\n            'signal' in val ||\n            'window' in val));\n}\n// from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign#copying_accessors\nfunction completeAssign(...args) {\n    const [target, ...sources] = args.filter(arg => arg != null && typeof arg === 'object');\n    sources.forEach(source => {\n        // modified Object.keys to Object.getOwnPropertyNames\n        // because Object.keys only returns enumerable properties\n        const descriptors = Object.getOwnPropertyNames(source).reduce((descriptors, key) => {\n            const descriptor = Object.getOwnPropertyDescriptor(source, key);\n            if (descriptor) {\n                descriptors[key] = Object.getOwnPropertyDescriptor(source, key);\n            }\n            return descriptors;\n        }, {});\n        // By default, Object.assign copies enumerable Symbols, too\n        Object.getOwnPropertySymbols(source).forEach(sym => {\n            const descriptor = Object.getOwnPropertyDescriptor(source, sym);\n            if (descriptor?.enumerable) {\n                descriptors[sym] = descriptor;\n            }\n        });\n        Object.defineProperties(target, descriptors);\n    });\n    return target;\n}\n\nfunction handleErrorFromRequestHandler(error, ResponseCtor) {\n    return new ResponseCtor(error.stack || error.message || error.toString(), {\n        status: error.status || 500,\n    });\n}\nfunction isolateObject(originalCtx, waitUntilFn) {\n    if (originalCtx == null) {\n        if (waitUntilFn == null) {\n            return {};\n        }\n        return {\n            waitUntil: waitUntilFn,\n        };\n    }\n    return completeAssign(Object.create(originalCtx), {\n        waitUntil: waitUntilFn,\n    }, originalCtx);\n}\nfunction handleAbortSignalAndPromiseResponse(response$, abortSignal) {\n    if (abortSignal?.aborted) {\n        throw abortSignal.reason;\n    }\n    if ((0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.isPromise)(response$) && abortSignal) {\n        const deferred$ = (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.createDeferredPromise)();\n        function abortSignalFetchErrorHandler() {\n            deferred$.reject(abortSignal.reason);\n        }\n        abortSignal.addEventListener('abort', abortSignalFetchErrorHandler, { once: true });\n        response$\n            .then(function fetchSuccessHandler(res) {\n            deferred$.resolve(res);\n        })\n            .catch(function fetchErrorHandler(err) {\n            deferred$.reject(err);\n        })\n            .finally(() => {\n            abortSignal.removeEventListener('abort', abortSignalFetchErrorHandler);\n        });\n        return deferred$.promise;\n    }\n    return response$;\n}\nconst decompressedResponseMap = new WeakMap();\nconst supportedEncodingsByFetchAPI = new WeakMap();\nfunction getSupportedEncodings(fetchAPI) {\n    let supportedEncodings = supportedEncodingsByFetchAPI.get(fetchAPI);\n    if (!supportedEncodings) {\n        const possibleEncodings = [\n            'deflate',\n            'gzip',\n            'deflate-raw',\n            'br',\n            'zstd',\n        ];\n        if (fetchAPI.DecompressionStream?.['supportedFormats']) {\n            supportedEncodings = fetchAPI.DecompressionStream['supportedFormats'];\n        }\n        else {\n            supportedEncodings = possibleEncodings.filter(encoding => {\n                // deflate-raw is not supported in Node.js >v20\n                if (globalThis.process?.version?.startsWith('v2') &&\n                    fetchAPI.DecompressionStream === globalThis.DecompressionStream &&\n                    encoding === 'deflate-raw') {\n                    return false;\n                }\n                try {\n                    // eslint-disable-next-line no-new\n                    new fetchAPI.DecompressionStream(encoding);\n                    return true;\n                }\n                catch {\n                    return false;\n                }\n            });\n        }\n        supportedEncodingsByFetchAPI.set(fetchAPI, supportedEncodings);\n    }\n    return supportedEncodings;\n}\nfunction handleResponseDecompression(response, fetchAPI) {\n    const contentEncodingHeader = response?.headers.get('content-encoding');\n    if (!contentEncodingHeader || contentEncodingHeader === 'none') {\n        return response;\n    }\n    if (!response?.body) {\n        return response;\n    }\n    let decompressedResponse = decompressedResponseMap.get(response);\n    if (!decompressedResponse || decompressedResponse.bodyUsed) {\n        let decompressedBody = response.body;\n        const contentEncodings = contentEncodingHeader.split(',');\n        if (!contentEncodings.every(encoding => getSupportedEncodings(fetchAPI).includes(encoding))) {\n            return new fetchAPI.Response(`Unsupported 'Content-Encoding': ${contentEncodingHeader}`, {\n                status: 415,\n                statusText: 'Unsupported Media Type',\n            });\n        }\n        for (const contentEncoding of contentEncodings) {\n            decompressedBody = decompressedBody.pipeThrough(new fetchAPI.DecompressionStream(contentEncoding));\n        }\n        decompressedResponse = new fetchAPI.Response(decompressedBody, response);\n        decompressedResponseMap.set(response, decompressedResponse);\n    }\n    return decompressedResponse;\n}\nconst terminateEvents = ['SIGINT', 'exit', 'SIGTERM'];\nconst disposableStacks = new Set();\nlet eventListenerRegistered = false;\nfunction ensureEventListenerForDisposableStacks() {\n    if (eventListenerRegistered) {\n        return;\n    }\n    eventListenerRegistered = true;\n    for (const event of terminateEvents) {\n        globalThis.process.once(event, function terminateHandler() {\n            return Promise.allSettled([...disposableStacks].map(stack => !stack.disposed && stack.disposeAsync()));\n        });\n    }\n}\nfunction ensureDisposableStackRegisteredForTerminateEvents(disposableStack) {\n    if (globalThis.process) {\n        ensureEventListenerForDisposableStacks();\n        if (!disposableStacks.has(disposableStack)) {\n            disposableStacks.add(disposableStack);\n            disposableStack.defer(() => {\n                disposableStacks.delete(disposableStack);\n            });\n        }\n    }\n}\nclass CustomAbortControllerSignal extends EventTarget {\n    aborted = false;\n    _onabort = null;\n    _reason;\n    constructor() {\n        super();\n        const nodeEvents = globalThis.process?.getBuiltinModule?.('node:events');\n        // @ts-expect-error - We know kMaxEventTargetListeners is available in node:events\n        if (nodeEvents?.kMaxEventTargetListeners) {\n            // @ts-expect-error - See https://github.com/nodejs/node/pull/55816/files#diff-03bd4f07a1006cb0daaddced702858751b20f5ab7681cb0719c1b1d80d6ca05cR31\n            this[nodeEvents.kMaxEventTargetListeners] = 0;\n        }\n    }\n    throwIfAborted() {\n        if (this._nativeCtrl?.signal?.throwIfAborted) {\n            return this._nativeCtrl.signal.throwIfAborted();\n        }\n        if (this.aborted) {\n            throw this._reason;\n        }\n    }\n    _nativeCtrl;\n    ensureNativeCtrl() {\n        if (!this._nativeCtrl) {\n            const isAborted = this.aborted;\n            this._nativeCtrl = new AbortController();\n            if (isAborted) {\n                this._nativeCtrl.abort(this._reason);\n            }\n        }\n        return this._nativeCtrl;\n    }\n    abort(reason) {\n        if (this._nativeCtrl?.abort) {\n            return this._nativeCtrl?.abort(reason);\n        }\n        this._reason = reason || new DOMException('This operation was aborted', 'AbortError');\n        this.aborted = true;\n        this.dispatchEvent(new Event('abort'));\n    }\n    get signal() {\n        if (this._nativeCtrl?.signal) {\n            return this._nativeCtrl.signal;\n        }\n        return this;\n    }\n    get reason() {\n        if (this._nativeCtrl?.signal) {\n            return this._nativeCtrl.signal.reason;\n        }\n        return this._reason;\n    }\n    get onabort() {\n        if (this._onabort) {\n            return this._onabort;\n        }\n        return this._onabort;\n    }\n    set onabort(value) {\n        if (this._nativeCtrl?.signal) {\n            this._nativeCtrl.signal.onabort = value;\n            return;\n        }\n        if (this._onabort) {\n            this.removeEventListener('abort', this._onabort);\n        }\n        this._onabort = value;\n        if (value) {\n            this.addEventListener('abort', value);\n        }\n    }\n}\nfunction createCustomAbortControllerSignal() {\n    if (globalThis.Bun || globalThis.Deno) {\n        return new AbortController();\n    }\n    return new Proxy(new CustomAbortControllerSignal(), {\n        get(target, prop, receiver) {\n            if (prop.toString().includes('kDependantSignals')) {\n                const nativeCtrl = target.ensureNativeCtrl();\n                return Reflect.get(nativeCtrl.signal, prop, nativeCtrl.signal);\n            }\n            return Reflect.get(target, prop, receiver);\n        },\n        set(target, prop, value, receiver) {\n            if (prop.toString().includes('kDependantSignals')) {\n                const nativeCtrl = target.ensureNativeCtrl();\n                return Reflect.set(nativeCtrl.signal, prop, value, nativeCtrl.signal);\n            }\n            return Reflect.set(target, prop, value, receiver);\n        },\n        getPrototypeOf() {\n            return AbortSignal.prototype;\n        },\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9lc20vdXRpbHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrSDtBQUN0RTtBQUNyQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsUUFBUSxHQUFHLEtBQUs7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLFNBQVMsS0FBSyxpQkFBaUIsRUFBRSxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsYUFBYTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx5RUFBVztBQUNoRDtBQUNBLHFDQUFxQyx5RUFBVztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0ZBQWtCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0ZBQWtCO0FBQ2pDLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0ZBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0ZBQWtCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnRkFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxJQUFJO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDZ0U7QUFDekQ7QUFDUDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsUUFBUSx1RUFBUztBQUNqQiwwQkFBMEIsbUZBQXFCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSxZQUFZO0FBQzFGO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsc0JBQXNCO0FBQ2xHO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIi9Vc2Vycy90YXlsb3J3b2Zmb3JkL0Rlc2t0b3AvY3liZXJkYWxsYXNfMjA2OS9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9lc20vdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlRGVmZXJyZWRQcm9taXNlLCBmYWtlUHJvbWlzZSwgaGFuZGxlTWF5YmVQcm9taXNlLCBpc1Byb21pc2UsIH0gZnJvbSAnQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycyc7XG5leHBvcnQgeyBpc1Byb21pc2UsIGNyZWF0ZURlZmVycmVkUHJvbWlzZSB9O1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXN5bmNJdGVyYWJsZShib2R5KSB7XG4gICAgcmV0dXJuIChib2R5ICE9IG51bGwgJiYgdHlwZW9mIGJvZHkgPT09ICdvYmplY3QnICYmIHR5cGVvZiBib2R5W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5mdW5jdGlvbiBnZXRQb3J0KG5vZGVSZXF1ZXN0KSB7XG4gICAgaWYgKG5vZGVSZXF1ZXN0LnNvY2tldD8ubG9jYWxQb3J0KSB7XG4gICAgICAgIHJldHVybiBub2RlUmVxdWVzdC5zb2NrZXQ/LmxvY2FsUG9ydDtcbiAgICB9XG4gICAgY29uc3QgaG9zdEluSGVhZGVyID0gbm9kZVJlcXVlc3QuaGVhZGVycz8uWyc6YXV0aG9yaXR5J10gfHwgbm9kZVJlcXVlc3QuaGVhZGVycz8uaG9zdDtcbiAgICBjb25zdCBwb3J0SW5IZWFkZXIgPSBob3N0SW5IZWFkZXI/LnNwbGl0KCc6Jyk/LlsxXTtcbiAgICBpZiAocG9ydEluSGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBwb3J0SW5IZWFkZXI7XG4gICAgfVxuICAgIHJldHVybiA4MDtcbn1cbmZ1bmN0aW9uIGdldEhvc3RuYW1lV2l0aFBvcnQobm9kZVJlcXVlc3QpIHtcbiAgICBpZiAobm9kZVJlcXVlc3QuaGVhZGVycz8uWyc6YXV0aG9yaXR5J10pIHtcbiAgICAgICAgcmV0dXJuIG5vZGVSZXF1ZXN0LmhlYWRlcnM/LlsnOmF1dGhvcml0eSddO1xuICAgIH1cbiAgICBpZiAobm9kZVJlcXVlc3QuaGVhZGVycz8uaG9zdCkge1xuICAgICAgICByZXR1cm4gbm9kZVJlcXVlc3QuaGVhZGVycz8uaG9zdDtcbiAgICB9XG4gICAgY29uc3QgcG9ydCA9IGdldFBvcnQobm9kZVJlcXVlc3QpO1xuICAgIGlmIChub2RlUmVxdWVzdC5ob3N0bmFtZSkge1xuICAgICAgICByZXR1cm4gbm9kZVJlcXVlc3QuaG9zdG5hbWUgKyAnOicgKyBwb3J0O1xuICAgIH1cbiAgICBjb25zdCBsb2NhbElwID0gbm9kZVJlcXVlc3Quc29ja2V0Py5sb2NhbEFkZHJlc3M7XG4gICAgaWYgKGxvY2FsSXAgJiYgIWxvY2FsSXA/LmluY2x1ZGVzKCc6OicpICYmICFsb2NhbElwPy5pbmNsdWRlcygnZmZmZicpKSB7XG4gICAgICAgIHJldHVybiBgJHtsb2NhbElwfToke3BvcnR9YDtcbiAgICB9XG4gICAgcmV0dXJuICdsb2NhbGhvc3QnO1xufVxuZnVuY3Rpb24gYnVpbGRGdWxsVXJsKG5vZGVSZXF1ZXN0KSB7XG4gICAgY29uc3QgaG9zdG5hbWVXaXRoUG9ydCA9IGdldEhvc3RuYW1lV2l0aFBvcnQobm9kZVJlcXVlc3QpO1xuICAgIGNvbnN0IHByb3RvY29sID0gbm9kZVJlcXVlc3QucHJvdG9jb2wgfHwgKG5vZGVSZXF1ZXN0LnNvY2tldD8uZW5jcnlwdGVkID8gJ2h0dHBzJyA6ICdodHRwJyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBub2RlUmVxdWVzdC5vcmlnaW5hbFVybCB8fCBub2RlUmVxdWVzdC51cmwgfHwgJy9ncmFwaHFsJztcbiAgICByZXR1cm4gYCR7cHJvdG9jb2x9Oi8vJHtob3N0bmFtZVdpdGhQb3J0fSR7ZW5kcG9pbnR9YDtcbn1cbmZ1bmN0aW9uIGlzUmVxdWVzdEJvZHkoYm9keSkge1xuICAgIGNvbnN0IHN0cmluZ1RhZyA9IGJvZHlbU3ltYm9sLnRvU3RyaW5nVGFnXTtcbiAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnIHx8XG4gICAgICAgIHN0cmluZ1RhZyA9PT0gJ1VpbnQ4QXJyYXknIHx8XG4gICAgICAgIHN0cmluZ1RhZyA9PT0gJ0Jsb2InIHx8XG4gICAgICAgIHN0cmluZ1RhZyA9PT0gJ0Zvcm1EYXRhJyB8fFxuICAgICAgICBzdHJpbmdUYWcgPT09ICdVUkxTZWFyY2hQYXJhbXMnIHx8XG4gICAgICAgIGlzQXN5bmNJdGVyYWJsZShib2R5KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU5vZGVSZXF1ZXN0KG5vZGVSZXF1ZXN0LCBmZXRjaEFQSSwgbm9kZVJlc3BvbnNlLCBfX3VzZUN1c3RvbUFib3J0Q3RybCkge1xuICAgIGNvbnN0IHJhd1JlcXVlc3QgPSBub2RlUmVxdWVzdC5yYXcgfHwgbm9kZVJlcXVlc3QucmVxIHx8IG5vZGVSZXF1ZXN0O1xuICAgIGxldCBmdWxsVXJsID0gYnVpbGRGdWxsVXJsKHJhd1JlcXVlc3QpO1xuICAgIGlmIChub2RlUmVxdWVzdC5xdWVyeSkge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgZmV0Y2hBUEkuVVJMKGZ1bGxVcmwpO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBub2RlUmVxdWVzdC5xdWVyeSkge1xuICAgICAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoa2V5LCBub2RlUmVxdWVzdC5xdWVyeVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgICBmdWxsVXJsID0gdXJsLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGxldCBub3JtYWxpemVkSGVhZGVycyA9IG5vZGVSZXF1ZXN0LmhlYWRlcnM7XG4gICAgaWYgKG5vZGVSZXF1ZXN0LmhlYWRlcnM/LlsnOm1ldGhvZCddKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRIZWFkZXJzID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vZGVSZXF1ZXN0LmhlYWRlcnMpIHtcbiAgICAgICAgICAgIGlmICgha2V5LnN0YXJ0c1dpdGgoJzonKSkge1xuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRIZWFkZXJzW2tleV0gPSBub2RlUmVxdWVzdC5oZWFkZXJzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY29udHJvbGxlciA9IF9fdXNlQ3VzdG9tQWJvcnRDdHJsXG4gICAgICAgID8gY3JlYXRlQ3VzdG9tQWJvcnRDb250cm9sbGVyU2lnbmFsKClcbiAgICAgICAgOiBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgaWYgKG5vZGVSZXNwb25zZT8ub25jZSkge1xuICAgICAgICBjb25zdCBjbG9zZUV2ZW50TGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmF3UmVxdWVzdCwgJ2Fib3J0ZWQnLCB7IHZhbHVlOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuYWJvcnQobm9kZVJlc3BvbnNlLmVycm9yZWQgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbm9kZVJlc3BvbnNlLm9uY2UoJ2Vycm9yJywgY2xvc2VFdmVudExpc3RlbmVyKTtcbiAgICAgICAgbm9kZVJlc3BvbnNlLm9uY2UoJ2Nsb3NlJywgY2xvc2VFdmVudExpc3RlbmVyKTtcbiAgICAgICAgbm9kZVJlc3BvbnNlLm9uY2UoJ2ZpbmlzaCcsICgpID0+IHtcbiAgICAgICAgICAgIG5vZGVSZXNwb25zZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbG9zZUV2ZW50TGlzdGVuZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG5vZGVSZXF1ZXN0Lm1ldGhvZCA9PT0gJ0dFVCcgfHwgbm9kZVJlcXVlc3QubWV0aG9kID09PSAnSEVBRCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBmZXRjaEFQSS5SZXF1ZXN0KGZ1bGxVcmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogbm9kZVJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczogbm9ybWFsaXplZEhlYWRlcnMsXG4gICAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU29tZSBOb2RlIHNlcnZlciBmcmFtZXdvcmtzIGxpa2UgU2VydmVybGVzcyBFeHByZXNzIHNlbmRzIGEgZHVtbXkgb2JqZWN0IHdpdGggYm9keSBidXQgYXMgYSBCdWZmZXIgbm90IHN0cmluZ1xuICAgICAqIHNvIHdlIGRvIHRob3NlIGNoZWNrcyB0byBzZWUgaXMgdGhlcmUgc29tZXRoaW5nIHdlIGNhbiB1c2UgZGlyZWN0bHkgYXMgQm9keUluaXRcbiAgICAgKiBiZWNhdXNlIHRoZSBwcmVzZW5jZSBvZiBib2R5IG1lYW5zIHRoZSByZXF1ZXN0IHN0cmVhbSBpcyBhbHJlYWR5IGNvbnN1bWVkIGFuZCxcbiAgICAgKiByYXdSZXF1ZXN0IGNhbm5vdCBiZSB1c2VkIGFzIEJvZHlJbml0L1JlYWRhYmxlU3RyZWFtIGJ5IEZldGNoIEFQSSBpbiB0aGlzIGNhc2UuXG4gICAgICovXG4gICAgY29uc3QgbWF5YmVQYXJzZWRCb2R5ID0gbm9kZVJlcXVlc3QuYm9keTtcbiAgICBpZiAobWF5YmVQYXJzZWRCb2R5ICE9IG51bGwgJiYgT2JqZWN0LmtleXMobWF5YmVQYXJzZWRCb2R5KS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChpc1JlcXVlc3RCb2R5KG1heWJlUGFyc2VkQm9keSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZmV0Y2hBUEkuUmVxdWVzdChmdWxsVXJsLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiBub2RlUmVxdWVzdC5tZXRob2QgfHwgJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogbm9ybWFsaXplZEhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogbWF5YmVQYXJzZWRCb2R5LFxuICAgICAgICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IGZldGNoQVBJLlJlcXVlc3QoZnVsbFVybCwge1xuICAgICAgICAgICAgbWV0aG9kOiBub2RlUmVxdWVzdC5tZXRob2QgfHwgJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBub3JtYWxpemVkSGVhZGVycyxcbiAgICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlcXVlc3QuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpPy5pbmNsdWRlcygnanNvbicpKSB7XG4gICAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkocmVxdWVzdCwge1xuICAgICAgICAgICAgZ2V0KF90YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGZha2VQcm9taXNlKG1heWJlUGFyc2VkQm9keSk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGZha2VQcm9taXNlKEpTT04uc3RyaW5naWZ5KG1heWJlUGFyc2VkQm9keSkpO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSBSZWZsZWN0LmdldChyZXF1ZXN0LCBwcm9wLCByZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlcXVlc3RNZXRob2RXcmFwcGVyKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbC5hcHBseSh0aGlzID09PSByZWNlaXZlciA/IHJlcXVlc3QgOiB0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBwZXJmOiBpbnN0ZWFkIG9mIHNwcmVhZGluZyB0aGUgb2JqZWN0LCB3ZSBjYW4ganVzdCBwYXNzIGl0IGFzIGlzIGFuZCBpdCBwZXJmb3JtcyBiZXR0ZXJcbiAgICByZXR1cm4gbmV3IGZldGNoQVBJLlJlcXVlc3QoZnVsbFVybCwge1xuICAgICAgICBtZXRob2Q6IG5vZGVSZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgaGVhZGVyczogbm9ybWFsaXplZEhlYWRlcnMsXG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBBc3luY0l0ZXJhYmxlIGlzIHN1cHBvcnRlZCBhcyBib2R5XG4gICAgICAgIGJvZHk6IHJhd1JlcXVlc3QsXG4gICAgICAgIGR1cGxleDogJ2hhbGYnLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhZGFibGUoc3RyZWFtKSB7XG4gICAgcmV0dXJuIHN0cmVhbS5yZWFkICE9IG51bGw7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgcmV0dXJuIGlzUmVhZGFibGUocmVxdWVzdCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNTZXJ2ZXJSZXNwb25zZShzdHJlYW0pIHtcbiAgICAvLyBDaGVjayBhbGwgdXNlZCBmdW5jdGlvbnMgYXJlIGRlZmluZWRcbiAgICByZXR1cm4gKHN0cmVhbSAhPSBudWxsICYmXG4gICAgICAgIHN0cmVhbS5zZXRIZWFkZXIgIT0gbnVsbCAmJlxuICAgICAgICBzdHJlYW0uZW5kICE9IG51bGwgJiZcbiAgICAgICAgc3RyZWFtLm9uY2UgIT0gbnVsbCAmJlxuICAgICAgICBzdHJlYW0ud3JpdGUgIT0gbnVsbCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgICByZXR1cm4gc3RyZWFtICE9IG51bGwgJiYgc3RyZWFtLmdldFJlYWRlciAhPSBudWxsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRmV0Y2hFdmVudChldmVudCkge1xuICAgIHJldHVybiBldmVudCAhPSBudWxsICYmIGV2ZW50LnJlcXVlc3QgIT0gbnVsbCAmJiBldmVudC5yZXNwb25kV2l0aCAhPSBudWxsO1xufVxuZnVuY3Rpb24gY29uZmlndXJlU29ja2V0KHJhd1JlcXVlc3QpIHtcbiAgICByYXdSZXF1ZXN0Py5zb2NrZXQ/LnNldFRpbWVvdXQ/LigwKTtcbiAgICByYXdSZXF1ZXN0Py5zb2NrZXQ/LnNldE5vRGVsYXk/Lih0cnVlKTtcbiAgICByYXdSZXF1ZXN0Py5zb2NrZXQ/LnNldEtlZXBBbGl2ZT8uKHRydWUpO1xufVxuZnVuY3Rpb24gZW5kUmVzcG9uc2Uoc2VydmVyUmVzcG9uc2UpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIEF2b2lkIGFyZ3VtZW50cyBhZGFwdG9yIHRyYW1wb2xpbmUgaHR0cHM6Ly92OC5kZXYvYmxvZy9hZGFwdG9yLWZyYW1lXG4gICAgc2VydmVyUmVzcG9uc2UuZW5kKG51bGwsIG51bGwsIG51bGwpO1xufVxuZnVuY3Rpb24gc2VuZEFzeW5jSXRlcmFibGUoc2VydmVyUmVzcG9uc2UsIGFzeW5jSXRlcmFibGUpIHtcbiAgICBsZXQgY2xvc2VkID0gZmFsc2U7XG4gICAgY29uc3QgY2xvc2VFdmVudExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjbG9zZWQgPSB0cnVlO1xuICAgIH07XG4gICAgc2VydmVyUmVzcG9uc2Uub25jZSgnZXJyb3InLCBjbG9zZUV2ZW50TGlzdGVuZXIpO1xuICAgIHNlcnZlclJlc3BvbnNlLm9uY2UoJ2Nsb3NlJywgY2xvc2VFdmVudExpc3RlbmVyKTtcbiAgICBzZXJ2ZXJSZXNwb25zZS5vbmNlKCdmaW5pc2gnLCAoKSA9PiB7XG4gICAgICAgIHNlcnZlclJlc3BvbnNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsb3NlRXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIHNlcnZlclJlc3BvbnNlLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGNsb3NlRXZlbnRMaXN0ZW5lcik7XG4gICAgfSk7XG4gICAgY29uc3QgaXRlcmF0b3IgPSBhc3luY0l0ZXJhYmxlW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgIHJldHVybiBwdW1wVG9Xcml0YWJsZSgoKSA9PiBpdGVyYXRvci5uZXh0KCksIHNlcnZlclJlc3BvbnNlLCAoKSA9PiBjbG9zZWQpO1xufVxuZnVuY3Rpb24gZW5kRGVzdChkZXN0KSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciBBdm9pZCBhcmd1bWVudHMgYWRhcHRvciB0cmFtcG9saW5lIGh0dHBzOi8vdjguZGV2L2Jsb2cvYWRhcHRvci1mcmFtZVxuICAgIGRlc3QuZW5kKG51bGwsIG51bGwsIG51bGwpO1xufVxuZnVuY3Rpb24gcHVtcFRvV3JpdGFibGUoc291cmNlLCBkZXN0LCBpc0Nsb3NlZCkge1xuICAgIGNvbnN0IHB1bXAgPSAoKSA9PiBoYW5kbGVNYXliZVByb21pc2Uoc291cmNlLCBzb3VyY2VSZXN1bHQgPT4ge1xuICAgICAgICBpZiAoaXNDbG9zZWQ/LigpIHx8IHNvdXJjZVJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5kRGVzdChkZXN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlTWF5YmVQcm9taXNlKCgpID0+IHNhZmVXcml0ZShzb3VyY2VSZXN1bHQudmFsdWUsIGRlc3QpLCAoKSA9PiAoaXNDbG9zZWQ/LigpID8gZW5kRGVzdChkZXN0KSA6IHB1bXAoKSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBwdW1wKCk7XG59XG5mdW5jdGlvbiBzYWZlV3JpdGUoY2h1bmssIGRlc3RpbmF0aW9uKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gZGVzdGluYXRpb24ud3JpdGUoY2h1bmspO1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IGRlc3RpbmF0aW9uLm9uY2UoJ2RyYWluJywgcmVzb2x2ZSkpO1xuICAgIH1cbn1cbmNvbnN0IGlzTm9kZTF4ID0gZ2xvYmFsVGhpcy5wcm9jZXNzPy52ZXJzaW9ucz8ubm9kZT8uc3RhcnRzV2l0aCgnMScpO1xuZXhwb3J0IGZ1bmN0aW9uIHNlbmROb2RlUmVzcG9uc2UoZmV0Y2hSZXNwb25zZSwgc2VydmVyUmVzcG9uc2UsIG5vZGVSZXF1ZXN0LCBfX3VzZVNpbmdsZVdyaXRlSGVhZCkge1xuICAgIGlmIChzZXJ2ZXJSZXNwb25zZS5jbG9zZWQgfHwgc2VydmVyUmVzcG9uc2UuZGVzdHJveWVkIHx8IHNlcnZlclJlc3BvbnNlLndyaXRhYmxlRW5kZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWZldGNoUmVzcG9uc2UpIHtcbiAgICAgICAgc2VydmVyUmVzcG9uc2Uuc3RhdHVzQ29kZSA9IDQwNDtcbiAgICAgICAgZW5kUmVzcG9uc2Uoc2VydmVyUmVzcG9uc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChfX3VzZVNpbmdsZVdyaXRlSGVhZCAmJlxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gaGVhZGVyc0luaXQgaXMgYSBwcml2YXRlIHByb3BlcnR5XG4gICAgICAgIGZldGNoUmVzcG9uc2UuaGVhZGVycz8uaGVhZGVyc0luaXQgJiZcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIGhlYWRlcnNJbml0IGlzIGEgcHJpdmF0ZSBwcm9wZXJ0eVxuICAgICAgICAhQXJyYXkuaXNBcnJheShmZXRjaFJlc3BvbnNlLmhlYWRlcnMuaGVhZGVyc0luaXQpICYmXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBoZWFkZXJzSW5pdCBpcyBhIHByaXZhdGUgcHJvcGVydHlcbiAgICAgICAgIWZldGNoUmVzcG9uc2UuaGVhZGVycy5oZWFkZXJzSW5pdC5nZXQgJiZcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIG1hcCBpcyBhIHByaXZhdGUgcHJvcGVydHlcbiAgICAgICAgIWZldGNoUmVzcG9uc2UuaGVhZGVycy5fbWFwICYmXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBfc2V0Q29va2llcyBpcyBhIHByaXZhdGUgcHJvcGVydHlcbiAgICAgICAgIWZldGNoUmVzcG9uc2UuaGVhZGVycy5fc2V0Q29va2llcz8ubGVuZ3RoKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSB3cml0ZUhlYWQgYWNjZXB0cyBoZWFkZXJzIG9iamVjdFxuICAgICAgICBzZXJ2ZXJSZXNwb25zZS53cml0ZUhlYWQoZmV0Y2hSZXNwb25zZS5zdGF0dXMsIGZldGNoUmVzcG9uc2Uuc3RhdHVzVGV4dCwgXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBoZWFkZXJzSW5pdCBpcyBhIHByaXZhdGUgcHJvcGVydHlcbiAgICAgICAgZmV0Y2hSZXNwb25zZS5oZWFkZXJzLmhlYWRlcnNJbml0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIEF2b2lkIHVzaW5nIGBzZXRIZWFkZXJzYCBvbiBOb2RlLmpzIDE4IGFzIGl0IGlzIGJyb2tlbiB3aXRoIG11bHRpcGxlIGhlYWRlcnMgd2l0aCB0aGUgc2FtZSBuYW1lXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBzZXRIZWFkZXJzIGV4aXN0XG4gICAgICAgIGlmIChzZXJ2ZXJSZXNwb25zZS5zZXRIZWFkZXJzICYmICFpc05vZGUxeCkge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIHdyaXRlSGVhZCBiYWQgdHlwaW5nc1xuICAgICAgICAgICAgc2VydmVyUmVzcG9uc2Uuc2V0SGVhZGVycyhmZXRjaFJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNldENvb2tpZXNTZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZldGNoUmVzcG9uc2UuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXRDb29raWVzU2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0Q29va2llc1NldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNldENvb2tpZXMgPSBmZXRjaFJlc3BvbnNlLmhlYWRlcnMuZ2V0U2V0Q29va2llPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldENvb2tpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclJlc3BvbnNlLnNldEhlYWRlcignc2V0LWNvb2tpZScsIHNldENvb2tpZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlcnZlclJlc3BvbnNlLnNldEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSB3cml0ZUhlYWQgYmFkIHR5cGluZ3NcbiAgICAgICAgc2VydmVyUmVzcG9uc2Uud3JpdGVIZWFkKGZldGNoUmVzcG9uc2Uuc3RhdHVzLCBmZXRjaFJlc3BvbnNlLnN0YXR1c1RleHQpO1xuICAgIH1cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gSGFuZGxlIHRoZSBjYXNlIHdoZXJlIHRoZSByZXNwb25zZSBpcyBhIHN0cmluZ1xuICAgIGlmIChmZXRjaFJlc3BvbnNlWydib2R5VHlwZSddID09PSAnU3RyaW5nJykge1xuICAgICAgICBjb25zdCBib2R5U3RyaW5nID0gXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBib2R5SW5pdCBpcyBhIHByaXZhdGUgcHJvcGVydHlcbiAgICAgICAgZmV0Y2hSZXNwb25zZVsnYm9keUluaXQnXTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiBzYWZlV3JpdGUoYm9keVN0cmluZywgc2VydmVyUmVzcG9uc2UpLCAoKSA9PiBlbmRSZXNwb25zZShzZXJ2ZXJSZXNwb25zZSkpO1xuICAgIH1cbiAgICAvLyBPcHRpbWl6YXRpb25zIGZvciBub2RlLWZldGNoXG4gICAgY29uc3QgYnVmT2ZSZXMgPSBcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gX2J1ZmZlciBpcyBhIHByaXZhdGUgcHJvcGVydHlcbiAgICBmZXRjaFJlc3BvbnNlLl9idWZmZXI7XG4gICAgaWYgKGJ1Zk9mUmVzKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVNYXliZVByb21pc2UoKCkgPT4gc2FmZVdyaXRlKGJ1Zk9mUmVzLCBzZXJ2ZXJSZXNwb25zZSksICgpID0+IGVuZFJlc3BvbnNlKHNlcnZlclJlc3BvbnNlKSk7XG4gICAgfVxuICAgIC8vIE90aGVyIGZldGNoIGltcGxlbWVudGF0aW9uc1xuICAgIGNvbnN0IGZldGNoQm9keSA9IGZldGNoUmVzcG9uc2UuYm9keTtcbiAgICBpZiAoZmV0Y2hCb2R5ID09IG51bGwpIHtcbiAgICAgICAgZW5kUmVzcG9uc2Uoc2VydmVyUmVzcG9uc2UpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIC0gVWludDhBcnJheSBpcyBhIHZhbGlkIGJvZHkgdHlwZVxuICAgIGZldGNoQm9keVtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnVWludDhBcnJheScpIHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZU1heWJlUHJvbWlzZSgoKSA9PiBzYWZlV3JpdGUoZmV0Y2hCb2R5LCBzZXJ2ZXJSZXNwb25zZSksICgpID0+IGVuZFJlc3BvbnNlKHNlcnZlclJlc3BvbnNlKSk7XG4gICAgfVxuICAgIGNvbmZpZ3VyZVNvY2tldChub2RlUmVxdWVzdCk7XG4gICAgaWYgKGlzUmVhZGFibGUoZmV0Y2hCb2R5KSkge1xuICAgICAgICBzZXJ2ZXJSZXNwb25zZS5vbmNlKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgIGZldGNoQm9keS5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBmZXRjaEJvZHkucGlwZShzZXJ2ZXJSZXNwb25zZSwge1xuICAgICAgICAgICAgZW5kOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbShmZXRjaEJvZHkpKSB7XG4gICAgICAgIHJldHVybiBzZW5kUmVhZGFibGVTdHJlYW0obm9kZVJlcXVlc3QsIHNlcnZlclJlc3BvbnNlLCBmZXRjaEJvZHkpO1xuICAgIH1cbiAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGZldGNoQm9keSkpIHtcbiAgICAgICAgcmV0dXJuIHNlbmRBc3luY0l0ZXJhYmxlKHNlcnZlclJlc3BvbnNlLCBmZXRjaEJvZHkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbmRSZWFkYWJsZVN0cmVhbShub2RlUmVxdWVzdCwgc2VydmVyUmVzcG9uc2UsIHJlYWRhYmxlU3RyZWFtKSB7XG4gICAgY29uc3QgcmVhZGVyID0gcmVhZGFibGVTdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgbm9kZVJlcXVlc3Q/Lm9uY2U/LignZXJyb3InLCBlcnIgPT4ge1xuICAgICAgICByZWFkZXIuY2FuY2VsKGVycik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHB1bXBUb1dyaXRhYmxlKCgpID0+IHJlYWRlci5yZWFkKCksIHNlcnZlclJlc3BvbnNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1JlcXVlc3RJbml0KHZhbCkge1xuICAgIHJldHVybiAodmFsICE9IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgKCdib2R5JyBpbiB2YWwgfHxcbiAgICAgICAgICAgICdjYWNoZScgaW4gdmFsIHx8XG4gICAgICAgICAgICAnY3JlZGVudGlhbHMnIGluIHZhbCB8fFxuICAgICAgICAgICAgJ2hlYWRlcnMnIGluIHZhbCB8fFxuICAgICAgICAgICAgJ2ludGVncml0eScgaW4gdmFsIHx8XG4gICAgICAgICAgICAna2VlcGFsaXZlJyBpbiB2YWwgfHxcbiAgICAgICAgICAgICdtZXRob2QnIGluIHZhbCB8fFxuICAgICAgICAgICAgJ21vZGUnIGluIHZhbCB8fFxuICAgICAgICAgICAgJ3JlZGlyZWN0JyBpbiB2YWwgfHxcbiAgICAgICAgICAgICdyZWZlcnJlcicgaW4gdmFsIHx8XG4gICAgICAgICAgICAncmVmZXJyZXJQb2xpY3knIGluIHZhbCB8fFxuICAgICAgICAgICAgJ3NpZ25hbCcgaW4gdmFsIHx8XG4gICAgICAgICAgICAnd2luZG93JyBpbiB2YWwpKTtcbn1cbi8vIGZyb20gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnbiNjb3B5aW5nX2FjY2Vzc29yc1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBsZXRlQXNzaWduKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbdGFyZ2V0LCAuLi5zb3VyY2VzXSA9IGFyZ3MuZmlsdGVyKGFyZyA9PiBhcmcgIT0gbnVsbCAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0Jyk7XG4gICAgc291cmNlcy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgIC8vIG1vZGlmaWVkIE9iamVjdC5rZXlzIHRvIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzXG4gICAgICAgIC8vIGJlY2F1c2UgT2JqZWN0LmtleXMgb25seSByZXR1cm5zIGVudW1lcmFibGUgcHJvcGVydGllc1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZSkucmVkdWNlKChkZXNjcmlwdG9ycywga2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSk7XG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3JzW2tleV0gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9ycztcbiAgICAgICAgfSwge30pO1xuICAgICAgICAvLyBCeSBkZWZhdWx0LCBPYmplY3QuYXNzaWduIGNvcGllcyBlbnVtZXJhYmxlIFN5bWJvbHMsIHRvb1xuICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSkuZm9yRWFjaChzeW0gPT4ge1xuICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBzeW0pO1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3I/LmVudW1lcmFibGUpIHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdG9yc1tzeW1dID0gZGVzY3JpcHRvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgZGVzY3JpcHRvcnMpO1xuICAgIH0pO1xuICAgIHJldHVybiB0YXJnZXQ7XG59XG5leHBvcnQgeyBpdGVyYXRlQXN5bmNWb2lkIH0gZnJvbSAnQHdoYXR3Zy1ub2RlL3Byb21pc2UtaGVscGVycyc7XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRXJyb3JGcm9tUmVxdWVzdEhhbmRsZXIoZXJyb3IsIFJlc3BvbnNlQ3Rvcikge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2VDdG9yKGVycm9yLnN0YWNrIHx8IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKSwge1xuICAgICAgICBzdGF0dXM6IGVycm9yLnN0YXR1cyB8fCA1MDAsXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNvbGF0ZU9iamVjdChvcmlnaW5hbEN0eCwgd2FpdFVudGlsRm4pIHtcbiAgICBpZiAob3JpZ2luYWxDdHggPT0gbnVsbCkge1xuICAgICAgICBpZiAod2FpdFVudGlsRm4gPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3YWl0VW50aWw6IHdhaXRVbnRpbEZuLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY29tcGxldGVBc3NpZ24oT2JqZWN0LmNyZWF0ZShvcmlnaW5hbEN0eCksIHtcbiAgICAgICAgd2FpdFVudGlsOiB3YWl0VW50aWxGbixcbiAgICB9LCBvcmlnaW5hbEN0eCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlQWJvcnRTaWduYWxBbmRQcm9taXNlUmVzcG9uc2UocmVzcG9uc2UkLCBhYm9ydFNpZ25hbCkge1xuICAgIGlmIChhYm9ydFNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICB0aHJvdyBhYm9ydFNpZ25hbC5yZWFzb247XG4gICAgfVxuICAgIGlmIChpc1Byb21pc2UocmVzcG9uc2UkKSAmJiBhYm9ydFNpZ25hbCkge1xuICAgICAgICBjb25zdCBkZWZlcnJlZCQgPSBjcmVhdGVEZWZlcnJlZFByb21pc2UoKTtcbiAgICAgICAgZnVuY3Rpb24gYWJvcnRTaWduYWxGZXRjaEVycm9ySGFuZGxlcigpIHtcbiAgICAgICAgICAgIGRlZmVycmVkJC5yZWplY3QoYWJvcnRTaWduYWwucmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICBhYm9ydFNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0U2lnbmFsRmV0Y2hFcnJvckhhbmRsZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgcmVzcG9uc2UkXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiBmZXRjaFN1Y2Nlc3NIYW5kbGVyKHJlcykge1xuICAgICAgICAgICAgZGVmZXJyZWQkLnJlc29sdmUocmVzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiBmZXRjaEVycm9ySGFuZGxlcihlcnIpIHtcbiAgICAgICAgICAgIGRlZmVycmVkJC5yZWplY3QoZXJyKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIGFib3J0U2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRTaWduYWxGZXRjaEVycm9ySGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQkLnByb21pc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZSQ7XG59XG5leHBvcnQgY29uc3QgZGVjb21wcmVzc2VkUmVzcG9uc2VNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3Qgc3VwcG9ydGVkRW5jb2RpbmdzQnlGZXRjaEFQSSA9IG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VwcG9ydGVkRW5jb2RpbmdzKGZldGNoQVBJKSB7XG4gICAgbGV0IHN1cHBvcnRlZEVuY29kaW5ncyA9IHN1cHBvcnRlZEVuY29kaW5nc0J5RmV0Y2hBUEkuZ2V0KGZldGNoQVBJKTtcbiAgICBpZiAoIXN1cHBvcnRlZEVuY29kaW5ncykge1xuICAgICAgICBjb25zdCBwb3NzaWJsZUVuY29kaW5ncyA9IFtcbiAgICAgICAgICAgICdkZWZsYXRlJyxcbiAgICAgICAgICAgICdnemlwJyxcbiAgICAgICAgICAgICdkZWZsYXRlLXJhdycsXG4gICAgICAgICAgICAnYnInLFxuICAgICAgICAgICAgJ3pzdGQnLFxuICAgICAgICBdO1xuICAgICAgICBpZiAoZmV0Y2hBUEkuRGVjb21wcmVzc2lvblN0cmVhbT8uWydzdXBwb3J0ZWRGb3JtYXRzJ10pIHtcbiAgICAgICAgICAgIHN1cHBvcnRlZEVuY29kaW5ncyA9IGZldGNoQVBJLkRlY29tcHJlc3Npb25TdHJlYW1bJ3N1cHBvcnRlZEZvcm1hdHMnXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN1cHBvcnRlZEVuY29kaW5ncyA9IHBvc3NpYmxlRW5jb2RpbmdzLmZpbHRlcihlbmNvZGluZyA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZGVmbGF0ZS1yYXcgaXMgbm90IHN1cHBvcnRlZCBpbiBOb2RlLmpzID52MjBcbiAgICAgICAgICAgICAgICBpZiAoZ2xvYmFsVGhpcy5wcm9jZXNzPy52ZXJzaW9uPy5zdGFydHNXaXRoKCd2MicpICYmXG4gICAgICAgICAgICAgICAgICAgIGZldGNoQVBJLkRlY29tcHJlc3Npb25TdHJlYW0gPT09IGdsb2JhbFRoaXMuRGVjb21wcmVzc2lvblN0cmVhbSAmJlxuICAgICAgICAgICAgICAgICAgICBlbmNvZGluZyA9PT0gJ2RlZmxhdGUtcmF3Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXdcbiAgICAgICAgICAgICAgICAgICAgbmV3IGZldGNoQVBJLkRlY29tcHJlc3Npb25TdHJlYW0oZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwcG9ydGVkRW5jb2RpbmdzQnlGZXRjaEFQSS5zZXQoZmV0Y2hBUEksIHN1cHBvcnRlZEVuY29kaW5ncyk7XG4gICAgfVxuICAgIHJldHVybiBzdXBwb3J0ZWRFbmNvZGluZ3M7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2VEZWNvbXByZXNzaW9uKHJlc3BvbnNlLCBmZXRjaEFQSSkge1xuICAgIGNvbnN0IGNvbnRlbnRFbmNvZGluZ0hlYWRlciA9IHJlc3BvbnNlPy5oZWFkZXJzLmdldCgnY29udGVudC1lbmNvZGluZycpO1xuICAgIGlmICghY29udGVudEVuY29kaW5nSGVhZGVyIHx8IGNvbnRlbnRFbmNvZGluZ0hlYWRlciA9PT0gJ25vbmUnKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZT8uYm9keSkge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIGxldCBkZWNvbXByZXNzZWRSZXNwb25zZSA9IGRlY29tcHJlc3NlZFJlc3BvbnNlTWFwLmdldChyZXNwb25zZSk7XG4gICAgaWYgKCFkZWNvbXByZXNzZWRSZXNwb25zZSB8fCBkZWNvbXByZXNzZWRSZXNwb25zZS5ib2R5VXNlZCkge1xuICAgICAgICBsZXQgZGVjb21wcmVzc2VkQm9keSA9IHJlc3BvbnNlLmJvZHk7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRFbmNvZGluZ3MgPSBjb250ZW50RW5jb2RpbmdIZWFkZXIuc3BsaXQoJywnKTtcbiAgICAgICAgaWYgKCFjb250ZW50RW5jb2RpbmdzLmV2ZXJ5KGVuY29kaW5nID0+IGdldFN1cHBvcnRlZEVuY29kaW5ncyhmZXRjaEFQSSkuaW5jbHVkZXMoZW5jb2RpbmcpKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBmZXRjaEFQSS5SZXNwb25zZShgVW5zdXBwb3J0ZWQgJ0NvbnRlbnQtRW5jb2RpbmcnOiAke2NvbnRlbnRFbmNvZGluZ0hlYWRlcn1gLCB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MTUsXG4gICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogJ1Vuc3VwcG9ydGVkIE1lZGlhIFR5cGUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjb250ZW50RW5jb2Rpbmcgb2YgY29udGVudEVuY29kaW5ncykge1xuICAgICAgICAgICAgZGVjb21wcmVzc2VkQm9keSA9IGRlY29tcHJlc3NlZEJvZHkucGlwZVRocm91Z2gobmV3IGZldGNoQVBJLkRlY29tcHJlc3Npb25TdHJlYW0oY29udGVudEVuY29kaW5nKSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVjb21wcmVzc2VkUmVzcG9uc2UgPSBuZXcgZmV0Y2hBUEkuUmVzcG9uc2UoZGVjb21wcmVzc2VkQm9keSwgcmVzcG9uc2UpO1xuICAgICAgICBkZWNvbXByZXNzZWRSZXNwb25zZU1hcC5zZXQocmVzcG9uc2UsIGRlY29tcHJlc3NlZFJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlY29tcHJlc3NlZFJlc3BvbnNlO1xufVxuY29uc3QgdGVybWluYXRlRXZlbnRzID0gWydTSUdJTlQnLCAnZXhpdCcsICdTSUdURVJNJ107XG5jb25zdCBkaXNwb3NhYmxlU3RhY2tzID0gbmV3IFNldCgpO1xubGV0IGV2ZW50TGlzdGVuZXJSZWdpc3RlcmVkID0gZmFsc2U7XG5mdW5jdGlvbiBlbnN1cmVFdmVudExpc3RlbmVyRm9yRGlzcG9zYWJsZVN0YWNrcygpIHtcbiAgICBpZiAoZXZlbnRMaXN0ZW5lclJlZ2lzdGVyZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBldmVudExpc3RlbmVyUmVnaXN0ZXJlZCA9IHRydWU7XG4gICAgZm9yIChjb25zdCBldmVudCBvZiB0ZXJtaW5hdGVFdmVudHMpIHtcbiAgICAgICAgZ2xvYmFsVGhpcy5wcm9jZXNzLm9uY2UoZXZlbnQsIGZ1bmN0aW9uIHRlcm1pbmF0ZUhhbmRsZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGxTZXR0bGVkKFsuLi5kaXNwb3NhYmxlU3RhY2tzXS5tYXAoc3RhY2sgPT4gIXN0YWNrLmRpc3Bvc2VkICYmIHN0YWNrLmRpc3Bvc2VBc3luYygpKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVEaXNwb3NhYmxlU3RhY2tSZWdpc3RlcmVkRm9yVGVybWluYXRlRXZlbnRzKGRpc3Bvc2FibGVTdGFjaykge1xuICAgIGlmIChnbG9iYWxUaGlzLnByb2Nlc3MpIHtcbiAgICAgICAgZW5zdXJlRXZlbnRMaXN0ZW5lckZvckRpc3Bvc2FibGVTdGFja3MoKTtcbiAgICAgICAgaWYgKCFkaXNwb3NhYmxlU3RhY2tzLmhhcyhkaXNwb3NhYmxlU3RhY2spKSB7XG4gICAgICAgICAgICBkaXNwb3NhYmxlU3RhY2tzLmFkZChkaXNwb3NhYmxlU3RhY2spO1xuICAgICAgICAgICAgZGlzcG9zYWJsZVN0YWNrLmRlZmVyKCgpID0+IHtcbiAgICAgICAgICAgICAgICBkaXNwb3NhYmxlU3RhY2tzLmRlbGV0ZShkaXNwb3NhYmxlU3RhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBDdXN0b21BYm9ydENvbnRyb2xsZXJTaWduYWwgZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gICAgYWJvcnRlZCA9IGZhbHNlO1xuICAgIF9vbmFib3J0ID0gbnVsbDtcbiAgICBfcmVhc29uO1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBjb25zdCBub2RlRXZlbnRzID0gZ2xvYmFsVGhpcy5wcm9jZXNzPy5nZXRCdWlsdGluTW9kdWxlPy4oJ25vZGU6ZXZlbnRzJyk7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBXZSBrbm93IGtNYXhFdmVudFRhcmdldExpc3RlbmVycyBpcyBhdmFpbGFibGUgaW4gbm9kZTpldmVudHNcbiAgICAgICAgaWYgKG5vZGVFdmVudHM/LmtNYXhFdmVudFRhcmdldExpc3RlbmVycykge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvcHVsbC81NTgxNi9maWxlcyNkaWZmLTAzYmQ0ZjA3YTEwMDZjYjBkYWFkZGNlZDcwMjg1ODc1MWIyMGY1YWI3NjgxY2IwNzE5YzFiMWQ4MGQ2Y2EwNWNSMzFcbiAgICAgICAgICAgIHRoaXNbbm9kZUV2ZW50cy5rTWF4RXZlbnRUYXJnZXRMaXN0ZW5lcnNdID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvd0lmQWJvcnRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX25hdGl2ZUN0cmw/LnNpZ25hbD8udGhyb3dJZkFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVDdHJsLnNpZ25hbC50aHJvd0lmQWJvcnRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMuX3JlYXNvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfbmF0aXZlQ3RybDtcbiAgICBlbnN1cmVOYXRpdmVDdHJsKCkge1xuICAgICAgICBpZiAoIXRoaXMuX25hdGl2ZUN0cmwpIHtcbiAgICAgICAgICAgIGNvbnN0IGlzQWJvcnRlZCA9IHRoaXMuYWJvcnRlZDtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUN0cmwgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgICAgICBpZiAoaXNBYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmF0aXZlQ3RybC5hYm9ydCh0aGlzLl9yZWFzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9uYXRpdmVDdHJsO1xuICAgIH1cbiAgICBhYm9ydChyZWFzb24pIHtcbiAgICAgICAgaWYgKHRoaXMuX25hdGl2ZUN0cmw/LmFib3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQ3RybD8uYWJvcnQocmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZWFzb24gPSByZWFzb24gfHwgbmV3IERPTUV4Y2VwdGlvbignVGhpcyBvcGVyYXRpb24gd2FzIGFib3J0ZWQnLCAnQWJvcnRFcnJvcicpO1xuICAgICAgICB0aGlzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdhYm9ydCcpKTtcbiAgICB9XG4gICAgZ2V0IHNpZ25hbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX25hdGl2ZUN0cmw/LnNpZ25hbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX25hdGl2ZUN0cmwuc2lnbmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXQgcmVhc29uKCkge1xuICAgICAgICBpZiAodGhpcy5fbmF0aXZlQ3RybD8uc2lnbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmF0aXZlQ3RybC5zaWduYWwucmVhc29uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFzb247XG4gICAgfVxuICAgIGdldCBvbmFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy5fb25hYm9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29uYWJvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX29uYWJvcnQ7XG4gICAgfVxuICAgIHNldCBvbmFib3J0KHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9uYXRpdmVDdHJsPy5zaWduYWwpIHtcbiAgICAgICAgICAgIHRoaXMuX25hdGl2ZUN0cmwuc2lnbmFsLm9uYWJvcnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb25hYm9ydCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX29uYWJvcnQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29uYWJvcnQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUN1c3RvbUFib3J0Q29udHJvbGxlclNpZ25hbCgpIHtcbiAgICBpZiAoZ2xvYmFsVGhpcy5CdW4gfHwgZ2xvYmFsVGhpcy5EZW5vKSB7XG4gICAgICAgIHJldHVybiBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJveHkobmV3IEN1c3RvbUFib3J0Q29udHJvbGxlclNpZ25hbCgpLCB7XG4gICAgICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgICBpZiAocHJvcC50b1N0cmluZygpLmluY2x1ZGVzKCdrRGVwZW5kYW50U2lnbmFscycpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlQ3RybCA9IHRhcmdldC5lbnN1cmVOYXRpdmVDdHJsKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0KG5hdGl2ZUN0cmwuc2lnbmFsLCBwcm9wLCBuYXRpdmVDdHJsLnNpZ25hbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcikge1xuICAgICAgICAgICAgaWYgKHByb3AudG9TdHJpbmcoKS5pbmNsdWRlcygna0RlcGVuZGFudFNpZ25hbHMnKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUN0cmwgPSB0YXJnZXQuZW5zdXJlTmF0aXZlQ3RybCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldChuYXRpdmVDdHJsLnNpZ25hbCwgcHJvcCwgdmFsdWUsIG5hdGl2ZUN0cmwuc2lnbmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0LnNldCh0YXJnZXQsIHByb3AsIHZhbHVlLCByZWNlaXZlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFByb3RvdHlwZU9mKCkge1xuICAgICAgICAgICAgcmV0dXJuIEFib3J0U2lnbmFsLnByb3RvdHlwZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/esm/utils.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@whatwg-node/server/esm/uwebsockets.js":
/*!*************************************************************!*\
  !*** ./node_modules/@whatwg-node/server/esm/uwebsockets.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createWritableFromUWS: () => (/* binding */ createWritableFromUWS),\n/* harmony export */   fakePromise: () => (/* reexport safe */ _whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.fakePromise),\n/* harmony export */   getRequestFromUWSRequest: () => (/* binding */ getRequestFromUWSRequest),\n/* harmony export */   isUWSResponse: () => (/* binding */ isUWSResponse),\n/* harmony export */   sendResponseToUwsOpts: () => (/* binding */ sendResponseToUwsOpts)\n/* harmony export */ });\n/* harmony import */ var _whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @whatwg-node/promise-helpers */ \"(rsc)/./node_modules/@whatwg-node/promise-helpers/esm/index.js\");\n\nfunction isUWSResponse(res) {\n    return !!res.onData;\n}\nfunction getRequestFromUWSRequest({ req, res, fetchAPI, controller, }) {\n    const method = req.getMethod();\n    let duplex;\n    const chunks = [];\n    const pushFns = [\n        (chunk) => {\n            chunks.push(chunk);\n        },\n    ];\n    const push = (chunk) => {\n        for (const pushFn of pushFns) {\n            pushFn(chunk);\n        }\n    };\n    let stopped = false;\n    const stopFns = [\n        () => {\n            stopped = true;\n        },\n    ];\n    const stop = () => {\n        for (const stopFn of stopFns) {\n            stopFn();\n        }\n    };\n    res.onData(function (ab, isLast) {\n        push(Buffer.from(Buffer.from(ab, 0, ab.byteLength)));\n        if (isLast) {\n            stop();\n        }\n    });\n    let getReadableStream;\n    if (method !== 'get' && method !== 'head') {\n        duplex = 'half';\n        controller.signal.addEventListener('abort', () => {\n            stop();\n        }, { once: true });\n        let readableStream;\n        getReadableStream = () => {\n            if (!readableStream) {\n                readableStream = new fetchAPI.ReadableStream({\n                    start(streamCtrl) {\n                        for (const chunk of chunks) {\n                            streamCtrl.enqueue(chunk);\n                        }\n                        if (stopped) {\n                            streamCtrl.close();\n                            return;\n                        }\n                        pushFns.push((chunk) => {\n                            streamCtrl.enqueue(chunk);\n                        });\n                        stopFns.push(() => {\n                            if (controller.signal.reason) {\n                                streamCtrl.error(controller.signal.reason);\n                                return;\n                            }\n                            if (streamCtrl.desiredSize) {\n                                streamCtrl.close();\n                            }\n                        });\n                    },\n                });\n            }\n            return readableStream;\n        };\n    }\n    const headers = new fetchAPI.Headers();\n    req.forEach((key, value) => {\n        headers.append(key, value);\n    });\n    let url = `http://localhost${req.getUrl()}`;\n    const query = req.getQuery();\n    if (query) {\n        url += `?${query}`;\n    }\n    let buffer;\n    function getBody() {\n        if (!getReadableStream) {\n            return null;\n        }\n        if (stopped) {\n            return getBufferFromChunks();\n        }\n        return getReadableStream();\n    }\n    const request = new fetchAPI.Request(url, {\n        method,\n        headers,\n        get body() {\n            return getBody();\n        },\n        signal: controller.signal,\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore - not in the TS types yet\n        duplex,\n    });\n    function getBufferFromChunks() {\n        if (!buffer) {\n            buffer = chunks.length === 1 ? chunks[0] : Buffer.concat(chunks);\n        }\n        return buffer;\n    }\n    function collectBuffer() {\n        if (stopped) {\n            return (0,_whatwg_node_promise_helpers__WEBPACK_IMPORTED_MODULE_0__.fakePromise)(getBufferFromChunks());\n        }\n        return new Promise((resolve, reject) => {\n            try {\n                stopFns.push(() => {\n                    resolve(getBufferFromChunks());\n                });\n            }\n            catch (e) {\n                reject(e);\n            }\n        });\n    }\n    Object.defineProperties(request, {\n        body: {\n            get() {\n                return getBody();\n            },\n            configurable: true,\n            enumerable: true,\n        },\n        json: {\n            value() {\n                return collectBuffer()\n                    .then(b => b.toString('utf8'))\n                    .then(t => JSON.parse(t));\n            },\n            configurable: true,\n            enumerable: true,\n        },\n        text: {\n            value() {\n                return collectBuffer().then(b => b.toString('utf8'));\n            },\n            configurable: true,\n            enumerable: true,\n        },\n        arrayBuffer: {\n            value() {\n                return collectBuffer();\n            },\n            configurable: true,\n            enumerable: true,\n        },\n    });\n    return request;\n}\nfunction createWritableFromUWS(uwsResponse, fetchAPI) {\n    return new fetchAPI.WritableStream({\n        write(chunk) {\n            uwsResponse.cork(() => {\n                uwsResponse.write(chunk);\n            });\n        },\n        close() {\n            uwsResponse.cork(() => {\n                uwsResponse.end();\n            });\n        },\n    });\n}\nfunction sendResponseToUwsOpts(uwsResponse, fetchResponse, controller, fetchAPI) {\n    if (!fetchResponse) {\n        uwsResponse.writeStatus('404 Not Found');\n        uwsResponse.end();\n        return;\n    }\n    const bufferOfRes = fetchResponse._buffer;\n    // @ts-expect-error - Handle the case where the response is a string\n    const strBody = fetchResponse['bodyType'] === 'String' ? fetchResponse.bodyInit : undefined;\n    if (controller.signal.aborted) {\n        return;\n    }\n    uwsResponse.cork(() => {\n        uwsResponse.writeStatus(`${fetchResponse.status} ${fetchResponse.statusText}`);\n        let isSetCookieHandled = false;\n        for (const [key, value] of fetchResponse.headers) {\n            // content-length causes an error with Node.js's fetch\n            if (key !== 'content-length') {\n                if (key === 'set-cookie') {\n                    if (isSetCookieHandled) {\n                        continue;\n                    }\n                    isSetCookieHandled = true;\n                    const setCookies = fetchResponse.headers.getSetCookie?.();\n                    if (setCookies) {\n                        for (const setCookie of setCookies) {\n                            uwsResponse.writeHeader(key, setCookie);\n                        }\n                        continue;\n                    }\n                }\n                uwsResponse.writeHeader(key, value);\n            }\n        }\n        if (strBody) {\n            uwsResponse.end(strBody);\n        }\n        else if (bufferOfRes) {\n            uwsResponse.end(bufferOfRes);\n        }\n        else if (!fetchResponse.body) {\n            uwsResponse.end();\n        }\n    });\n    if (strBody || bufferOfRes || !fetchResponse.body) {\n        return;\n    }\n    controller.signal.addEventListener('abort', () => {\n        if (!fetchResponse.body?.locked) {\n            fetchResponse.body?.cancel(controller.signal.reason);\n        }\n    }, { once: true });\n    return fetchResponse.body\n        .pipeTo(createWritableFromUWS(uwsResponse, fetchAPI), {\n        signal: controller.signal,\n    })\n        .catch(err => {\n        if (controller.signal.aborted) {\n            return;\n        }\n        throw err;\n    });\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHdoYXR3Zy1ub2RlL3NlcnZlci9lc20vdXdlYnNvY2tldHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTJEO0FBQ3BEO0FBQ1A7QUFDQTtBQUNPLG9DQUFvQyxpQ0FBaUM7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsSUFBSSxZQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlDQUFpQyxhQUFhO0FBQzlDO0FBQ0E7QUFDQSxtQkFBbUIsTUFBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlFQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsc0JBQXNCLEVBQUUseUJBQXlCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUksWUFBWTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1QiIsInNvdXJjZXMiOlsiL1VzZXJzL3RheWxvcndvZmZvcmQvRGVza3RvcC9jeWJlcmRhbGxhc18yMDY5L25vZGVfbW9kdWxlcy9Ad2hhdHdnLW5vZGUvc2VydmVyL2VzbS91d2Vic29ja2V0cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmYWtlUHJvbWlzZSB9IGZyb20gJ0B3aGF0d2ctbm9kZS9wcm9taXNlLWhlbHBlcnMnO1xuZXhwb3J0IGZ1bmN0aW9uIGlzVVdTUmVzcG9uc2UocmVzKSB7XG4gICAgcmV0dXJuICEhcmVzLm9uRGF0YTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZXF1ZXN0RnJvbVVXU1JlcXVlc3QoeyByZXEsIHJlcywgZmV0Y2hBUEksIGNvbnRyb2xsZXIsIH0pIHtcbiAgICBjb25zdCBtZXRob2QgPSByZXEuZ2V0TWV0aG9kKCk7XG4gICAgbGV0IGR1cGxleDtcbiAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICBjb25zdCBwdXNoRm5zID0gW1xuICAgICAgICAoY2h1bmspID0+IHtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgfSxcbiAgICBdO1xuICAgIGNvbnN0IHB1c2ggPSAoY2h1bmspID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBwdXNoRm4gb2YgcHVzaEZucykge1xuICAgICAgICAgICAgcHVzaEZuKGNodW5rKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgbGV0IHN0b3BwZWQgPSBmYWxzZTtcbiAgICBjb25zdCBzdG9wRm5zID0gW1xuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICBdO1xuICAgIGNvbnN0IHN0b3AgPSAoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3Qgc3RvcEZuIG9mIHN0b3BGbnMpIHtcbiAgICAgICAgICAgIHN0b3BGbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXMub25EYXRhKGZ1bmN0aW9uIChhYiwgaXNMYXN0KSB7XG4gICAgICAgIHB1c2goQnVmZmVyLmZyb20oQnVmZmVyLmZyb20oYWIsIDAsIGFiLmJ5dGVMZW5ndGgpKSk7XG4gICAgICAgIGlmIChpc0xhc3QpIHtcbiAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBnZXRSZWFkYWJsZVN0cmVhbTtcbiAgICBpZiAobWV0aG9kICE9PSAnZ2V0JyAmJiBtZXRob2QgIT09ICdoZWFkJykge1xuICAgICAgICBkdXBsZXggPSAnaGFsZic7XG4gICAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4ge1xuICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIGxldCByZWFkYWJsZVN0cmVhbTtcbiAgICAgICAgZ2V0UmVhZGFibGVTdHJlYW0gPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXJlYWRhYmxlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgcmVhZGFibGVTdHJlYW0gPSBuZXcgZmV0Y2hBUEkuUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgICAgICAgICBzdGFydChzdHJlYW1DdHJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNodW5rIG9mIGNodW5rcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUN0cmwuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUN0cmwuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoRm5zLnB1c2goKGNodW5rKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtQ3RybC5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcEZucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlci5zaWduYWwucmVhc29uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUN0cmwuZXJyb3IoY29udHJvbGxlci5zaWduYWwucmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyZWFtQ3RybC5kZXNpcmVkU2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1DdHJsLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVhZGFibGVTdHJlYW07XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgZmV0Y2hBUEkuSGVhZGVycygpO1xuICAgIHJlcS5mb3JFYWNoKChrZXksIHZhbHVlKSA9PiB7XG4gICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgIH0pO1xuICAgIGxldCB1cmwgPSBgaHR0cDovL2xvY2FsaG9zdCR7cmVxLmdldFVybCgpfWA7XG4gICAgY29uc3QgcXVlcnkgPSByZXEuZ2V0UXVlcnkoKTtcbiAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgdXJsICs9IGA/JHtxdWVyeX1gO1xuICAgIH1cbiAgICBsZXQgYnVmZmVyO1xuICAgIGZ1bmN0aW9uIGdldEJvZHkoKSB7XG4gICAgICAgIGlmICghZ2V0UmVhZGFibGVTdHJlYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QnVmZmVyRnJvbUNodW5rcygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBnZXRSZWFkYWJsZVN0cmVhbSgpO1xuICAgIH1cbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IGZldGNoQVBJLlJlcXVlc3QodXJsLCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgZ2V0IGJvZHkoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Qm9keSgpO1xuICAgICAgICB9LFxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgLSBub3QgaW4gdGhlIFRTIHR5cGVzIHlldFxuICAgICAgICBkdXBsZXgsXG4gICAgfSk7XG4gICAgZnVuY3Rpb24gZ2V0QnVmZmVyRnJvbUNodW5rcygpIHtcbiAgICAgICAgaWYgKCFidWZmZXIpIHtcbiAgICAgICAgICAgIGJ1ZmZlciA9IGNodW5rcy5sZW5ndGggPT09IDEgPyBjaHVua3NbMF0gOiBCdWZmZXIuY29uY2F0KGNodW5rcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29sbGVjdEJ1ZmZlcigpIHtcbiAgICAgICAgaWYgKHN0b3BwZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWtlUHJvbWlzZShnZXRCdWZmZXJGcm9tQ2h1bmtzKCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0b3BGbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZ2V0QnVmZmVyRnJvbUNodW5rcygpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocmVxdWVzdCwge1xuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEJvZHkoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBqc29uOiB7XG4gICAgICAgICAgICB2YWx1ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdEJ1ZmZlcigpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGIgPT4gYi50b1N0cmluZygndXRmOCcpKVxuICAgICAgICAgICAgICAgICAgICAudGhlbih0ID0+IEpTT04ucGFyc2UodCkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIHRleHQ6IHtcbiAgICAgICAgICAgIHZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0QnVmZmVyKCkudGhlbihiID0+IGIudG9TdHJpbmcoJ3V0ZjgnKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgYXJyYXlCdWZmZXI6IHtcbiAgICAgICAgICAgIHZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0QnVmZmVyKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVxdWVzdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVXcml0YWJsZUZyb21VV1ModXdzUmVzcG9uc2UsIGZldGNoQVBJKSB7XG4gICAgcmV0dXJuIG5ldyBmZXRjaEFQSS5Xcml0YWJsZVN0cmVhbSh7XG4gICAgICAgIHdyaXRlKGNodW5rKSB7XG4gICAgICAgICAgICB1d3NSZXNwb25zZS5jb3JrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB1d3NSZXNwb25zZS53cml0ZShjaHVuayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgICB1d3NSZXNwb25zZS5jb3JrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB1d3NSZXNwb25zZS5lbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRSZXNwb25zZVRvVXdzT3B0cyh1d3NSZXNwb25zZSwgZmV0Y2hSZXNwb25zZSwgY29udHJvbGxlciwgZmV0Y2hBUEkpIHtcbiAgICBpZiAoIWZldGNoUmVzcG9uc2UpIHtcbiAgICAgICAgdXdzUmVzcG9uc2Uud3JpdGVTdGF0dXMoJzQwNCBOb3QgRm91bmQnKTtcbiAgICAgICAgdXdzUmVzcG9uc2UuZW5kKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgYnVmZmVyT2ZSZXMgPSBmZXRjaFJlc3BvbnNlLl9idWZmZXI7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgcmVzcG9uc2UgaXMgYSBzdHJpbmdcbiAgICBjb25zdCBzdHJCb2R5ID0gZmV0Y2hSZXNwb25zZVsnYm9keVR5cGUnXSA9PT0gJ1N0cmluZycgPyBmZXRjaFJlc3BvbnNlLmJvZHlJbml0IDogdW5kZWZpbmVkO1xuICAgIGlmIChjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXdzUmVzcG9uc2UuY29yaygoKSA9PiB7XG4gICAgICAgIHV3c1Jlc3BvbnNlLndyaXRlU3RhdHVzKGAke2ZldGNoUmVzcG9uc2Uuc3RhdHVzfSAke2ZldGNoUmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgbGV0IGlzU2V0Q29va2llSGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBmZXRjaFJlc3BvbnNlLmhlYWRlcnMpIHtcbiAgICAgICAgICAgIC8vIGNvbnRlbnQtbGVuZ3RoIGNhdXNlcyBhbiBlcnJvciB3aXRoIE5vZGUuanMncyBmZXRjaFxuICAgICAgICAgICAgaWYgKGtleSAhPT0gJ2NvbnRlbnQtbGVuZ3RoJykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNTZXRDb29raWVIYW5kbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc1NldENvb2tpZUhhbmRsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXRDb29raWVzID0gZmV0Y2hSZXNwb25zZS5oZWFkZXJzLmdldFNldENvb2tpZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXRDb29raWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNldENvb2tpZSBvZiBzZXRDb29raWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXdzUmVzcG9uc2Uud3JpdGVIZWFkZXIoa2V5LCBzZXRDb29raWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdXdzUmVzcG9uc2Uud3JpdGVIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ckJvZHkpIHtcbiAgICAgICAgICAgIHV3c1Jlc3BvbnNlLmVuZChzdHJCb2R5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChidWZmZXJPZlJlcykge1xuICAgICAgICAgICAgdXdzUmVzcG9uc2UuZW5kKGJ1ZmZlck9mUmVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghZmV0Y2hSZXNwb25zZS5ib2R5KSB7XG4gICAgICAgICAgICB1d3NSZXNwb25zZS5lbmQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChzdHJCb2R5IHx8IGJ1ZmZlck9mUmVzIHx8ICFmZXRjaFJlc3BvbnNlLmJvZHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IHtcbiAgICAgICAgaWYgKCFmZXRjaFJlc3BvbnNlLmJvZHk/LmxvY2tlZCkge1xuICAgICAgICAgICAgZmV0Y2hSZXNwb25zZS5ib2R5Py5jYW5jZWwoY29udHJvbGxlci5zaWduYWwucmVhc29uKTtcbiAgICAgICAgfVxuICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICByZXR1cm4gZmV0Y2hSZXNwb25zZS5ib2R5XG4gICAgICAgIC5waXBlVG8oY3JlYXRlV3JpdGFibGVGcm9tVVdTKHV3c1Jlc3BvbnNlLCBmZXRjaEFQSSksIHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG59XG5leHBvcnQgeyBmYWtlUHJvbWlzZSB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@whatwg-node/server/esm/uwebsockets.js\n");

/***/ })

};
;